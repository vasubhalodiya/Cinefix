var pA=Object.defineProperty;var gA=(n,e,t)=>e in n?pA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var yA=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Uf=(n,e,t)=>gA(n,typeof e!="symbol"?e+"":e,t);var SD=yA((ND,pc)=>{function vA(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function _A(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pp={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2;function EA(){if(e2)return mu;e2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:l}}return mu.Fragment=e,mu.jsx=t,mu.jsxs=t,mu}var t2;function bA(){return t2||(t2=1,pp.exports=EA()),pp.exports}var T=bA(),gp={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function TA(){if(n2)return Le;n2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function P(A,V,ee){this.props=A,this.context=V,this.refs=j,this.updater=ee||I}P.prototype.isReactComponent={},P.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function B(){}B.prototype=P.prototype;function q(A,V,ee){this.props=A,this.context=V,this.refs=j,this.updater=ee||I}var L=q.prototype=new B;L.constructor=q,z(L,P.prototype),L.isPureReactComponent=!0;var k=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function D(A,V,ee,te,le,ae){return ee=ae.ref,{$$typeof:n,type:A,key:V,ref:ee!==void 0?ee:null,props:ae}}function R(A,V){return D(A.type,V,void 0,void 0,void 0,A.props)}function w(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function C(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ee){return V[ee]})}var N=/\/+/g;function M(A,V){return typeof A=="object"&&A!==null&&A.key!=null?C(""+A.key):V.toString(36)}function x(){}function Z(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(x,x):(A.status="pending",A.then(function(V){A.status==="pending"&&(A.status="fulfilled",A.value=V)},function(V){A.status==="pending"&&(A.status="rejected",A.reason=V)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function de(A,V,ee,te,le){var ae=typeof A;(ae==="undefined"||ae==="boolean")&&(A=null);var me=!1;if(A===null)me=!0;else switch(ae){case"bigint":case"string":case"number":me=!0;break;case"object":switch(A.$$typeof){case n:case e:me=!0;break;case y:return me=A._init,de(me(A._payload),V,ee,te,le)}}if(me)return le=le(A),me=te===""?"."+M(A,0):te,k(le)?(ee="",me!=null&&(ee=me.replace(N,"$&/")+"/"),de(le,V,ee,"",function(Me){return Me})):le!=null&&(w(le)&&(le=R(le,ee+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(N,"$&/")+"/")+me)),V.push(le)),1;me=0;var ge=te===""?".":te+":";if(k(A))for(var _e=0;_e<A.length;_e++)te=A[_e],ae=ge+M(te,_e),me+=de(te,V,ee,ae,le);else if(_e=b(A),typeof _e=="function")for(A=_e.call(A),_e=0;!(te=A.next()).done;)te=te.value,ae=ge+M(te,_e++),me+=de(te,V,ee,ae,le);else if(ae==="object"){if(typeof A.then=="function")return de(Z(A),V,ee,te,le);throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return me}function K(A,V,ee){if(A==null)return A;var te=[],le=0;return de(A,te,"","",function(ae){return V.call(ee,ae,le++)}),te}function ie(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(ee){(A._status===0||A._status===-1)&&(A._status=1,A._result=ee)},function(ee){(A._status===0||A._status===-1)&&(A._status=2,A._result=ee)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var oe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function pe(){}return Le.Children={map:K,forEach:function(A,V,ee){K(A,function(){V.apply(this,arguments)},ee)},count:function(A){var V=0;return K(A,function(){V++}),V},toArray:function(A){return K(A,function(V){return V})||[]},only:function(A){if(!w(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Le.Component=P,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=q,Le.StrictMode=s,Le.Suspense=m,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Le.__COMPILER_RUNTIME={__proto__:null,c:function(A){return H.H.useMemoCache(A)}},Le.cache=function(A){return function(){return A.apply(null,arguments)}},Le.cloneElement=function(A,V,ee){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var te=z({},A.props),le=A.key,ae=void 0;if(V!=null)for(me in V.ref!==void 0&&(ae=void 0),V.key!==void 0&&(le=""+V.key),V)!G.call(V,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&V.ref===void 0||(te[me]=V[me]);var me=arguments.length-2;if(me===1)te.children=ee;else if(1<me){for(var ge=Array(me),_e=0;_e<me;_e++)ge[_e]=arguments[_e+2];te.children=ge}return D(A.type,le,void 0,void 0,ae,te)},Le.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},Le.createElement=function(A,V,ee){var te,le={},ae=null;if(V!=null)for(te in V.key!==void 0&&(ae=""+V.key),V)G.call(V,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=V[te]);var me=arguments.length-2;if(me===1)le.children=ee;else if(1<me){for(var ge=Array(me),_e=0;_e<me;_e++)ge[_e]=arguments[_e+2];le.children=ge}if(A&&A.defaultProps)for(te in me=A.defaultProps,me)le[te]===void 0&&(le[te]=me[te]);return D(A,ae,void 0,void 0,null,le)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(A){return{$$typeof:d,render:A}},Le.isValidElement=w,Le.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:ie}},Le.memo=function(A,V){return{$$typeof:g,type:A,compare:V===void 0?null:V}},Le.startTransition=function(A){var V=H.T,ee={};H.T=ee;try{var te=A(),le=H.S;le!==null&&le(ee,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(pe,oe)}catch(ae){oe(ae)}finally{H.T=V}},Le.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Le.use=function(A){return H.H.use(A)},Le.useActionState=function(A,V,ee){return H.H.useActionState(A,V,ee)},Le.useCallback=function(A,V){return H.H.useCallback(A,V)},Le.useContext=function(A){return H.H.useContext(A)},Le.useDebugValue=function(){},Le.useDeferredValue=function(A,V){return H.H.useDeferredValue(A,V)},Le.useEffect=function(A,V,ee){var te=H.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(A,V)},Le.useId=function(){return H.H.useId()},Le.useImperativeHandle=function(A,V,ee){return H.H.useImperativeHandle(A,V,ee)},Le.useInsertionEffect=function(A,V){return H.H.useInsertionEffect(A,V)},Le.useLayoutEffect=function(A,V){return H.H.useLayoutEffect(A,V)},Le.useMemo=function(A,V){return H.H.useMemo(A,V)},Le.useOptimistic=function(A,V){return H.H.useOptimistic(A,V)},Le.useReducer=function(A,V,ee){return H.H.useReducer(A,V,ee)},Le.useRef=function(A){return H.H.useRef(A)},Le.useState=function(A){return H.H.useState(A)},Le.useSyncExternalStore=function(A,V,ee){return H.H.useSyncExternalStore(A,V,ee)},Le.useTransition=function(){return H.H.useTransition()},Le.version="19.1.0",Le}var i2;function Uh(){return i2||(i2=1,gp.exports=TA()),gp.exports}var F=Uh();const dt=_A(F),SA=vA({__proto__:null,default:dt},[F]);var yp={exports:{}},pu={},vp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2;function wA(){return r2||(r2=1,function(n){function e(K,ie){var oe=K.length;K.push(ie);e:for(;0<oe;){var pe=oe-1>>>1,A=K[pe];if(0<o(A,ie))K[pe]=ie,K[oe]=A,oe=pe;else break e}}function t(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ie=K[0],oe=K.pop();if(oe!==ie){K[0]=oe;e:for(var pe=0,A=K.length,V=A>>>1;pe<V;){var ee=2*(pe+1)-1,te=K[ee],le=ee+1,ae=K[le];if(0>o(te,oe))le<A&&0>o(ae,te)?(K[pe]=ae,K[le]=oe,pe=le):(K[pe]=te,K[ee]=oe,pe=ee);else if(le<A&&0>o(ae,oe))K[pe]=ae,K[le]=oe,pe=le;else break e}}return ie}function o(K,ie){var oe=K.sortIndex-ie.sortIndex;return oe!==0?oe:K.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,_=null,b=3,I=!1,z=!1,j=!1,P=!1,B=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function k(K){for(var ie=t(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=K)s(g),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=t(g)}}function H(K){if(j=!1,k(K),!z)if(t(m)!==null)z=!0,G||(G=!0,M());else{var ie=t(g);ie!==null&&de(H,ie.startTime-K)}}var G=!1,D=-1,R=5,w=-1;function C(){return P?!0:!(n.unstable_now()-w<R)}function N(){if(P=!1,G){var K=n.unstable_now();w=K;var ie=!0;try{e:{z=!1,j&&(j=!1,q(D),D=-1),I=!0;var oe=b;try{t:{for(k(K),_=t(m);_!==null&&!(_.expirationTime>K&&C());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,b=_.priorityLevel;var A=pe(_.expirationTime<=K);if(K=n.unstable_now(),typeof A=="function"){_.callback=A,k(K),ie=!0;break t}_===t(m)&&s(m),k(K)}else s(m);_=t(m)}if(_!==null)ie=!0;else{var V=t(g);V!==null&&de(H,V.startTime-K),ie=!1}}break e}finally{_=null,b=oe,I=!1}ie=void 0}}finally{ie?M():G=!1}}}var M;if(typeof L=="function")M=function(){L(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Z=x.port2;x.port1.onmessage=N,M=function(){Z.postMessage(null)}}else M=function(){B(N,0)};function de(K,ie){D=B(function(){K(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var oe=b;b=ie;try{return K()}finally{b=oe}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=b;b=K;try{return ie()}finally{b=oe}},n.unstable_scheduleCallback=function(K,ie,oe){var pe=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?pe+oe:pe):oe=pe,K){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=oe+A,K={id:y++,callback:ie,priorityLevel:K,startTime:oe,expirationTime:A,sortIndex:-1},oe>pe?(K.sortIndex=oe,e(g,K),t(m)===null&&K===t(g)&&(j?(q(D),D=-1):j=!0,de(H,oe-pe))):(K.sortIndex=A,e(m,K),z||I||(z=!0,G||(G=!0,M()))),K},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(K){var ie=b;return function(){var oe=b;b=ie;try{return K.apply(this,arguments)}finally{b=oe}}}}(_p)),_p}var s2;function AA(){return s2||(s2=1,vp.exports=wA()),vp.exports}var Ep={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function RA(){if(a2)return fn;a2=1;var n=Uh();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},fn.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},fn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},fn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},fn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:I}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},fn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},fn.requestFormReset=function(m){s.d.r(m)},fn.unstable_batchedUpdates=function(m,g){return m(g)},fn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var o2;function _E(){if(o2)return Ep.exports;o2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ep.exports=RA(),Ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2;function CA(){if(l2)return pu;l2=1;var n=AA(),e=Uh(),t=_E();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return d(h),i;if(p===u)return d(h),r;p=p.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=p;else{for(var S=!1,O=h.child;O;){if(O===a){S=!0,a=h,u=p;break}if(O===u){S=!0,u=h,a=p;break}O=O.sibling}if(!S){for(O=p.child;O;){if(O===a){S=!0,a=p,u=h;break}if(O===u){S=!0,u=p,a=h;break}O=O.sibling}if(!S)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),L=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function Z(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case P:return"Profiler";case j:return"StrictMode";case H:return"Suspense";case G:return"SuspenseList";case w:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case L:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case k:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:Z(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return Z(i(r))}catch{}}return null}var de=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},pe=[],A=-1;function V(i){return{current:i}}function ee(i){0>A||(i.current=pe[A],pe[A]=null,A--)}function te(i,r){A++,pe[A]=i.current,i.current=r}var le=V(null),ae=V(null),me=V(null),ge=V(null);function _e(i,r){switch(te(me,r),te(ae,i),te(le,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?I_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=I_(r),i=x_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(le),te(le,i)}function Me(){ee(le),ee(ae),ee(me)}function we(i){i.memoizedState!==null&&te(ge,i);var r=le.current,a=x_(r,i.type);r!==a&&(te(ae,i),te(le,a))}function Te(i){ae.current===i&&(ee(le),ee(ae)),ge.current===i&&(ee(ge),uu._currentValue=oe)}var ke=Object.prototype.hasOwnProperty,We=n.unstable_scheduleCallback,Ae=n.unstable_cancelCallback,ut=n.unstable_shouldYield,ct=n.unstable_requestPaint,Xe=n.unstable_now,kt=n.unstable_getCurrentPriorityLevel,Zt=n.unstable_ImmediatePriority,Pt=n.unstable_UserBlockingPriority,Hn=n.unstable_NormalPriority,ks=n.unstable_LowPriority,Nr=n.unstable_IdlePriority,Dr=n.log,Pa=n.unstable_setDisableYieldValue,mt=null,Je=null;function yn(i){if(typeof Dr=="function"&&Pa(i),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(mt,i)}catch{}}var Vt=Math.clz32?Math.clz32:Hi,Ps=Math.log,Vs=Math.LN2;function Hi(i){return i>>>=0,i===0?32:31-(Ps(i)/Vs|0)|0}var Fi=256,Ls=4194304;function ri(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Va(i,r,a){var u=i.pendingLanes;if(u===0)return 0;var h=0,p=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var O=u&134217727;return O!==0?(u=O&~p,u!==0?h=ri(u):(S&=O,S!==0?h=ri(S):a||(a=O&~i,a!==0&&(h=ri(a))))):(O=u&~p,O!==0?h=ri(O):S!==0?h=ri(S):a||(a=u&~i,a!==0&&(h=ri(a)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:h}function Us(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ul(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var i=Fi;return Fi<<=1,(Fi&4194048)===0&&(Fi=256),i}function fl(){var i=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),i}function Qi(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Gi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function hl(i,r,a,u,h,p){var S=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var O=i.entanglements,Q=i.expirationTimes,J=i.hiddenUpdates;for(a=S&~a;0<a;){var ue=31-Vt(a),fe=1<<ue;O[ue]=0,Q[ue]=-1;var ne=J[ue];if(ne!==null)for(J[ue]=null,ue=0;ue<ne.length;ue++){var re=ne[ue];re!==null&&(re.lane&=-536870913)}a&=~fe}u!==0&&gi(i,u,0),p!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=p&~(S&~r))}function gi(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Vt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194090}function dl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-Vt(a),h=1<<u;h&r|i[u]&r&&(i[u]|=r),a&=~h}}function Or(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function La(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mr(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:$_(i.type))}function gc(i,r){var a=ie.p;try{return ie.p=i,r()}finally{ie.p=a}}var pt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+pt,xt="__reactProps$"+pt,Fn="__reactContainer$"+pt,ml="__reactEvents$"+pt,vd="__reactListeners$"+pt,kr="__reactHandles$"+pt,yc="__reactResources$"+pt,js="__reactMarker$"+pt;function Pr(i){delete i[Lt],delete i[xt],delete i[ml],delete i[vd],delete i[kr]}function Ki(i){var r=i[Lt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Fn]||a[Lt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=M_(i);i!==null;){if(a=i[Lt])return a;i=M_(i)}return r}i=a,a=i.parentNode}return null}function yi(i){if(i=i[Lt]||i[Fn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function vi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function vn(i){var r=i[yc];return r||(r=i[yc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(i){i[js]=!0}var pl=new Set,Ua={};function si(i,r){$i(i,r),$i(i+"Capture",r)}function $i(i,r){for(Ua[i]=r,i=0;i<r.length;i++)pl.add(r[i])}var vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},zs={};function Ec(i){return ke.call(zs,i)?!0:ke.call(_c,i)?!1:vc.test(i)?zs[i]=!0:(_c[i]=!0,!1)}function Vr(i,r,a){if(Ec(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function _i(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Jt(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}var Bs,bc;function Yi(i){if(Bs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Bs=r&&r[1]||"",bc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+i+bc}var ja=!1;function za(i,r){if(!i||ja)return"";ja=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(re){ne=re}i.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],O=p[1];if(S&&O){var Q=S.split(`
`),J=O.split(`
`);for(h=u=0;u<Q.length&&!Q[u].includes("DetermineComponentFrameRoot");)u++;for(;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;if(u===Q.length||h===J.length)for(u=Q.length-1,h=J.length-1;1<=u&&0<=h&&Q[u]!==J[h];)h--;for(;1<=u&&0<=h;u--,h--)if(Q[u]!==J[h]){if(u!==1||h!==1)do if(u--,h--,0>h||Q[u]!==J[h]){var ue=`
`+Q[u].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=u&&0<=h);break}}}finally{ja=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Yi(a):""}function gl(i){switch(i.tag){case 26:case 27:case 5:return Yi(i.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return za(i.type,!1);case 11:return za(i.type.render,!1);case 1:return za(i.type,!0);case 31:return Yi("Activity");default:return""}}function Ba(i){try{var r="";do r+=gl(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _d(i){var r=yl(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function qa(i){i._valueTracker||(i._valueTracker=_d(i))}function vl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=yl(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function qs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ed=/[\n"\\]/g;function Nt(i){return i.replace(Ed,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Dn(i,r,a,u,h,p,S,O){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),r!=null?S==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+_n(r)):i.value!==""+_n(r)&&(i.value=""+_n(r)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),r!=null?Lr(i,S,_n(r)):a!=null?Lr(i,S,_n(a)):u!=null&&i.removeAttribute("value"),h==null&&p!=null&&(i.defaultChecked=!!p),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+_n(O):i.removeAttribute("name")}function Hs(i,r,a,u,h,p,S,O){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+_n(a):"",r=r!=null?""+_n(r):a,O||r===i.value||(i.value=r),i.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=O?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Lr(i,r,a){r==="number"&&qs(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Xi(i,r,a,u){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&u&&(i[a].defaultSelected=!0)}else{for(a=""+_n(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function st(i,r,a){if(r!=null&&(r=""+_n(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+_n(a):""}function Fs(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(de(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=_n(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function Qn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||Qs.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function _l(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&Tc(i,h,u)}else for(var p in r)r.hasOwnProperty(p)&&Tc(i,p,r[p])}function El(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Td=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(i){return Td.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wi=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zi=null,Ji=null;function bl(i){var r=yi(i);if(r&&(i=r.stateNode)){var a=i[xt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Dn(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var h=u[xt]||null;if(!h)throw Error(s(90));Dn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&vl(u)}break e;case"textarea":st(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Xi(i,!!a.multiple,r,!1)}}}var Ei=!1;function Sc(i,r,a){if(Ei)return i(r,a);Ei=!0;try{var u=i(r);return u}finally{if(Ei=!1,(Zi!==null||Ji!==null)&&(yf(),Zi&&(r=Zi,i=Ji,Ji=Zi=null,bl(r),i)))for(r=0;r<i.length;r++)bl(i[r])}}function Gs(i,r){var a=i.stateNode;if(a===null)return null;var u=a[xt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kn=!1;if(ai)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Kn=!1}var bi=null,Ur=null,er=null;function Tl(){if(er)return er;var i,r=Ur,a=r.length,u,h="value"in bi?bi.value:bi.textContent,p=h.length;for(i=0;i<a&&r[i]===h[i];i++);var S=a-i;for(u=1;u<=S&&r[a-u]===h[p-u];u++);return er=h.slice(i,1<u?1-u:void 0)}function Ti(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Si(){return!0}function Sl(){return!1}function Qt(i){function r(a,u,h,p,S){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(a=i[O],this[O]=a?a(p):p[O]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Si:Sl,this.isPropagationStopped=Sl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),r}var tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Qt(tt),$s=y({},tt,{view:0,detail:0}),wc=Qt($s),Qa,Ga,wi,Ys=y({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(Qa=i.screenX-wi.screenX,Ga=i.screenY-wi.screenY):Ga=Qa=0,wi=i),Qa)},movementY:function(i){return"movementY"in i?i.movementY:Ga}}),$n=Qt(Ys),Ac=y({},Ys,{dataTransfer:0}),Sd=Qt(Ac),Xs=y({},$s,{relatedTarget:0}),Ka=Qt(Xs),wl=y({},tt,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=Qt(wl),Rc=y({},tt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ya=Qt(Rc),wd=y({},tt,{data:0}),Al=Qt(wd),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ic[i])?!!r[i]:!1}function Zs(){return Rl}var xc=y({},$s,{key:function(i){if(i.key){var r=Ws[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ti(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(i){return i.type==="keypress"?Ti(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ti(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Xa=Qt(xc),Nc=y({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=Qt(Nc),tr=y({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),Dc=Qt(tr),Oc=y({},tt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mc=Qt(Oc),kc=y({},Ys,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=Qt(kc),En=y({},tt,{newState:0,oldState:0}),Pc=Qt(En),Vc=[9,13,27,32],Ai=ai&&"CompositionEvent"in window,f=null;ai&&"documentMode"in document&&(f=document.documentMode);var v=ai&&"TextEvent"in window&&!f,E=ai&&(!Ai||f&&8<f&&11>=f),U=" ",X=!1;function se(i,r){switch(i){case"keyup":return Vc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ge=!1;function Ut(i,r){switch(i){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(X=!0,U);case"textInput":return i=r.data,i===U&&X?null:i;default:return null}}function Ke(i,r){if(Ge)return i==="compositionend"||!Ai&&se(i,r)?(i=Tl(),er=Ur=bi=null,Ge=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Gt[i.type]:r==="textarea"}function nr(i,r,a,u){Zi?Ji?Ji.push(u):Ji=[u]:Zi=u,r=Sf(r,"onChange"),0<r.length&&(a=new Fa("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var en=null,Ri=null;function Il(i){S_(i,0)}function Lc(i){var r=vi(i);if(vl(r))return i}function F0(i,r){if(i==="change")return r}var Q0=!1;if(ai){var Ad;if(ai){var Rd="oninput"in document;if(!Rd){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Rd=typeof G0.oninput=="function"}Ad=Rd}else Ad=!1;Q0=Ad&&(!document.documentMode||9<document.documentMode)}function K0(){en&&(en.detachEvent("onpropertychange",$0),Ri=en=null)}function $0(i){if(i.propertyName==="value"&&Lc(Ri)){var r=[];nr(r,Ri,i,Gn(i)),Sc(Il,r)}}function QS(i,r,a){i==="focusin"?(K0(),en=r,Ri=a,en.attachEvent("onpropertychange",$0)):i==="focusout"&&K0()}function GS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lc(Ri)}function KS(i,r){if(i==="click")return Lc(r)}function $S(i,r){if(i==="input"||i==="change")return Lc(r)}function YS(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var On=typeof Object.is=="function"?Object.is:YS;function xl(i,r){if(On(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!ke.call(r,h)||!On(i[h],r[h]))return!1}return!0}function Y0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function X0(i,r){var a=Y0(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Y0(a)}}function W0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?W0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Z0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=qs(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=qs(i.document)}return r}function Cd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var XS=ai&&"documentMode"in document&&11>=document.documentMode,Za=null,Id=null,Nl=null,xd=!1;function J0(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xd||Za==null||Za!==qs(u)||(u=Za,"selectionStart"in u&&Cd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&xl(Nl,u)||(Nl=u,u=Sf(Id,"onSelect"),0<u.length&&(r=new Fa("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=Za)))}function Js(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var Ja={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},Nd={},ey={};ai&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ea(i){if(Nd[i])return Nd[i];if(!Ja[i])return i;var r=Ja[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in ey)return Nd[i]=r[a];return i}var ty=ea("animationend"),ny=ea("animationiteration"),iy=ea("animationstart"),WS=ea("transitionrun"),ZS=ea("transitionstart"),JS=ea("transitioncancel"),ry=ea("transitionend"),sy=new Map,Dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dd.push("scrollEnd");function oi(i,r){sy.set(i,r),si(r,[i])}var ay=new WeakMap;function Yn(i,r){if(typeof i=="object"&&i!==null){var a=ay.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Ba(r)},ay.set(i,r),r)}return{value:i,source:r,stack:Ba(r)}}var Xn=[],eo=0,Od=0;function Uc(){for(var i=eo,r=Od=eo=0;r<i;){var a=Xn[r];Xn[r++]=null;var u=Xn[r];Xn[r++]=null;var h=Xn[r];Xn[r++]=null;var p=Xn[r];if(Xn[r++]=null,u!==null&&h!==null){var S=u.pending;S===null?h.next=h:(h.next=S.next,S.next=h),u.pending=h}p!==0&&oy(a,h,p)}}function jc(i,r,a,u){Xn[eo++]=i,Xn[eo++]=r,Xn[eo++]=a,Xn[eo++]=u,Od|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Md(i,r,a,u){return jc(i,r,a,u),zc(i)}function to(i,r){return jc(i,null,null,r),zc(i)}function oy(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var h=!1,p=i.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(h=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,h&&r!==null&&(h=31-Vt(a),i=p.hiddenUpdates,u=i[h],u===null?i[h]=[r]:u.push(r),r.lane=a|536870912),p):null}function zc(i){if(50<tu)throw tu=0,jm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var no={};function ew(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,r,a,u){return new ew(i,r,a,u)}function kd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ir(i,r){var a=i.alternate;return a===null?(a=Mn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function ly(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Bc(i,r,a,u,h,p){var S=0;if(u=i,typeof i=="function")kd(i)&&(S=1);else if(typeof i=="string")S=nA(i,a,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case w:return i=Mn(31,a,r,h),i.elementType=w,i.lanes=p,i;case z:return ta(a.children,h,p,r);case j:S=8,h|=24;break;case P:return i=Mn(12,a,r,h|2),i.elementType=P,i.lanes=p,i;case H:return i=Mn(13,a,r,h),i.elementType=H,i.lanes=p,i;case G:return i=Mn(19,a,r,h),i.elementType=G,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:case L:S=10;break e;case q:S=9;break e;case k:S=11;break e;case D:S=14;break e;case R:S=16,u=null;break e}S=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Mn(S,a,r,h),r.elementType=i,r.type=u,r.lanes=p,r}function ta(i,r,a,u){return i=Mn(7,i,u,r),i.lanes=a,i}function Pd(i,r,a){return i=Mn(6,i,null,r),i.lanes=a,i}function Vd(i,r,a){return r=Mn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var io=[],ro=0,qc=null,Hc=0,Wn=[],Zn=0,na=null,rr=1,sr="";function ia(i,r){io[ro++]=Hc,io[ro++]=qc,qc=i,Hc=r}function uy(i,r,a){Wn[Zn++]=rr,Wn[Zn++]=sr,Wn[Zn++]=na,na=i;var u=rr;i=sr;var h=32-Vt(u)-1;u&=~(1<<h),a+=1;var p=32-Vt(r)+h;if(30<p){var S=h-h%5;p=(u&(1<<S)-1).toString(32),u>>=S,h-=S,rr=1<<32-Vt(r)+h|a<<h|u,sr=p+i}else rr=1<<p|a<<h|u,sr=i}function Ld(i){i.return!==null&&(ia(i,1),uy(i,1,0))}function Ud(i){for(;i===qc;)qc=io[--ro],io[ro]=null,Hc=io[--ro],io[ro]=null;for(;i===na;)na=Wn[--Zn],Wn[Zn]=null,sr=Wn[--Zn],Wn[Zn]=null,rr=Wn[--Zn],Wn[Zn]=null}var bn=null,Et=null,et=!1,ra=null,Ci=!1,jd=Error(s(519));function sa(i){var r=Error(s(418,""));throw Ml(Yn(r,i)),jd}function cy(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[Lt]=i,r[xt]=u,a){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(a=0;a<iu.length;a++)He(iu[a],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Hs(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),qa(r);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),Fs(r,u.value,u.defaultValue,u.children),qa(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||C_(r.textContent,a)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=wf),r=!0):r=!1,r||sa(i)}function fy(i){for(bn=i.return;bn;)switch(bn.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:bn=bn.return}}function Dl(i){if(i!==bn)return!1;if(!et)return fy(i),et=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||tp(i.type,i.memoizedProps)),a=!a),a&&Et&&sa(i),fy(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){Et=ui(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}Et=null}}else r===27?(r=Et,es(i.type)?(i=sp,sp=null,Et=i):Et=r):Et=bn?ui(i.stateNode.nextSibling):null;return!0}function Ol(){Et=bn=null,et=!1}function hy(){var i=ra;return i!==null&&(Rn===null?Rn=i:Rn.push.apply(Rn,i),ra=null),i}function Ml(i){ra===null?ra=[i]:ra.push(i)}var zd=V(null),aa=null,ar=null;function jr(i,r,a){te(zd,r._currentValue),r._currentValue=a}function or(i){i._currentValue=zd.current,ee(zd)}function Bd(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function qd(i,r,a,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var p=h.dependencies;if(p!==null){var S=h.child;p=p.firstContext;e:for(;p!==null;){var O=p;p=h;for(var Q=0;Q<r.length;Q++)if(O.context===r[Q]){p.lanes|=a,O=p.alternate,O!==null&&(O.lanes|=a),Bd(p.return,a,i),u||(S=null);break e}p=O.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(s(341));S.lanes|=a,p=S.alternate,p!==null&&(p.lanes|=a),Bd(S,a,i),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===i){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function kl(i,r,a,u){i=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var O=h.type;On(h.pendingProps.value,S.value)||(i!==null?i.push(O):i=[O])}}else if(h===ge.current){if(S=h.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}h=h.return}i!==null&&qd(r,i,a,u),r.flags|=262144}function Fc(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function oa(i){aa=i,ar=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function cn(i){return dy(aa,i)}function Qc(i,r){return aa===null&&oa(i),dy(i,r)}function dy(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ar===null){if(i===null)throw Error(s(308));ar=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ar=ar.next=r;return a}var tw=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},nw=n.unstable_scheduleCallback,iw=n.unstable_NormalPriority,zt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new tw,data:new Map,refCount:0}}function Pl(i){i.refCount--,i.refCount===0&&nw(iw,function(){i.controller.abort()})}var Vl=null,Fd=0,so=0,ao=null;function rw(i,r){if(Vl===null){var a=Vl=[];Fd=0,so=Gm(),ao={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Fd++,r.then(my,my),r}function my(){if(--Fd===0&&Vl!==null){ao!==null&&(ao.status="fulfilled");var i=Vl;Vl=null,so=0,ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function sw(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var py=K.S;K.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&rw(i,r),py!==null&&py(i,r)};var la=V(null);function Qd(){var i=la.current;return i!==null?i:ht.pooledCache}function Gc(i,r){r===null?te(la,la.current):te(la,r.pool)}function gy(){var i=Qd();return i===null?null:{parent:zt._currentValue,pool:i}}var Ll=Error(s(460)),yy=Error(s(474)),Kc=Error(s(542)),Gd={then:function(){}};function vy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $c(){}function _y(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then($c,$c),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,by(i),i;default:if(typeof r.status=="string")r.then($c,$c);else{if(i=ht,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,by(i),i}throw Ul=r,Ll}}var Ul=null;function Ey(){if(Ul===null)throw Error(s(459));var i=Ul;return Ul=null,i}function by(i){if(i===Ll||i===Kc)throw Error(s(483))}var zr=!1;function Kd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Br(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function qr(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=zc(i),oy(i,null,a),r}return jc(i,u,r,a),zc(i)}function jl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,dl(i,a)}}function Yd(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=S:p=p.next=S,a=a.next}while(a!==null);p===null?h=p=r:p=p.next=r}else h=p=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Xd=!1;function zl(){if(Xd){var i=ao;if(i!==null)throw i}}function Bl(i,r,a,u){Xd=!1;var h=i.updateQueue;zr=!1;var p=h.firstBaseUpdate,S=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var Q=O,J=Q.next;Q.next=null,S===null?p=J:S.next=J,S=Q;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==S&&(O===null?ue.firstBaseUpdate=J:O.next=J,ue.lastBaseUpdate=Q))}if(p!==null){var fe=h.baseState;S=0,ue=J=Q=null,O=p;do{var ne=O.lane&-536870913,re=ne!==O.lane;if(re?($e&ne)===ne:(u&ne)===ne){ne!==0&&ne===so&&(Xd=!0),ue!==null&&(ue=ue.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var De=i,Ce=O;ne=r;var lt=a;switch(Ce.tag){case 1:if(De=Ce.payload,typeof De=="function"){fe=De.call(lt,fe,ne);break e}fe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ce.payload,ne=typeof De=="function"?De.call(lt,fe,ne):De,ne==null)break e;fe=y({},fe,ne);break e;case 2:zr=!0}}ne=O.callback,ne!==null&&(i.flags|=64,re&&(i.flags|=8192),re=h.callbacks,re===null?h.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(J=ue=re,Q=fe):ue=ue.next=re,S|=ne;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;re=O,O=re.next,re.next=null,h.lastBaseUpdate=re,h.shared.pending=null}}while(!0);ue===null&&(Q=fe),h.baseState=Q,h.firstBaseUpdate=J,h.lastBaseUpdate=ue,p===null&&(h.shared.lanes=0),Xr|=S,i.lanes=S,i.memoizedState=fe}}function Ty(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Sy(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Ty(a[i],r)}var oo=V(null),Yc=V(0);function wy(i,r){i=mr,te(Yc,i),te(oo,r),mr=i|r.baseLanes}function Wd(){te(Yc,mr),te(oo,oo.current)}function Zd(){mr=Yc.current,ee(oo),ee(Yc)}var Hr=0,Ue=null,at=null,Dt=null,Xc=!1,lo=!1,ua=!1,Wc=0,ql=0,uo=null,aw=0;function wt(){throw Error(s(321))}function Jd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!On(i[a],r[a]))return!1;return!0}function em(i,r,a,u,h,p){return Hr=p,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=i===null||i.memoizedState===null?ov:lv,ua=!1,p=a(u,h),ua=!1,lo&&(p=Ry(r,a,u,h)),Ay(i),p}function Ay(i){K.H=rf;var r=at!==null&&at.next!==null;if(Hr=0,Dt=at=Ue=null,Xc=!1,ql=0,uo=null,r)throw Error(s(300));i===null||Kt||(i=i.dependencies,i!==null&&Fc(i)&&(Kt=!0))}function Ry(i,r,a,u){Ue=i;var h=0;do{if(lo&&(uo=null),ql=0,lo=!1,25<=h)throw Error(s(301));if(h+=1,Dt=at=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=dw,p=r(a,u)}while(lo);return p}function ow(){var i=K.H,r=i.useState()[0];return r=typeof r.then=="function"?Hl(r):r,i=i.useState()[0],(at!==null?at.memoizedState:null)!==i&&(Ue.flags|=1024),r}function tm(){var i=Wc!==0;return Wc=0,i}function nm(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function im(i){if(Xc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Xc=!1}Hr=0,Dt=at=Ue=null,lo=!1,ql=Wc=0,uo=null}function wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ue.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Ot(){if(at===null){var i=Ue.alternate;i=i!==null?i.memoizedState:null}else i=at.next;var r=Dt===null?Ue.memoizedState:Dt.next;if(r!==null)Dt=r,at=i;else{if(i===null)throw Ue.alternate===null?Error(s(467)):Error(s(310));at=i,i={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Dt===null?Ue.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function rm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(i){var r=ql;return ql+=1,uo===null&&(uo=[]),i=_y(uo,i,r),r=Ue,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?ov:lv),i}function Zc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hl(i);if(i.$$typeof===L)return cn(i)}throw Error(s(438,String(i)))}function sm(i){var r=null,a=Ue.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=rm(),Ue.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=C;return r.index++,a}function lr(i,r){return typeof r=="function"?r(i):r}function Jc(i){var r=Ot();return am(r,at,i)}function am(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=i.baseQueue,p=u.pending;if(p!==null){if(h!==null){var S=h.next;h.next=p.next,p.next=S}r.baseQueue=h=p,u.pending=null}if(p=i.baseState,h===null)i.memoizedState=p;else{r=h.next;var O=S=null,Q=null,J=r,ue=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?($e&fe)===fe:(Hr&fe)===fe){var ne=J.revertLane;if(ne===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===so&&(ue=!0);else if((Hr&ne)===ne){J=J.next,ne===so&&(ue=!0);continue}else fe={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},Q===null?(O=Q=fe,S=p):Q=Q.next=fe,Ue.lanes|=ne,Xr|=ne;fe=J.action,ua&&a(p,fe),p=J.hasEagerState?J.eagerState:a(p,fe)}else ne={lane:fe,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},Q===null?(O=Q=ne,S=p):Q=Q.next=ne,Ue.lanes|=fe,Xr|=fe;J=J.next}while(J!==null&&J!==r);if(Q===null?S=p:Q.next=O,!On(p,i.memoizedState)&&(Kt=!0,ue&&(a=ao,a!==null)))throw a;i.memoizedState=p,i.baseState=S,i.baseQueue=Q,u.lastRenderedState=p}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function om(i){var r=Ot(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,h=a.pending,p=r.memoizedState;if(h!==null){a.pending=null;var S=h=h.next;do p=i(p,S.action),S=S.next;while(S!==h);On(p,r.memoizedState)||(Kt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,u]}function Cy(i,r,a){var u=Ue,h=Ot(),p=et;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var S=!On((at||h).memoizedState,a);S&&(h.memoizedState=a,Kt=!0),h=h.queue;var O=Ny.bind(null,u,h,i);if(Fl(2048,8,O,[i]),h.getSnapshot!==r||S||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,co(9,ef(),xy.bind(null,u,h,a,r),null),ht===null)throw Error(s(349));p||(Hr&124)!==0||Iy(u,r,a)}return a}function Iy(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Ue.updateQueue,r===null?(r=rm(),Ue.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function xy(i,r,a,u){r.value=a,r.getSnapshot=u,Dy(r)&&Oy(i)}function Ny(i,r,a){return a(function(){Dy(r)&&Oy(i)})}function Dy(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!On(i,a)}catch{return!0}}function Oy(i){var r=to(i,2);r!==null&&Un(r,i,2)}function lm(i){var r=wn();if(typeof i=="function"){var a=i;if(i=a(),ua){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:i},r}function My(i,r,a,u){return i.baseState=a,am(i,at,typeof u=="function"?u:lr)}function lw(i,r,a,u,h){if(nf(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};K.T!==null?a(!0):p.isTransition=!1,u(p),a=r.pending,a===null?(p.next=r.pending=p,ky(r,p)):(p.next=a.next,r.pending=a.next=p)}}function ky(i,r){var a=r.action,u=r.payload,h=i.state;if(r.isTransition){var p=K.T,S={};K.T=S;try{var O=a(h,u),Q=K.S;Q!==null&&Q(S,O),Py(i,r,O)}catch(J){um(i,r,J)}finally{K.T=p}}else try{p=a(h,u),Py(i,r,p)}catch(J){um(i,r,J)}}function Py(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Vy(i,r,u)},function(u){return um(i,r,u)}):Vy(i,r,a)}function Vy(i,r,a){r.status="fulfilled",r.value=a,Ly(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,ky(i,a)))}function um(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Ly(r),r=r.next;while(r!==u)}i.action=null}function Ly(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Uy(i,r){return r}function jy(i,r){if(et){var a=ht.formState;if(a!==null){e:{var u=Ue;if(et){if(Et){t:{for(var h=Et,p=Ci;h.nodeType!==8;){if(!p){h=null;break t}if(h=ui(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Et=ui(h.nextSibling),u=h.data==="F!";break e}}sa(u)}u=!1}u&&(r=a[0])}}return a=wn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uy,lastRenderedState:r},a.queue=u,a=rv.bind(null,Ue,u),u.dispatch=a,u=lm(!1),p=mm.bind(null,Ue,!1,u.queue),u=wn(),h={state:r,dispatch:null,action:i,pending:null},u.queue=h,a=lw.bind(null,Ue,h,p,a),h.dispatch=a,u.memoizedState=i,[r,a,!1]}function zy(i){var r=Ot();return By(r,at,i)}function By(i,r,a){if(r=am(i,r,Uy)[0],i=Jc(lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Hl(r)}catch(S){throw S===Ll?Kc:S}else u=r;r=Ot();var h=r.queue,p=h.dispatch;return a!==r.memoizedState&&(Ue.flags|=2048,co(9,ef(),uw.bind(null,h,a),null)),[u,p,i]}function uw(i,r){i.action=r}function qy(i){var r=Ot(),a=at;if(a!==null)return By(r,a,i);Ot(),r=r.memoizedState,a=Ot();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function co(i,r,a,u){return i={tag:i,create:a,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=rm(),Ue.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function ef(){return{destroy:void 0,resource:void 0}}function Hy(){return Ot().memoizedState}function tf(i,r,a,u){var h=wn();u=u===void 0?null:u,Ue.flags|=i,h.memoizedState=co(1|r,ef(),a,u)}function Fl(i,r,a,u){var h=Ot();u=u===void 0?null:u;var p=h.memoizedState.inst;at!==null&&u!==null&&Jd(u,at.memoizedState.deps)?h.memoizedState=co(r,p,a,u):(Ue.flags|=i,h.memoizedState=co(1|r,p,a,u))}function Fy(i,r){tf(8390656,8,i,r)}function Qy(i,r){Fl(2048,8,i,r)}function Gy(i,r){return Fl(4,2,i,r)}function Ky(i,r){return Fl(4,4,i,r)}function $y(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Yy(i,r,a){a=a!=null?a.concat([i]):null,Fl(4,4,$y.bind(null,r,i),a)}function cm(){}function Xy(i,r){var a=Ot();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Jd(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function Wy(i,r){var a=Ot();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Jd(r,u[1]))return u[0];if(u=i(),ua){yn(!0);try{i()}finally{yn(!1)}}return a.memoizedState=[u,r],u}function fm(i,r,a){return a===void 0||(Hr&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=e_(),Ue.lanes|=i,Xr|=i,a)}function Zy(i,r,a,u){return On(a,r)?a:oo.current!==null?(i=fm(i,a,u),On(i,r)||(Kt=!0),i):(Hr&42)===0?(Kt=!0,i.memoizedState=a):(i=e_(),Ue.lanes|=i,Xr|=i,r)}function Jy(i,r,a,u,h){var p=ie.p;ie.p=p!==0&&8>p?p:8;var S=K.T,O={};K.T=O,mm(i,!1,r,a);try{var Q=h(),J=K.S;if(J!==null&&J(O,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ue=sw(Q,u);Ql(i,r,ue,Ln(i))}else Ql(i,r,u,Ln(i))}catch(fe){Ql(i,r,{then:function(){},status:"rejected",reason:fe},Ln())}finally{ie.p=p,K.T=S}}function cw(){}function hm(i,r,a,u){if(i.tag!==5)throw Error(s(476));var h=ev(i).queue;Jy(i,h,r,oe,a===null?cw:function(){return tv(i),a(u)})}function ev(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:oe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function tv(i){var r=ev(i).next.queue;Ql(i,r,{},Ln())}function dm(){return cn(uu)}function nv(){return Ot().memoizedState}function iv(){return Ot().memoizedState}function fw(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Ln();i=Br(a);var u=qr(r,i,a);u!==null&&(Un(u,r,a),jl(u,r,a)),r={cache:Hd()},i.payload=r;return}r=r.return}}function hw(i,r,a){var u=Ln();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nf(i)?sv(r,a):(a=Md(i,r,a,u),a!==null&&(Un(a,i,u),av(a,r,u)))}function rv(i,r,a){var u=Ln();Ql(i,r,a,u)}function Ql(i,r,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nf(i))sv(r,h);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var S=r.lastRenderedState,O=p(S,a);if(h.hasEagerState=!0,h.eagerState=O,On(O,S))return jc(i,r,h,0),ht===null&&Uc(),!1}catch{}finally{}if(a=Md(i,r,h,u),a!==null)return Un(a,i,u),av(a,r,u),!0}return!1}function mm(i,r,a,u){if(u={lane:2,revertLane:Gm(),action:u,hasEagerState:!1,eagerState:null,next:null},nf(i)){if(r)throw Error(s(479))}else r=Md(i,a,u,2),r!==null&&Un(r,i,2)}function nf(i){var r=i.alternate;return i===Ue||r!==null&&r===Ue}function sv(i,r){lo=Xc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function av(i,r,a){if((a&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,dl(i,a)}}var rf={readContext:cn,use:Zc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},ov={readContext:cn,use:Zc,useCallback:function(i,r){return wn().memoizedState=[i,r===void 0?null:r],i},useContext:cn,useEffect:Fy,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,tf(4194308,4,$y.bind(null,r,i),a)},useLayoutEffect:function(i,r){return tf(4194308,4,i,r)},useInsertionEffect:function(i,r){tf(4,2,i,r)},useMemo:function(i,r){var a=wn();r=r===void 0?null:r;var u=i();if(ua){yn(!0);try{i()}finally{yn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=wn();if(a!==void 0){var h=a(r);if(ua){yn(!0);try{a(r)}finally{yn(!1)}}}else h=r;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=hw.bind(null,Ue,i),[u.memoizedState,i]},useRef:function(i){var r=wn();return i={current:i},r.memoizedState=i},useState:function(i){i=lm(i);var r=i.queue,a=rv.bind(null,Ue,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:cm,useDeferredValue:function(i,r){var a=wn();return fm(a,i,r)},useTransition:function(){var i=lm(!1);return i=Jy.bind(null,Ue,i.queue,!0,!1),wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=Ue,h=wn();if(et){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ht===null)throw Error(s(349));($e&124)!==0||Iy(u,r,a)}h.memoizedState=a;var p={value:a,getSnapshot:r};return h.queue=p,Fy(Ny.bind(null,u,p,i),[i]),u.flags|=2048,co(9,ef(),xy.bind(null,u,p,a,r),null),a},useId:function(){var i=wn(),r=ht.identifierPrefix;if(et){var a=sr,u=rr;a=(u&~(1<<32-Vt(u)-1)).toString(32)+a,r="«"+r+"R"+a,a=Wc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=aw++,r="«"+r+"r"+a.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:dm,useFormState:jy,useActionState:jy,useOptimistic:function(i){var r=wn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=mm.bind(null,Ue,!0,a),a.dispatch=r,[i,r]},useMemoCache:sm,useCacheRefresh:function(){return wn().memoizedState=fw.bind(null,Ue)}},lv={readContext:cn,use:Zc,useCallback:Xy,useContext:cn,useEffect:Qy,useImperativeHandle:Yy,useInsertionEffect:Gy,useLayoutEffect:Ky,useMemo:Wy,useReducer:Jc,useRef:Hy,useState:function(){return Jc(lr)},useDebugValue:cm,useDeferredValue:function(i,r){var a=Ot();return Zy(a,at.memoizedState,i,r)},useTransition:function(){var i=Jc(lr)[0],r=Ot().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:Cy,useId:nv,useHostTransitionStatus:dm,useFormState:zy,useActionState:zy,useOptimistic:function(i,r){var a=Ot();return My(a,at,i,r)},useMemoCache:sm,useCacheRefresh:iv},dw={readContext:cn,use:Zc,useCallback:Xy,useContext:cn,useEffect:Qy,useImperativeHandle:Yy,useInsertionEffect:Gy,useLayoutEffect:Ky,useMemo:Wy,useReducer:om,useRef:Hy,useState:function(){return om(lr)},useDebugValue:cm,useDeferredValue:function(i,r){var a=Ot();return at===null?fm(a,i,r):Zy(a,at.memoizedState,i,r)},useTransition:function(){var i=om(lr)[0],r=Ot().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:Cy,useId:nv,useHostTransitionStatus:dm,useFormState:qy,useActionState:qy,useOptimistic:function(i,r){var a=Ot();return at!==null?My(a,at,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:sm,useCacheRefresh:iv},fo=null,Gl=0;function sf(i){var r=Gl;return Gl+=1,fo===null&&(fo=[]),_y(fo,i,r)}function Kl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function af(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function uv(i){var r=i._init;return r(i._payload)}function cv(i){function r(Y,$){if(i){var W=Y.deletions;W===null?(Y.deletions=[$],Y.flags|=16):W.push($)}}function a(Y,$){if(!i)return null;for(;$!==null;)r(Y,$),$=$.sibling;return null}function u(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function h(Y,$){return Y=ir(Y,$),Y.index=0,Y.sibling=null,Y}function p(Y,$,W){return Y.index=W,i?(W=Y.alternate,W!==null?(W=W.index,W<$?(Y.flags|=67108866,$):W):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function S(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,$,W,ce){return $===null||$.tag!==6?($=Pd(W,Y.mode,ce),$.return=Y,$):($=h($,W),$.return=Y,$)}function Q(Y,$,W,ce){var be=W.type;return be===z?ue(Y,$,W.props.children,ce,W.key):$!==null&&($.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&uv(be)===$.type)?($=h($,W.props),Kl($,W),$.return=Y,$):($=Bc(W.type,W.key,W.props,null,Y.mode,ce),Kl($,W),$.return=Y,$)}function J(Y,$,W,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=Vd(W,Y.mode,ce),$.return=Y,$):($=h($,W.children||[]),$.return=Y,$)}function ue(Y,$,W,ce,be){return $===null||$.tag!==7?($=ta(W,Y.mode,ce,be),$.return=Y,$):($=h($,W),$.return=Y,$)}function fe(Y,$,W){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Pd(""+$,Y.mode,W),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return W=Bc($.type,$.key,$.props,null,Y.mode,W),Kl(W,$),W.return=Y,W;case I:return $=Vd($,Y.mode,W),$.return=Y,$;case R:var ce=$._init;return $=ce($._payload),fe(Y,$,W)}if(de($)||M($))return $=ta($,Y.mode,W,null),$.return=Y,$;if(typeof $.then=="function")return fe(Y,sf($),W);if($.$$typeof===L)return fe(Y,Qc(Y,$),W);af(Y,$)}return null}function ne(Y,$,W,ce){var be=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return be!==null?null:O(Y,$,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===be?Q(Y,$,W,ce):null;case I:return W.key===be?J(Y,$,W,ce):null;case R:return be=W._init,W=be(W._payload),ne(Y,$,W,ce)}if(de(W)||M(W))return be!==null?null:ue(Y,$,W,ce,null);if(typeof W.then=="function")return ne(Y,$,sf(W),ce);if(W.$$typeof===L)return ne(Y,$,Qc(Y,W),ce);af(Y,W)}return null}function re(Y,$,W,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(W)||null,O($,Y,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return Y=Y.get(ce.key===null?W:ce.key)||null,Q($,Y,ce,be);case I:return Y=Y.get(ce.key===null?W:ce.key)||null,J($,Y,ce,be);case R:var Be=ce._init;return ce=Be(ce._payload),re(Y,$,W,ce,be)}if(de(ce)||M(ce))return Y=Y.get(W)||null,ue($,Y,ce,be,null);if(typeof ce.then=="function")return re(Y,$,W,sf(ce),be);if(ce.$$typeof===L)return re(Y,$,W,Qc($,ce),be);af($,ce)}return null}function De(Y,$,W,ce){for(var be=null,Be=null,Se=$,xe=$=0,Yt=null;Se!==null&&xe<W.length;xe++){Se.index>xe?(Yt=Se,Se=null):Yt=Se.sibling;var Ze=ne(Y,Se,W[xe],ce);if(Ze===null){Se===null&&(Se=Yt);break}i&&Se&&Ze.alternate===null&&r(Y,Se),$=p(Ze,$,xe),Be===null?be=Ze:Be.sibling=Ze,Be=Ze,Se=Yt}if(xe===W.length)return a(Y,Se),et&&ia(Y,xe),be;if(Se===null){for(;xe<W.length;xe++)Se=fe(Y,W[xe],ce),Se!==null&&($=p(Se,$,xe),Be===null?be=Se:Be.sibling=Se,Be=Se);return et&&ia(Y,xe),be}for(Se=u(Se);xe<W.length;xe++)Yt=re(Se,Y,xe,W[xe],ce),Yt!==null&&(i&&Yt.alternate!==null&&Se.delete(Yt.key===null?xe:Yt.key),$=p(Yt,$,xe),Be===null?be=Yt:Be.sibling=Yt,Be=Yt);return i&&Se.forEach(function(ss){return r(Y,ss)}),et&&ia(Y,xe),be}function Ce(Y,$,W,ce){if(W==null)throw Error(s(151));for(var be=null,Be=null,Se=$,xe=$=0,Yt=null,Ze=W.next();Se!==null&&!Ze.done;xe++,Ze=W.next()){Se.index>xe?(Yt=Se,Se=null):Yt=Se.sibling;var ss=ne(Y,Se,Ze.value,ce);if(ss===null){Se===null&&(Se=Yt);break}i&&Se&&ss.alternate===null&&r(Y,Se),$=p(ss,$,xe),Be===null?be=ss:Be.sibling=ss,Be=ss,Se=Yt}if(Ze.done)return a(Y,Se),et&&ia(Y,xe),be;if(Se===null){for(;!Ze.done;xe++,Ze=W.next())Ze=fe(Y,Ze.value,ce),Ze!==null&&($=p(Ze,$,xe),Be===null?be=Ze:Be.sibling=Ze,Be=Ze);return et&&ia(Y,xe),be}for(Se=u(Se);!Ze.done;xe++,Ze=W.next())Ze=re(Se,Y,xe,Ze.value,ce),Ze!==null&&(i&&Ze.alternate!==null&&Se.delete(Ze.key===null?xe:Ze.key),$=p(Ze,$,xe),Be===null?be=Ze:Be.sibling=Ze,Be=Ze);return i&&Se.forEach(function(mA){return r(Y,mA)}),et&&ia(Y,xe),be}function lt(Y,$,W,ce){if(typeof W=="object"&&W!==null&&W.type===z&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var be=W.key;$!==null;){if($.key===be){if(be=W.type,be===z){if($.tag===7){a(Y,$.sibling),ce=h($,W.props.children),ce.return=Y,Y=ce;break e}}else if($.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&uv(be)===$.type){a(Y,$.sibling),ce=h($,W.props),Kl(ce,W),ce.return=Y,Y=ce;break e}a(Y,$);break}else r(Y,$);$=$.sibling}W.type===z?(ce=ta(W.props.children,Y.mode,ce,W.key),ce.return=Y,Y=ce):(ce=Bc(W.type,W.key,W.props,null,Y.mode,ce),Kl(ce,W),ce.return=Y,Y=ce)}return S(Y);case I:e:{for(be=W.key;$!==null;){if($.key===be)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){a(Y,$.sibling),ce=h($,W.children||[]),ce.return=Y,Y=ce;break e}else{a(Y,$);break}else r(Y,$);$=$.sibling}ce=Vd(W,Y.mode,ce),ce.return=Y,Y=ce}return S(Y);case R:return be=W._init,W=be(W._payload),lt(Y,$,W,ce)}if(de(W))return De(Y,$,W,ce);if(M(W)){if(be=M(W),typeof be!="function")throw Error(s(150));return W=be.call(W),Ce(Y,$,W,ce)}if(typeof W.then=="function")return lt(Y,$,sf(W),ce);if(W.$$typeof===L)return lt(Y,$,Qc(Y,W),ce);af(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,$!==null&&$.tag===6?(a(Y,$.sibling),ce=h($,W),ce.return=Y,Y=ce):(a(Y,$),ce=Pd(W,Y.mode,ce),ce.return=Y,Y=ce),S(Y)):a(Y,$)}return function(Y,$,W,ce){try{Gl=0;var be=lt(Y,$,W,ce);return fo=null,be}catch(Se){if(Se===Ll||Se===Kc)throw Se;var Be=Mn(29,Se,null,Y.mode);return Be.lanes=ce,Be.return=Y,Be}finally{}}}var ho=cv(!0),fv=cv(!1),Jn=V(null),Ii=null;function Fr(i){var r=i.alternate;te(Bt,Bt.current&1),te(Jn,i),Ii===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Ii=i)}function hv(i){if(i.tag===22){if(te(Bt,Bt.current),te(Jn,i),Ii===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ii=i)}}else Qr()}function Qr(){te(Bt,Bt.current),te(Jn,Jn.current)}function ur(i){ee(Jn),Ii===i&&(Ii=null),ee(Bt)}var Bt=V(0);function of(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function pm(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:y({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var gm={enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Ln(),h=Br(u);h.payload=r,a!=null&&(h.callback=a),r=qr(i,h,u),r!==null&&(Un(r,i,u),jl(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Ln(),h=Br(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=qr(i,h,u),r!==null&&(Un(r,i,u),jl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Ln(),u=Br(a);u.tag=2,r!=null&&(u.callback=r),r=qr(i,u,a),r!==null&&(Un(r,i,a),jl(r,i,a))}};function dv(i,r,a,u,h,p,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,S):r.prototype&&r.prototype.isPureReactComponent?!xl(a,u)||!xl(h,p):!0}function mv(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&gm.enqueueReplaceState(r,r.state,null)}function ca(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=y({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var lf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function pv(i){lf(i)}function gv(i){console.error(i)}function yv(i){lf(i)}function uf(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function vv(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ym(i,r,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){uf(i,r)},a}function _v(i){return i=Br(i),i.tag=3,i}function Ev(i,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;i.payload=function(){return h(p)},i.callback=function(){vv(r,a,u)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){vv(r,a,u),typeof h!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function mw(i,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&kl(r,a,h,!0),a=Jn.current,a!==null){switch(a.tag){case 13:return Ii===null?Bm():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===Gd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Hm(i,u,h)),!1;case 22:return a.flags|=65536,u===Gd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Hm(i,u,h)),!1}throw Error(s(435,a.tag))}return Hm(i,u,h),Bm(),!1}if(et)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==jd&&(i=Error(s(422),{cause:u}),Ml(Yn(i,a)))):(u!==jd&&(r=Error(s(423),{cause:u}),Ml(Yn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=Yn(u,a),h=ym(i.stateNode,u,h),Yd(i,h),bt!==4&&(bt=2)),!1;var p=Error(s(520),{cause:u});if(p=Yn(p,a),eu===null?eu=[p]:eu.push(p),bt!==4&&(bt=2),r===null)return!0;u=Yn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=ym(a.stateNode,u,i),Yd(a,i),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Wr===null||!Wr.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_v(h),Ev(h,i,a,u),Yd(a,h),!1}a=a.return}while(a!==null);return!1}var bv=Error(s(461)),Kt=!1;function tn(i,r,a,u){r.child=i===null?fv(r,null,a,u):ho(r,i.child,a,u)}function Tv(i,r,a,u,h){a=a.render;var p=r.ref;if("ref"in u){var S={};for(var O in u)O!=="ref"&&(S[O]=u[O])}else S=u;return oa(r),u=em(i,r,a,S,p,h),O=tm(),i!==null&&!Kt?(nm(i,r,h),cr(i,r,h)):(et&&O&&Ld(r),r.flags|=1,tn(i,r,u,h),r.child)}function Sv(i,r,a,u,h){if(i===null){var p=a.type;return typeof p=="function"&&!kd(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,wv(i,r,p,u,h)):(i=Bc(a.type,null,u,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Am(i,h)){var S=p.memoizedProps;if(a=a.compare,a=a!==null?a:xl,a(S,u)&&i.ref===r.ref)return cr(i,r,h)}return r.flags|=1,i=ir(p,u),i.ref=r.ref,i.return=r,r.child=i}function wv(i,r,a,u,h){if(i!==null){var p=i.memoizedProps;if(xl(p,u)&&i.ref===r.ref)if(Kt=!1,r.pendingProps=u=p,Am(i,h))(i.flags&131072)!==0&&(Kt=!0);else return r.lanes=i.lanes,cr(i,r,h)}return vm(i,r,a,u,h)}function Av(i,r,a){var u=r.pendingProps,h=u.children,p=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,i!==null){for(h=r.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return Rv(i,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gc(r,p!==null?p.cachePool:null),p!==null?wy(r,p):Wd(),hv(r);else return r.lanes=r.childLanes=536870912,Rv(i,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(Gc(r,p.cachePool),wy(r,p),Qr(),r.memoizedState=null):(i!==null&&Gc(r,null),Wd(),Qr());return tn(i,r,h,a),r.child}function Rv(i,r,a,u){var h=Qd();return h=h===null?null:{parent:zt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&Gc(r,null),Wd(),hv(r),i!==null&&kl(i,r,u,!0),null}function cf(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function vm(i,r,a,u,h){return oa(r),a=em(i,r,a,u,void 0,h),u=tm(),i!==null&&!Kt?(nm(i,r,h),cr(i,r,h)):(et&&u&&Ld(r),r.flags|=1,tn(i,r,a,h),r.child)}function Cv(i,r,a,u,h,p){return oa(r),r.updateQueue=null,a=Ry(r,u,a,h),Ay(i),u=tm(),i!==null&&!Kt?(nm(i,r,p),cr(i,r,p)):(et&&u&&Ld(r),r.flags|=1,tn(i,r,a,p),r.child)}function Iv(i,r,a,u,h){if(oa(r),r.stateNode===null){var p=no,S=a.contextType;typeof S=="object"&&S!==null&&(p=cn(S)),p=new a(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Kd(r),S=a.contextType,p.context=typeof S=="object"&&S!==null?cn(S):no,p.state=r.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(pm(r,a,S,u),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&gm.enqueueReplaceState(p,p.state,null),Bl(r,u,p,h),zl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var O=r.memoizedProps,Q=ca(a,O);p.props=Q;var J=p.context,ue=a.contextType;S=no,typeof ue=="object"&&ue!==null&&(S=cn(ue));var fe=a.getDerivedStateFromProps;ue=typeof fe=="function"||typeof p.getSnapshotBeforeUpdate=="function",O=r.pendingProps!==O,ue||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(O||J!==S)&&mv(r,p,u,S),zr=!1;var ne=r.memoizedState;p.state=ne,Bl(r,u,p,h),zl(),J=r.memoizedState,O||ne!==J||zr?(typeof fe=="function"&&(pm(r,a,fe,u),J=r.memoizedState),(Q=zr||dv(r,a,Q,u,ne,J,S))?(ue||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=J),p.props=u,p.state=J,p.context=S,u=Q):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,$d(i,r),S=r.memoizedProps,ue=ca(a,S),p.props=ue,fe=r.pendingProps,ne=p.context,J=a.contextType,Q=no,typeof J=="object"&&J!==null&&(Q=cn(J)),O=a.getDerivedStateFromProps,(J=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==fe||ne!==Q)&&mv(r,p,u,Q),zr=!1,ne=r.memoizedState,p.state=ne,Bl(r,u,p,h),zl();var re=r.memoizedState;S!==fe||ne!==re||zr||i!==null&&i.dependencies!==null&&Fc(i.dependencies)?(typeof O=="function"&&(pm(r,a,O,u),re=r.memoizedState),(ue=zr||dv(r,a,ue,u,ne,re,Q)||i!==null&&i.dependencies!==null&&Fc(i.dependencies))?(J||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,re,Q),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,re,Q)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),p.props=u,p.state=re,p.context=Q,u=ue):(typeof p.componentDidUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ne===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,cf(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=ho(r,i.child,null,h),r.child=ho(r,null,a,h)):tn(i,r,a,h),r.memoizedState=p.state,i=r.child):i=cr(i,r,h),i}function xv(i,r,a,u){return Ol(),r.flags|=256,tn(i,r,a,u),r.child}var _m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Em(i){return{baseLanes:i,cachePool:gy()}}function bm(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=ei),i}function Nv(i,r,a){var u=r.pendingProps,h=!1,p=(r.flags&128)!==0,S;if((S=p)||(S=i!==null&&i.memoizedState===null?!1:(Bt.current&2)!==0),S&&(h=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,i===null){if(et){if(h?Fr(r):Qr(),et){var O=Et,Q;if(Q=O){e:{for(Q=O,O=Ci;Q.nodeType!==8;){if(!O){O=null;break e}if(Q=ui(Q.nextSibling),Q===null){O=null;break e}}O=Q}O!==null?(r.memoizedState={dehydrated:O,treeContext:na!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},Q=Mn(18,null,null,0),Q.stateNode=O,Q.return=r,r.child=Q,bn=r,Et=null,Q=!0):Q=!1}Q||sa(r)}if(O=r.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return rp(O)?r.lanes=32:r.lanes=536870912,null;ur(r)}return O=u.children,u=u.fallback,h?(Qr(),h=r.mode,O=ff({mode:"hidden",children:O},h),u=ta(u,h,a,null),O.return=r,u.return=r,O.sibling=u,r.child=O,h=r.child,h.memoizedState=Em(a),h.childLanes=bm(i,S,a),r.memoizedState=_m,u):(Fr(r),Tm(r,O))}if(Q=i.memoizedState,Q!==null&&(O=Q.dehydrated,O!==null)){if(p)r.flags&256?(Fr(r),r.flags&=-257,r=Sm(i,r,a)):r.memoizedState!==null?(Qr(),r.child=i.child,r.flags|=128,r=null):(Qr(),h=u.fallback,O=r.mode,u=ff({mode:"visible",children:u.children},O),h=ta(h,O,a,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,ho(r,i.child,null,a),u=r.child,u.memoizedState=Em(a),u.childLanes=bm(i,S,a),r.memoizedState=_m,r=h);else if(Fr(r),rp(O)){if(S=O.nextSibling&&O.nextSibling.dataset,S)var J=S.dgst;S=J,u=Error(s(419)),u.stack="",u.digest=S,Ml({value:u,source:null,stack:null}),r=Sm(i,r,a)}else if(Kt||kl(i,r,a,!1),S=(a&i.childLanes)!==0,Kt||S){if(S=ht,S!==null&&(u=a&-a,u=(u&42)!==0?1:Or(u),u=(u&(S.suspendedLanes|a))!==0?0:u,u!==0&&u!==Q.retryLane))throw Q.retryLane=u,to(i,u),Un(S,i,u),bv;O.data==="$?"||Bm(),r=Sm(i,r,a)}else O.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=Q.treeContext,Et=ui(O.nextSibling),bn=r,et=!0,ra=null,Ci=!1,i!==null&&(Wn[Zn++]=rr,Wn[Zn++]=sr,Wn[Zn++]=na,rr=i.id,sr=i.overflow,na=r),r=Tm(r,u.children),r.flags|=4096);return r}return h?(Qr(),h=u.fallback,O=r.mode,Q=i.child,J=Q.sibling,u=ir(Q,{mode:"hidden",children:u.children}),u.subtreeFlags=Q.subtreeFlags&65011712,J!==null?h=ir(J,h):(h=ta(h,O,a,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,O=i.child.memoizedState,O===null?O=Em(a):(Q=O.cachePool,Q!==null?(J=zt._currentValue,Q=Q.parent!==J?{parent:J,pool:J}:Q):Q=gy(),O={baseLanes:O.baseLanes|a,cachePool:Q}),h.memoizedState=O,h.childLanes=bm(i,S,a),r.memoizedState=_m,u):(Fr(r),a=i.child,i=a.sibling,a=ir(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(S=r.deletions,S===null?(r.deletions=[i],r.flags|=16):S.push(i)),r.child=a,r.memoizedState=null,a)}function Tm(i,r){return r=ff({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ff(i,r){return i=Mn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Sm(i,r,a){return ho(r,i.child,null,a),i=Tm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Dv(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Bd(i.return,r,a)}function wm(i,r,a,u,h){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=h)}function Ov(i,r,a){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(tn(i,r,u.children,a),u=Bt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Dv(i,a,r);else if(i.tag===19)Dv(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(te(Bt,u),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&of(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),wm(r,!1,h,a,p);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&of(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}wm(r,!0,a,null,p);break;case"together":wm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function cr(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Xr|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(kl(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=ir(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=ir(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Am(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Fc(i)))}function pw(i,r,a){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),jr(r,zt,i.memoizedState.cache),Ol();break;case 27:case 5:we(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:jr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Fr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Nv(i,r,a):(Fr(r),i=cr(i,r,a),i!==null?i.sibling:null);Fr(r);break;case 19:var h=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(kl(i,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return Ov(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Bt,Bt.current),u)break;return null;case 22:case 23:return r.lanes=0,Av(i,r,a);case 24:jr(r,zt,i.memoizedState.cache)}return cr(i,r,a)}function Mv(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Kt=!0;else{if(!Am(i,a)&&(r.flags&128)===0)return Kt=!1,pw(i,r,a);Kt=(i.flags&131072)!==0}else Kt=!1,et&&(r.flags&1048576)!==0&&uy(r,Hc,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")kd(u)?(i=ca(u,i),r.tag=1,r=Iv(null,r,u,i,a)):(r.tag=0,r=vm(null,r,u,i,a));else{if(u!=null){if(h=u.$$typeof,h===k){r.tag=11,r=Tv(null,r,u,i,a);break e}else if(h===D){r.tag=14,r=Sv(null,r,u,i,a);break e}}throw r=Z(u)||u,Error(s(306,r,""))}}return r;case 0:return vm(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=ca(u,r.pendingProps),Iv(i,r,u,h,a);case 3:e:{if(_e(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;h=p.element,$d(i,r),Bl(r,u,null,a);var S=r.memoizedState;if(u=S.cache,jr(r,zt,u),u!==p.cache&&qd(r,[zt],a,!0),zl(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=xv(i,r,u,a);break e}else if(u!==h){h=Yn(Error(s(424)),r),Ml(h),r=xv(i,r,u,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Et=ui(i.firstChild),bn=r,et=!0,ra=null,Ci=!0,a=fv(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ol(),u===h){r=cr(i,r,a);break e}tn(i,r,u,a)}r=r.child}return r;case 26:return cf(i,r),i===null?(a=L_(r.type,null,r.pendingProps,null))?r.memoizedState=a:et||(a=r.type,i=r.pendingProps,u=Af(me.current).createElement(a),u[Lt]=r,u[xt]=i,rn(u,a,i),St(u),r.stateNode=u):r.memoizedState=L_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return we(r),i===null&&et&&(u=r.stateNode=k_(r.type,r.pendingProps,me.current),bn=r,Ci=!0,h=Et,es(r.type)?(sp=h,Et=ui(u.firstChild)):Et=h),tn(i,r,r.pendingProps.children,a),cf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&et&&((h=u=Et)&&(u=Hw(u,r.type,r.pendingProps,Ci),u!==null?(r.stateNode=u,bn=r,Et=ui(u.firstChild),Ci=!1,h=!0):h=!1),h||sa(r)),we(r),h=r.type,p=r.pendingProps,S=i!==null?i.memoizedProps:null,u=p.children,tp(h,p)?u=null:S!==null&&tp(h,S)&&(r.flags|=32),r.memoizedState!==null&&(h=em(i,r,ow,null,null,a),uu._currentValue=h),cf(i,r),tn(i,r,u,a),r.child;case 6:return i===null&&et&&((i=a=Et)&&(a=Fw(a,r.pendingProps,Ci),a!==null?(r.stateNode=a,bn=r,Et=null,i=!0):i=!1),i||sa(r)),null;case 13:return Nv(i,r,a);case 4:return _e(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ho(r,null,u,a):tn(i,r,u,a),r.child;case 11:return Tv(i,r,r.type,r.pendingProps,a);case 7:return tn(i,r,r.pendingProps,a),r.child;case 8:return tn(i,r,r.pendingProps.children,a),r.child;case 12:return tn(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,jr(r,r.type,u.value),tn(i,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,oa(r),h=cn(h),u=u(h),r.flags|=1,tn(i,r,u,a),r.child;case 14:return Sv(i,r,r.type,r.pendingProps,a);case 15:return wv(i,r,r.type,r.pendingProps,a);case 19:return Ov(i,r,a);case 31:return u=r.pendingProps,a=r.mode,u={mode:u.mode,children:u.children},i===null?(a=ff(u,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ir(i.child,u),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Av(i,r,a);case 24:return oa(r),u=cn(zt),i===null?(h=Qd(),h===null&&(h=ht,p=Hd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),r.memoizedState={parent:u,cache:h},Kd(r),jr(r,zt,h)):((i.lanes&a)!==0&&($d(i,r),Bl(r,null,null,a),zl()),h=i.memoizedState,p=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),jr(r,zt,u)):(u=p.cache,jr(r,zt,u),u!==h.cache&&qd(r,[zt],a,!0))),tn(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fr(i){i.flags|=4}function kv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!q_(r)){if(r=Jn.current,r!==null&&(($e&4194048)===$e?Ii!==null:($e&62914560)!==$e&&($e&536870912)===0||r!==Ii))throw Ul=Gd,yy;i.flags|=8192}}function hf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?fl():536870912,i.lanes|=r,yo|=r)}function $l(i,r){if(!et)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function yt(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function gw(i,r,a){var u=r.pendingProps;switch(Ud(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return yt(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),or(zt),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Dl(r)?fr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hy())),yt(r),null;case 26:return a=r.memoizedState,i===null?(fr(r),a!==null?(yt(r),kv(r,a)):(yt(r),r.flags&=-16777217)):a?a!==i.memoizedState?(fr(r),yt(r),kv(r,a)):(yt(r),r.flags&=-16777217):(i.memoizedProps!==u&&fr(r),yt(r),r.flags&=-16777217),null;case 27:Te(r),a=me.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&fr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return yt(r),null}i=le.current,Dl(r)?cy(r):(i=k_(h,u,a),r.stateNode=i,fr(r))}return yt(r),null;case 5:if(Te(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&fr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return yt(r),null}if(i=le.current,Dl(r))cy(r);else{switch(h=Af(me.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}i[Lt]=r,i[xt]=u;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(rn(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&fr(r)}}return yt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&fr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=me.current,Dl(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,h=bn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[Lt]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||C_(i.nodeValue,a)),i||sa(r)}else i=Af(i).createTextNode(u),i[Lt]=r,r.stateNode=i}return yt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Dl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Lt]=r}else Ol(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),h=!1}else h=hy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ur(r),r):(ur(r),null)}if(ur(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),hf(r,r.updateQueue),yt(r),null;case 4:return Me(),i===null&&Xm(r.stateNode.containerInfo),yt(r),null;case 10:return or(r.type),yt(r),null;case 19:if(ee(Bt),h=r.memoizedState,h===null)return yt(r),null;if(u=(r.flags&128)!==0,p=h.rendering,p===null)if(u)$l(h,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=of(i),p!==null){for(r.flags|=128,$l(h,!1),i=p.updateQueue,r.updateQueue=i,hf(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)ly(a,i),a=a.sibling;return te(Bt,Bt.current&1|2),r.child}i=i.sibling}h.tail!==null&&Xe()>pf&&(r.flags|=128,u=!0,$l(h,!1),r.lanes=4194304)}else{if(!u)if(i=of(p),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,hf(r,i),$l(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!et)return yt(r),null}else 2*Xe()-h.renderingStartTime>pf&&a!==536870912&&(r.flags|=128,u=!0,$l(h,!1),r.lanes=4194304);h.isBackwards?(p.sibling=r.child,r.child=p):(i=h.last,i!==null?i.sibling=p:r.child=p,h.last=p)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Xe(),r.sibling=null,i=Bt.current,te(Bt,u?i&1|2:i&1),r):(yt(r),null);case 22:case 23:return ur(r),Zd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),a=r.updateQueue,a!==null&&hf(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&ee(la),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),or(zt),yt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function yw(i,r){switch(Ud(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return or(zt),Me(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Te(r),null;case 13:if(ur(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ol()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(Bt),null;case 4:return Me(),null;case 10:return or(r.type),null;case 22:case 23:return ur(r),Zd(),i!==null&&ee(la),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return or(zt),null;case 25:return null;default:return null}}function Pv(i,r){switch(Ud(r),r.tag){case 3:or(zt),Me();break;case 26:case 27:case 5:Te(r);break;case 4:Me();break;case 13:ur(r);break;case 19:ee(Bt);break;case 10:or(r.type);break;case 22:case 23:ur(r),Zd(),i!==null&&ee(la);break;case 24:or(zt)}}function Yl(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&i)===i){u=void 0;var p=a.create,S=a.inst;u=p(),S.destroy=u}a=a.next}while(a!==h)}}catch(O){ft(r,r.return,O)}}function Gr(i,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&i)===i){var S=u.inst,O=S.destroy;if(O!==void 0){S.destroy=void 0,h=r;var Q=a,J=O;try{J()}catch(ue){ft(h,Q,ue)}}}u=u.next}while(u!==p)}}catch(ue){ft(r,r.return,ue)}}function Vv(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Sy(r,a)}catch(u){ft(i,i.return,u)}}}function Lv(i,r,a){a.props=ca(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){ft(i,r,u)}}function Xl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(h){ft(i,r,h)}}function xi(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){ft(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ft(i,r,h)}else a.current=null}function Uv(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){ft(i,i.return,h)}}function Rm(i,r,a){try{var u=i.stateNode;Uw(u,i.type,a,r),u[xt]=r}catch(h){ft(i,i.return,h)}}function jv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&es(i.type)||i.tag===4}function Cm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&es(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Im(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=wf));else if(u!==4&&(u===27&&es(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Im(i,r,a),i=i.sibling;i!==null;)Im(i,r,a),i=i.sibling}function df(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&(u===27&&es(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(df(i,r,a),i=i.sibling;i!==null;)df(i,r,a),i=i.sibling}function zv(i){var r=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);rn(r,u,a),r[Lt]=i,r[xt]=a}catch(p){ft(i,i.return,p)}}var hr=!1,At=!1,xm=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,$t=null;function vw(i,r){if(i=i.containerInfo,Jm=Df,i=Z0(i),Cd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var S=0,O=-1,Q=-1,J=0,ue=0,fe=i,ne=null;t:for(;;){for(var re;fe!==a||h!==0&&fe.nodeType!==3||(O=S+h),fe!==p||u!==0&&fe.nodeType!==3||(Q=S+u),fe.nodeType===3&&(S+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===i)break t;if(ne===a&&++J===h&&(O=S),ne===p&&++ue===u&&(Q=S),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}a=O===-1||Q===-1?null:{start:O,end:Q}}else a=null}a=a||{start:0,end:0}}else a=null;for(ep={focusedElem:i,selectionRange:a},Df=!1,$t=r;$t!==null;)if(r=$t,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,$t=i;else for(;$t!==null;){switch(r=$t,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,a=r,h=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var De=ca(a.type,h,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(De,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ce){ft(a,a.return,Ce)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)ip(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ip(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,$t=i;break}$t=r.return}}function qv(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Kr(i,a),u&4&&Yl(5,a);break;case 1:if(Kr(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(S){ft(a,a.return,S)}else{var h=ca(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(S){ft(a,a.return,S)}}u&64&&Vv(a),u&512&&Xl(a,a.return);break;case 3:if(Kr(i,a),u&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Sy(i,r)}catch(S){ft(a,a.return,S)}}break;case 27:r===null&&u&4&&zv(a);case 26:case 5:Kr(i,a),r===null&&u&4&&Uv(a),u&512&&Xl(a,a.return);break;case 12:Kr(i,a);break;case 13:Kr(i,a),u&4&&Qv(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=Cw.bind(null,a),Qw(i,a))));break;case 22:if(u=a.memoizedState!==null||hr,!u){r=r!==null&&r.memoizedState!==null||At,h=hr;var p=At;hr=u,(At=r)&&!p?$r(i,a,(a.subtreeFlags&8772)!==0):Kr(i,a),hr=h,At=p}break;case 30:break;default:Kr(i,a)}}function Hv(i){var r=i.alternate;r!==null&&(i.alternate=null,Hv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Pr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var gt=null,An=!1;function dr(i,r,a){for(a=a.child;a!==null;)Fv(i,r,a),a=a.sibling}function Fv(i,r,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(mt,a)}catch{}switch(a.tag){case 26:At||xi(a,r),dr(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||xi(a,r);var u=gt,h=An;es(a.type)&&(gt=a.stateNode,An=!1),dr(i,r,a),su(a.stateNode),gt=u,An=h;break;case 5:At||xi(a,r);case 6:if(u=gt,h=An,gt=null,dr(i,r,a),gt=u,An=h,gt!==null)if(An)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(p){ft(a,r,p)}else try{gt.removeChild(a.stateNode)}catch(p){ft(a,r,p)}break;case 18:gt!==null&&(An?(i=gt,O_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),du(i)):O_(gt,a.stateNode));break;case 4:u=gt,h=An,gt=a.stateNode.containerInfo,An=!0,dr(i,r,a),gt=u,An=h;break;case 0:case 11:case 14:case 15:At||Gr(2,a,r),At||Gr(4,a,r),dr(i,r,a);break;case 1:At||(xi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Lv(a,r,u)),dr(i,r,a);break;case 21:dr(i,r,a);break;case 22:At=(u=At)||a.memoizedState!==null,dr(i,r,a),At=u;break;default:dr(i,r,a)}}function Qv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{du(i)}catch(a){ft(r,r.return,a)}}function _w(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Bv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Bv),r;default:throw Error(s(435,i.tag))}}function Nm(i,r){var a=_w(i);r.forEach(function(u){var h=Iw.bind(null,i,u);a.has(u)||(a.add(u),u.then(h,h))})}function kn(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],p=i,S=r,O=S;e:for(;O!==null;){switch(O.tag){case 27:if(es(O.type)){gt=O.stateNode,An=!1;break e}break;case 5:gt=O.stateNode,An=!1;break e;case 3:case 4:gt=O.stateNode.containerInfo,An=!0;break e}O=O.return}if(gt===null)throw Error(s(160));Fv(p,S,h),gt=null,An=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Gv(r,i),r=r.sibling}var li=null;function Gv(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:kn(r,i),Pn(i),u&4&&(Gr(3,i,i.return),Yl(3,i),Gr(5,i,i.return));break;case 1:kn(r,i),Pn(i),u&512&&(At||a===null||xi(a,a.return)),u&64&&hr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=li;if(kn(r,i),Pn(i),u&512&&(At||a===null||xi(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[js]||p[Lt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),rn(p,u,a),p[Lt]=i,St(p),u=p;break e;case"link":var S=z_("link","href",h).get(u+(a.href||""));if(S){for(var O=0;O<S.length;O++)if(p=S[O],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(O,1);break t}}p=h.createElement(u),rn(p,u,a),h.head.appendChild(p);break;case"meta":if(S=z_("meta","content",h).get(u+(a.content||""))){for(O=0;O<S.length;O++)if(p=S[O],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(O,1);break t}}p=h.createElement(u),rn(p,u,a),h.head.appendChild(p);break;default:throw Error(s(468,u))}p[Lt]=i,St(p),u=p}i.stateNode=u}else B_(h,i.type,i.stateNode);else i.stateNode=j_(h,u,i.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?B_(h,i.type,i.stateNode):j_(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Rm(i,i.memoizedProps,a.memoizedProps)}break;case 27:kn(r,i),Pn(i),u&512&&(At||a===null||xi(a,a.return)),a!==null&&u&4&&Rm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(kn(r,i),Pn(i),u&512&&(At||a===null||xi(a,a.return)),i.flags&32){h=i.stateNode;try{Qn(h,"")}catch(re){ft(i,i.return,re)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,Rm(i,h,a!==null?a.memoizedProps:h)),u&1024&&(xm=!0);break;case 6:if(kn(r,i),Pn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(re){ft(i,i.return,re)}}break;case 3:if(If=null,h=li,li=Rf(r.containerInfo),kn(r,i),li=h,Pn(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{du(r.containerInfo)}catch(re){ft(i,i.return,re)}xm&&(xm=!1,Kv(i));break;case 4:u=li,li=Rf(i.stateNode.containerInfo),kn(r,i),Pn(i),li=u;break;case 12:kn(r,i),Pn(i);break;case 13:kn(r,i),Pn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vm=Xe()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nm(i,u)));break;case 22:h=i.memoizedState!==null;var Q=a!==null&&a.memoizedState!==null,J=hr,ue=At;if(hr=J||h,At=ue||Q,kn(r,i),At=ue,hr=J,Pn(i),u&8192)e:for(r=i.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||Q||hr||At||fa(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){Q=a=r;try{if(p=Q.stateNode,h)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{O=Q.stateNode;var fe=Q.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;O.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){ft(Q,Q.return,re)}}}else if(r.tag===6){if(a===null){Q=r;try{Q.stateNode.nodeValue=h?"":Q.memoizedProps}catch(re){ft(Q,Q.return,re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Nm(i,a))));break;case 19:kn(r,i),Pn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nm(i,u)));break;case 30:break;case 21:break;default:kn(r,i),Pn(i)}}function Pn(i){var r=i.flags;if(r&2){try{for(var a,u=i.return;u!==null;){if(jv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,p=Cm(i);df(i,p,h);break;case 5:var S=a.stateNode;a.flags&32&&(Qn(S,""),a.flags&=-33);var O=Cm(i);df(i,O,S);break;case 3:case 4:var Q=a.stateNode.containerInfo,J=Cm(i);Im(i,J,Q);break;default:throw Error(s(161))}}catch(ue){ft(i,i.return,ue)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Kv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Kv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Kr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)qv(i,r.alternate,r),r=r.sibling}function fa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Gr(4,r,r.return),fa(r);break;case 1:xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Lv(r,r.return,a),fa(r);break;case 27:su(r.stateNode);case 26:case 5:xi(r,r.return),fa(r);break;case 22:r.memoizedState===null&&fa(r);break;case 30:fa(r);break;default:fa(r)}i=i.sibling}}function $r(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=i,p=r,S=p.flags;switch(p.tag){case 0:case 11:case 15:$r(h,p,a),Yl(4,p);break;case 1:if($r(h,p,a),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(J){ft(u,u.return,J)}if(u=p,h=u.updateQueue,h!==null){var O=u.stateNode;try{var Q=h.shared.hiddenCallbacks;if(Q!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Q.length;h++)Ty(Q[h],O)}catch(J){ft(u,u.return,J)}}a&&S&64&&Vv(p),Xl(p,p.return);break;case 27:zv(p);case 26:case 5:$r(h,p,a),a&&u===null&&S&4&&Uv(p),Xl(p,p.return);break;case 12:$r(h,p,a);break;case 13:$r(h,p,a),a&&S&4&&Qv(h,p);break;case 22:p.memoizedState===null&&$r(h,p,a),Xl(p,p.return);break;case 30:break;default:$r(h,p,a)}r=r.sibling}}function Dm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Pl(a))}function Om(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Pl(i))}function Ni(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$v(i,r,a,u),r=r.sibling}function $v(i,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(i,r,a,u),h&2048&&Yl(9,r);break;case 1:Ni(i,r,a,u);break;case 3:Ni(i,r,a,u),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Pl(i)));break;case 12:if(h&2048){Ni(i,r,a,u),i=r.stateNode;try{var p=r.memoizedProps,S=p.id,O=p.onPostCommit;typeof O=="function"&&O(S,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Q){ft(r,r.return,Q)}}else Ni(i,r,a,u);break;case 13:Ni(i,r,a,u);break;case 23:break;case 22:p=r.stateNode,S=r.alternate,r.memoizedState!==null?p._visibility&2?Ni(i,r,a,u):Wl(i,r):p._visibility&2?Ni(i,r,a,u):(p._visibility|=2,mo(i,r,a,u,(r.subtreeFlags&10256)!==0)),h&2048&&Dm(S,r);break;case 24:Ni(i,r,a,u),h&2048&&Om(r.alternate,r);break;default:Ni(i,r,a,u)}}function mo(i,r,a,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,S=r,O=a,Q=u,J=S.flags;switch(S.tag){case 0:case 11:case 15:mo(p,S,O,Q,h),Yl(8,S);break;case 23:break;case 22:var ue=S.stateNode;S.memoizedState!==null?ue._visibility&2?mo(p,S,O,Q,h):Wl(p,S):(ue._visibility|=2,mo(p,S,O,Q,h)),h&&J&2048&&Dm(S.alternate,S);break;case 24:mo(p,S,O,Q,h),h&&J&2048&&Om(S.alternate,S);break;default:mo(p,S,O,Q,h)}r=r.sibling}}function Wl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,h=u.flags;switch(u.tag){case 22:Wl(a,u),h&2048&&Dm(u.alternate,u);break;case 24:Wl(a,u),h&2048&&Om(u.alternate,u);break;default:Wl(a,u)}r=r.sibling}}var Zl=8192;function po(i){if(i.subtreeFlags&Zl)for(i=i.child;i!==null;)Yv(i),i=i.sibling}function Yv(i){switch(i.tag){case 26:po(i),i.flags&Zl&&i.memoizedState!==null&&rA(li,i.memoizedState,i.memoizedProps);break;case 5:po(i);break;case 3:case 4:var r=li;li=Rf(i.stateNode.containerInfo),po(i),li=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Zl,Zl=16777216,po(i),Zl=r):po(i));break;default:po(i)}}function Xv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Jl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];$t=u,Zv(u,i)}Xv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wv(i),i=i.sibling}function Wv(i){switch(i.tag){case 0:case 11:case 15:Jl(i),i.flags&2048&&Gr(9,i,i.return);break;case 3:Jl(i);break;case 12:Jl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,mf(i)):Jl(i);break;default:Jl(i)}}function mf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];$t=u,Zv(u,i)}Xv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Gr(8,r,r.return),mf(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,mf(r));break;default:mf(r)}i=i.sibling}}function Zv(i,r){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:Gr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Pl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,$t=u;else e:for(a=i;$t!==null;){u=$t;var h=u.sibling,p=u.return;if(Hv(u),u===a){$t=null;break e}if(h!==null){h.return=p,$t=h;break e}$t=p}}}var Ew={getCacheForType:function(i){var r=cn(zt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},bw=typeof WeakMap=="function"?WeakMap:Map,it=0,ht=null,qe=null,$e=0,rt=0,Vn=null,Yr=!1,go=!1,Mm=!1,mr=0,bt=0,Xr=0,ha=0,km=0,ei=0,yo=0,eu=null,Rn=null,Pm=!1,Vm=0,pf=1/0,gf=null,Wr=null,nn=0,Zr=null,vo=null,_o=0,Lm=0,Um=null,Jv=null,tu=0,jm=null;function Ln(){if((it&2)!==0&&$e!==0)return $e&-$e;if(K.T!==null){var i=so;return i!==0?i:Gm()}return Mr()}function e_(){ei===0&&(ei=($e&536870912)===0||et?cl():536870912);var i=Jn.current;return i!==null&&(i.flags|=32),ei}function Un(i,r,a){(i===ht&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(Eo(i,0),Jr(i,$e,ei,!1)),Gi(i,a),((it&2)===0||i!==ht)&&(i===ht&&((it&2)===0&&(ha|=a),bt===4&&Jr(i,$e,ei,!1)),Di(i))}function t_(i,r,a){if((it&6)!==0)throw Error(s(327));var u=!a&&(r&124)===0&&(r&i.expiredLanes)===0||Us(i,r),h=u?ww(i,r):qm(i,r,!0),p=u;do{if(h===0){go&&!u&&Jr(i,r,0,!1);break}else{if(a=i.current.alternate,p&&!Tw(a)){h=qm(i,r,!1),p=!1;continue}if(h===2){if(p=r,i.errorRecoveryDisabledLanes&p)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var O=i;h=eu;var Q=O.current.memoizedState.isDehydrated;if(Q&&(Eo(O,S).flags|=256),S=qm(O,S,!1),S!==2){if(Mm&&!Q){O.errorRecoveryDisabledLanes|=p,ha|=p,h=4;break e}p=Rn,Rn=h,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}h=S}if(p=!1,h!==2)continue}}if(h===1){Eo(i,0),Jr(i,r,0,!0);break}e:{switch(u=i,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Jr(u,r,ei,!Yr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Vm+300-Xe(),10<h)){if(Jr(u,r,ei,!Yr),Va(u,0,!0)!==0)break e;u.timeoutHandle=N_(n_.bind(null,u,a,Rn,gf,Pm,r,ei,ha,yo,Yr,p,2,-0,0),h);break e}n_(u,a,Rn,gf,Pm,r,ei,ha,yo,Yr,p,0,-0,0)}}break}while(!0);Di(i)}function n_(i,r,a,u,h,p,S,O,Q,J,ue,fe,ne,re){if(i.timeoutHandle=-1,fe=r.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:iA},Yv(r),fe=sA(),fe!==null)){i.cancelPendingCommit=fe(u_.bind(null,i,r,p,a,u,h,S,O,Q,ue,1,ne,re)),Jr(i,p,S,!J);return}u_(i,r,p,a,u,h,S,O,Q)}function Tw(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],p=h.getSnapshot;h=h.value;try{if(!On(p(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Jr(i,r,a,u){r&=~km,r&=~ha,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var h=r;0<h;){var p=31-Vt(h),S=1<<p;u[p]=-1,h&=~S}a!==0&&gi(i,a,r)}function yf(){return(it&6)===0?(nu(0),!1):!0}function zm(){if(qe!==null){if(rt===0)var i=qe.return;else i=qe,ar=aa=null,im(i),fo=null,Gl=0,i=qe;for(;i!==null;)Pv(i.alternate,i),i=i.return;qe=null}}function Eo(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,zw(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),zm(),ht=i,qe=a=ir(i.current,null),$e=r,rt=0,Vn=null,Yr=!1,go=Us(i,r),Mm=!1,yo=ei=km=ha=Xr=bt=0,Rn=eu=null,Pm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var h=31-Vt(u),p=1<<h;r|=i[h],u&=~p}return mr=r,Uc(),a}function i_(i,r){Ue=null,K.H=rf,r===Ll||r===Kc?(r=Ey(),rt=3):r===yy?(r=Ey(),rt=4):rt=r===bv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,qe===null&&(bt=1,uf(i,Yn(r,i.current)))}function r_(){var i=K.H;return K.H=rf,i===null?rf:i}function s_(){var i=K.A;return K.A=Ew,i}function Bm(){bt=4,Yr||($e&4194048)!==$e&&Jn.current!==null||(go=!0),(Xr&134217727)===0&&(ha&134217727)===0||ht===null||Jr(ht,$e,ei,!1)}function qm(i,r,a){var u=it;it|=2;var h=r_(),p=s_();(ht!==i||$e!==r)&&(gf=null,Eo(i,r)),r=!1;var S=bt;e:do try{if(rt!==0&&qe!==null){var O=qe,Q=Vn;switch(rt){case 8:zm(),S=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var J=rt;if(rt=0,Vn=null,bo(i,O,Q,J),a&&go){S=0;break e}break;default:J=rt,rt=0,Vn=null,bo(i,O,Q,J)}}Sw(),S=bt;break}catch(ue){i_(i,ue)}while(!0);return r&&i.shellSuspendCounter++,ar=aa=null,it=u,K.H=h,K.A=p,qe===null&&(ht=null,$e=0,Uc()),S}function Sw(){for(;qe!==null;)a_(qe)}function ww(i,r){var a=it;it|=2;var u=r_(),h=s_();ht!==i||$e!==r?(gf=null,pf=Xe()+500,Eo(i,r)):go=Us(i,r);e:do try{if(rt!==0&&qe!==null){r=qe;var p=Vn;t:switch(rt){case 1:rt=0,Vn=null,bo(i,r,p,1);break;case 2:case 9:if(vy(p)){rt=0,Vn=null,o_(r);break}r=function(){rt!==2&&rt!==9||ht!==i||(rt=7),Di(i)},p.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:vy(p)?(rt=0,Vn=null,o_(r)):(rt=0,Vn=null,bo(i,r,p,7));break;case 5:var S=null;switch(qe.tag){case 26:S=qe.memoizedState;case 5:case 27:var O=qe;if(!S||q_(S)){rt=0,Vn=null;var Q=O.sibling;if(Q!==null)qe=Q;else{var J=O.return;J!==null?(qe=J,vf(J)):qe=null}break t}}rt=0,Vn=null,bo(i,r,p,5);break;case 6:rt=0,Vn=null,bo(i,r,p,6);break;case 8:zm(),bt=6;break e;default:throw Error(s(462))}}Aw();break}catch(ue){i_(i,ue)}while(!0);return ar=aa=null,K.H=u,K.A=h,it=a,qe!==null?0:(ht=null,$e=0,Uc(),bt)}function Aw(){for(;qe!==null&&!ut();)a_(qe)}function a_(i){var r=Mv(i.alternate,i,mr);i.memoizedProps=i.pendingProps,r===null?vf(i):qe=r}function o_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Cv(a,r,r.pendingProps,r.type,void 0,$e);break;case 11:r=Cv(a,r,r.pendingProps,r.type.render,r.ref,$e);break;case 5:im(r);default:Pv(a,r),r=qe=ly(r,mr),r=Mv(a,r,mr)}i.memoizedProps=i.pendingProps,r===null?vf(i):qe=r}function bo(i,r,a,u){ar=aa=null,im(r),fo=null,Gl=0;var h=r.return;try{if(mw(i,h,r,a,$e)){bt=1,uf(i,Yn(a,i.current)),qe=null;return}}catch(p){if(h!==null)throw qe=h,p;bt=1,uf(i,Yn(a,i.current)),qe=null;return}r.flags&32768?(et||u===1?i=!0:go||($e&536870912)!==0?i=!1:(Yr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),l_(r,i)):vf(r)}function vf(i){var r=i;do{if((r.flags&32768)!==0){l_(r,Yr);return}i=r.return;var a=gw(r.alternate,r,mr);if(a!==null){qe=a;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=i}while(r!==null);bt===0&&(bt=5)}function l_(i,r){do{var a=yw(i.alternate,i);if(a!==null){a.flags&=32767,qe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){qe=i;return}qe=i=a}while(i!==null);bt=6,qe=null}function u_(i,r,a,u,h,p,S,O,Q){i.cancelPendingCommit=null;do _f();while(nn!==0);if((it&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Od,hl(i,a,p,S,O,Q),i===ht&&(qe=ht=null,$e=0),vo=r,Zr=i,_o=a,Lm=p,Um=h,Jv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xw(Hn,function(){return m_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,h=ie.p,ie.p=2,S=it,it|=4;try{vw(i,r,a)}finally{it=S,ie.p=h,K.T=u}}nn=1,c_(),f_(),h_()}}function c_(){if(nn===1){nn=0;var i=Zr,r=vo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var u=ie.p;ie.p=2;var h=it;it|=4;try{Gv(r,i);var p=ep,S=Z0(i.containerInfo),O=p.focusedElem,Q=p.selectionRange;if(S!==O&&O&&O.ownerDocument&&W0(O.ownerDocument.documentElement,O)){if(Q!==null&&Cd(O)){var J=Q.start,ue=Q.end;if(ue===void 0&&(ue=J),"selectionStart"in O)O.selectionStart=J,O.selectionEnd=Math.min(ue,O.value.length);else{var fe=O.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),De=O.textContent.length,Ce=Math.min(Q.start,De),lt=Q.end===void 0?Ce:Math.min(Q.end,De);!re.extend&&Ce>lt&&(S=lt,lt=Ce,Ce=S);var Y=X0(O,Ce),$=X0(O,lt);if(Y&&$&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==$.node||re.focusOffset!==$.offset)){var W=fe.createRange();W.setStart(Y.node,Y.offset),re.removeAllRanges(),Ce>lt?(re.addRange(W),re.extend($.node,$.offset)):(W.setEnd($.node,$.offset),re.addRange(W))}}}}for(fe=[],re=O;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<fe.length;O++){var ce=fe[O];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Df=!!Jm,ep=Jm=null}finally{it=h,ie.p=u,K.T=a}}i.current=r,nn=2}}function f_(){if(nn===2){nn=0;var i=Zr,r=vo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var u=ie.p;ie.p=2;var h=it;it|=4;try{qv(i,r.alternate,r)}finally{it=h,ie.p=u,K.T=a}}nn=3}}function h_(){if(nn===4||nn===3){nn=0,ct();var i=Zr,r=vo,a=_o,u=Jv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?nn=5:(nn=0,vo=Zr=null,d_(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(Wr=null),La(a),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(mt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var p=i.onRecoverableError,S=0;S<u.length;S++){var O=u[S];p(O.value,{componentStack:O.stack})}}finally{K.T=r,ie.p=h}}(_o&3)!==0&&_f(),Di(i),h=i.pendingLanes,(a&4194090)!==0&&(h&42)!==0?i===jm?tu++:(tu=0,jm=i):tu=0,nu(0)}}function d_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Pl(r)))}function _f(i){return c_(),f_(),h_(),m_()}function m_(){if(nn!==5)return!1;var i=Zr,r=Lm;Lm=0;var a=La(_o),u=K.T,h=ie.p;try{ie.p=32>a?32:a,K.T=null,a=Um,Um=null;var p=Zr,S=_o;if(nn=0,vo=Zr=null,_o=0,(it&6)!==0)throw Error(s(331));var O=it;if(it|=4,Wv(p.current),$v(p,p.current,S,a),it=O,nu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(mt,p)}catch{}return!0}finally{ie.p=h,K.T=u,d_(i,r)}}function p_(i,r,a){r=Yn(a,r),r=ym(i.stateNode,r,2),i=qr(i,r,2),i!==null&&(Gi(i,2),Di(i))}function ft(i,r,a){if(i.tag===3)p_(i,i,a);else for(;r!==null;){if(r.tag===3){p_(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wr===null||!Wr.has(u))){i=Yn(a,i),a=_v(2),u=qr(r,a,2),u!==null&&(Ev(a,u,r,i),Gi(u,2),Di(u));break}}r=r.return}}function Hm(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new bw;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(Mm=!0,h.add(a),i=Rw.bind(null,i,r,a),r.then(i,i))}function Rw(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ht===i&&($e&a)===a&&(bt===4||bt===3&&($e&62914560)===$e&&300>Xe()-Vm?(it&2)===0&&Eo(i,0):km|=a,yo===$e&&(yo=0)),Di(i)}function g_(i,r){r===0&&(r=fl()),i=to(i,r),i!==null&&(Gi(i,r),Di(i))}function Cw(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),g_(i,a)}function Iw(i,r){var a=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),g_(i,a)}function xw(i,r){return We(i,r)}var Ef=null,To=null,Fm=!1,bf=!1,Qm=!1,da=0;function Di(i){i!==To&&i.next===null&&(To===null?Ef=To=i:To=To.next=i),bf=!0,Fm||(Fm=!0,Dw())}function nu(i,r){if(!Qm&&bf){Qm=!0;do for(var a=!1,u=Ef;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var S=u.suspendedLanes,O=u.pingedLanes;p=(1<<31-Vt(42|i)+1)-1,p&=h&~(S&~O),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,E_(u,p))}else p=$e,p=Va(u,u===ht?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Us(u,p)||(a=!0,E_(u,p));u=u.next}while(a);Qm=!1}}function Nw(){y_()}function y_(){bf=Fm=!1;var i=0;da!==0&&(jw()&&(i=da),da=0);for(var r=Xe(),a=null,u=Ef;u!==null;){var h=u.next,p=v_(u,r);p===0?(u.next=null,a===null?Ef=h:a.next=h,h===null&&(To=a)):(a=u,(i!==0||(p&3)!==0)&&(bf=!0)),u=h}nu(i)}function v_(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var S=31-Vt(p),O=1<<S,Q=h[S];Q===-1?((O&a)===0||(O&u)!==0)&&(h[S]=ul(O,r)):Q<=r&&(i.expiredLanes|=O),p&=~O}if(r=ht,a=$e,a=Va(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===r&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ae(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Us(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&Ae(u),La(a)){case 2:case 8:a=Pt;break;case 32:a=Hn;break;case 268435456:a=Nr;break;default:a=Hn}return u=__.bind(null,i),a=We(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&Ae(u),i.callbackPriority=2,i.callbackNode=null,2}function __(i,r){if(nn!==0&&nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(_f()&&i.callbackNode!==a)return null;var u=$e;return u=Va(i,i===ht?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(t_(i,u,r),v_(i,Xe()),i.callbackNode!=null&&i.callbackNode===a?__.bind(null,i):null)}function E_(i,r){if(_f())return null;t_(i,r,!0)}function Dw(){Bw(function(){(it&6)!==0?We(Zt,Nw):y_()})}function Gm(){return da===0&&(da=cl()),da}function b_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ha(""+i)}function T_(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function Ow(i,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var p=b_((h[xt]||null).action),S=u.submitter;S&&(r=(r=S[xt]||null)?b_(r.formAction):S.getAttribute("formAction"),r!==null&&(p=r,S=null));var O=new Fa("action","action",null,u,h);i.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(da!==0){var Q=S?T_(h,S):new FormData(h);hm(a,{pending:!0,data:Q,method:h.method,action:p},null,Q)}}else typeof p=="function"&&(O.preventDefault(),Q=S?T_(h,S):new FormData(h),hm(a,{pending:!0,data:Q,method:h.method,action:p},p,Q))},currentTarget:h}]})}}for(var Km=0;Km<Dd.length;Km++){var $m=Dd[Km],Mw=$m.toLowerCase(),kw=$m[0].toUpperCase()+$m.slice(1);oi(Mw,"on"+kw)}oi(ty,"onAnimationEnd"),oi(ny,"onAnimationIteration"),oi(iy,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(WS,"onTransitionRun"),oi(ZS,"onTransitionStart"),oi(JS,"onTransitionCancel"),oi(ry,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function S_(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var S=u.length-1;0<=S;S--){var O=u[S],Q=O.instance,J=O.currentTarget;if(O=O.listener,Q!==p&&h.isPropagationStopped())break e;p=O,h.currentTarget=J;try{p(h)}catch(ue){lf(ue)}h.currentTarget=null,p=Q}else for(S=0;S<u.length;S++){if(O=u[S],Q=O.instance,J=O.currentTarget,O=O.listener,Q!==p&&h.isPropagationStopped())break e;p=O,h.currentTarget=J;try{p(h)}catch(ue){lf(ue)}h.currentTarget=null,p=Q}}}}function He(i,r){var a=r[ml];a===void 0&&(a=r[ml]=new Set);var u=i+"__bubble";a.has(u)||(w_(r,i,2,!1),a.add(u))}function Ym(i,r,a){var u=0;r&&(u|=4),w_(a,i,u,r)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function Xm(i){if(!i[Tf]){i[Tf]=!0,pl.forEach(function(a){a!=="selectionchange"&&(Pw.has(a)||Ym(a,!1,i),Ym(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Tf]||(r[Tf]=!0,Ym("selectionchange",!1,r))}}function w_(i,r,a,u){switch($_(r)){case 2:var h=lA;break;case 8:h=uA;break;default:h=cp}a=h.bind(null,r,a,i),h=void 0,!Kn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function Wm(i,r,a,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var O=u.stateNode.containerInfo;if(O===h)break;if(S===4)for(S=u.return;S!==null;){var Q=S.tag;if((Q===3||Q===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;O!==null;){if(S=Ki(O),S===null)return;if(Q=S.tag,Q===5||Q===6||Q===26||Q===27){u=p=S;continue e}O=O.parentNode}}u=u.return}Sc(function(){var J=p,ue=Gn(a),fe=[];e:{var ne=sy.get(i);if(ne!==void 0){var re=Fa,De=i;switch(i){case"keypress":if(Ti(a)===0)break e;case"keydown":case"keyup":re=Xa;break;case"focusin":De="focus",re=Ka;break;case"focusout":De="blur",re=Ka;break;case"beforeblur":case"afterblur":re=Ka;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Dc;break;case ty:case ny:case iy:re=$a;break;case ry:re=Mc;break;case"scroll":case"scrollend":re=wc;break;case"wheel":re=Wa;break;case"copy":case"cut":case"paste":re=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Cl;break;case"toggle":case"beforetoggle":re=Pc}var Ce=(r&4)!==0,lt=!Ce&&(i==="scroll"||i==="scrollend"),Y=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var $=J,W;$!==null;){var ce=$;if(W=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||W===null||Y===null||(ce=Gs($,Y),ce!=null&&Ce.push(ru($,ce,W))),lt)break;$=$.return}0<Ce.length&&(ne=new re(ne,De,null,a,ue),fe.push({event:ne,listeners:Ce}))}}if((r&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ne&&a!==Wi&&(De=a.relatedTarget||a.fromElement)&&(Ki(De)||De[Fn]))break e;if((re||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(De=a.relatedTarget||a.toElement,re=J,De=De?Ki(De):null,De!==null&&(lt=l(De),Ce=De.tag,De!==lt||Ce!==5&&Ce!==27&&Ce!==6)&&(De=null)):(re=null,De=J),re!==De)){if(Ce=$n,ce="onMouseLeave",Y="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Cl,ce="onPointerLeave",Y="onPointerEnter",$="pointer"),lt=re==null?ne:vi(re),W=De==null?ne:vi(De),ne=new Ce(ce,$+"leave",re,a,ue),ne.target=lt,ne.relatedTarget=W,ce=null,Ki(ue)===J&&(Ce=new Ce(Y,$+"enter",De,a,ue),Ce.target=W,Ce.relatedTarget=lt,ce=Ce),lt=ce,re&&De)t:{for(Ce=re,Y=De,$=0,W=Ce;W;W=So(W))$++;for(W=0,ce=Y;ce;ce=So(ce))W++;for(;0<$-W;)Ce=So(Ce),$--;for(;0<W-$;)Y=So(Y),W--;for(;$--;){if(Ce===Y||Y!==null&&Ce===Y.alternate)break t;Ce=So(Ce),Y=So(Y)}Ce=null}else Ce=null;re!==null&&A_(fe,ne,re,Ce,!1),De!==null&&lt!==null&&A_(fe,lt,De,Ce,!0)}}e:{if(ne=J?vi(J):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var be=F0;else if(jt(ne))if(Q0)be=$S;else{be=GS;var Be=QS}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?J&&El(J.elementType)&&(be=F0):be=KS;if(be&&(be=be(i,J))){nr(fe,be,a,ue);break e}Be&&Be(i,ne,J),i==="focusout"&&J&&ne.type==="number"&&J.memoizedProps.value!=null&&Lr(ne,"number",ne.value)}switch(Be=J?vi(J):window,i){case"focusin":(jt(Be)||Be.contentEditable==="true")&&(Za=Be,Id=J,Nl=null);break;case"focusout":Nl=Id=Za=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,J0(fe,a,ue);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":J0(fe,a,ue)}var Se;if(Ai)e:{switch(i){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ge?se(i,a)&&(xe="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(E&&a.locale!=="ko"&&(Ge||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ge&&(Se=Tl()):(bi=ue,Ur="value"in bi?bi.value:bi.textContent,Ge=!0)),Be=Sf(J,xe),0<Be.length&&(xe=new Al(xe,i,null,a,ue),fe.push({event:xe,listeners:Be}),Se?xe.data=Se:(Se=ve(a),Se!==null&&(xe.data=Se)))),(Se=v?Ut(i,a):Ke(i,a))&&(xe=Sf(J,"onBeforeInput"),0<xe.length&&(Be=new Al("onBeforeInput","beforeinput",null,a,ue),fe.push({event:Be,listeners:xe}),Be.data=Se)),Ow(fe,i,J,a,ue)}S_(fe,r)})}function ru(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Sf(i,r){for(var a=r+"Capture",u=[];i!==null;){var h=i,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Gs(i,a),h!=null&&u.unshift(ru(i,h,p)),h=Gs(i,r),h!=null&&u.push(ru(i,h,p))),i.tag===3)return u;i=i.return}return[]}function So(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function A_(i,r,a,u,h){for(var p=r._reactName,S=[];a!==null&&a!==u;){var O=a,Q=O.alternate,J=O.stateNode;if(O=O.tag,Q!==null&&Q===u)break;O!==5&&O!==26&&O!==27||J===null||(Q=J,h?(J=Gs(a,p),J!=null&&S.unshift(ru(a,J,Q))):h||(J=Gs(a,p),J!=null&&S.push(ru(a,J,Q)))),a=a.return}S.length!==0&&i.push({event:r,listeners:S})}var Vw=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function R_(i){return(typeof i=="string"?i:""+i).replace(Vw,`
`).replace(Lw,"")}function C_(i,r){return r=R_(r),R_(i)===r}function wf(){}function ot(i,r,a,u,h,p){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Qn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Qn(i,""+u);break;case"className":_i(i,"class",u);break;case"tabIndex":_i(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(i,a,u);break;case"style":_l(i,u,p);break;case"data":if(r!=="object"){_i(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Ha(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&ot(i,r,"name",h.name,h,null),ot(i,r,"formEncType",h.formEncType,h,null),ot(i,r,"formMethod",h.formMethod,h,null),ot(i,r,"formTarget",h.formTarget,h,null)):(ot(i,r,"encType",h.encType,h,null),ot(i,r,"method",h.method,h,null),ot(i,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Ha(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=wf);break;case"onScroll":u!=null&&He("scroll",i);break;case"onScrollEnd":u!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=Ha(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":He("beforetoggle",i),He("toggle",i),Vr(i,"popover",u);break;case"xlinkActuate":Jt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Jt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Jt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Jt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Jt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Jt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Vr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bd.get(a)||a,Vr(i,a,u))}}function Zm(i,r,a,u,h,p){switch(a){case"style":_l(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?Qn(i,u):(typeof u=="number"||typeof u=="bigint")&&Qn(i,""+u);break;case"onScroll":u!=null&&He("scroll",i);break;case"onScrollEnd":u!=null&&He("scrollend",i);break;case"onClick":u!=null&&(i.onclick=wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),p=i[xt]||null,p=p!=null?p[a]:null,typeof p=="function"&&i.removeEventListener(r,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,h);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Vr(i,a,u)}}}function rn(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var u=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var S=a[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(i,r,p,S,a,null)}}h&&ot(i,r,"srcSet",a.srcSet,a,null),u&&ot(i,r,"src",a.src,a,null);return;case"input":He("invalid",i);var O=p=S=h=null,Q=null,J=null;for(u in a)if(a.hasOwnProperty(u)){var ue=a[u];if(ue!=null)switch(u){case"name":h=ue;break;case"type":S=ue;break;case"checked":Q=ue;break;case"defaultChecked":J=ue;break;case"value":p=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:ot(i,r,u,ue,a,null)}}Hs(i,p,O,Q,J,S,h,!1),qa(i);return;case"select":He("invalid",i),u=S=p=null;for(h in a)if(a.hasOwnProperty(h)&&(O=a[h],O!=null))switch(h){case"value":p=O;break;case"defaultValue":S=O;break;case"multiple":u=O;default:ot(i,r,h,O,a,null)}r=p,a=S,i.multiple=!!u,r!=null?Xi(i,!!u,r,!1):a!=null&&Xi(i,!!u,a,!0);return;case"textarea":He("invalid",i),p=h=u=null;for(S in a)if(a.hasOwnProperty(S)&&(O=a[S],O!=null))switch(S){case"value":u=O;break;case"defaultValue":h=O;break;case"children":p=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:ot(i,r,S,O,a,null)}Fs(i,u,h,p),qa(i);return;case"option":for(Q in a)if(a.hasOwnProperty(Q)&&(u=a[Q],u!=null))switch(Q){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ot(i,r,Q,u,a,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(u=0;u<iu.length;u++)He(iu[u],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in a)if(a.hasOwnProperty(J)&&(u=a[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(i,r,J,u,a,null)}return;default:if(El(r)){for(ue in a)a.hasOwnProperty(ue)&&(u=a[ue],u!==void 0&&Zm(i,r,ue,u,a,void 0));return}}for(O in a)a.hasOwnProperty(O)&&(u=a[O],u!=null&&ot(i,r,O,u,a,null))}function Uw(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,S=null,O=null,Q=null,J=null,ue=null;for(re in a){var fe=a[re];if(a.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":Q=fe;default:u.hasOwnProperty(re)||ot(i,r,re,null,u,fe)}}for(var ne in u){var re=u[ne];if(fe=a[ne],u.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":p=re;break;case"name":h=re;break;case"checked":J=re;break;case"defaultChecked":ue=re;break;case"value":S=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:re!==fe&&ot(i,r,ne,re,u,fe)}}Dn(i,S,O,Q,J,ue,p,h);return;case"select":re=S=O=ne=null;for(p in a)if(Q=a[p],a.hasOwnProperty(p)&&Q!=null)switch(p){case"value":break;case"multiple":re=Q;default:u.hasOwnProperty(p)||ot(i,r,p,null,u,Q)}for(h in u)if(p=u[h],Q=a[h],u.hasOwnProperty(h)&&(p!=null||Q!=null))switch(h){case"value":ne=p;break;case"defaultValue":O=p;break;case"multiple":S=p;default:p!==Q&&ot(i,r,h,p,u,Q)}r=O,a=S,u=re,ne!=null?Xi(i,!!a,ne,!1):!!u!=!!a&&(r!=null?Xi(i,!!a,r,!0):Xi(i,!!a,a?[]:"",!1));return;case"textarea":re=ne=null;for(O in a)if(h=a[O],a.hasOwnProperty(O)&&h!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ot(i,r,O,null,u,h)}for(S in u)if(h=u[S],p=a[S],u.hasOwnProperty(S)&&(h!=null||p!=null))switch(S){case"value":ne=h;break;case"defaultValue":re=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&ot(i,r,S,h,u,p)}st(i,ne,re);return;case"option":for(var De in a)if(ne=a[De],a.hasOwnProperty(De)&&ne!=null&&!u.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:ot(i,r,De,null,u,ne)}for(Q in u)if(ne=u[Q],re=a[Q],u.hasOwnProperty(Q)&&ne!==re&&(ne!=null||re!=null))switch(Q){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:ot(i,r,Q,ne,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)ne=a[Ce],a.hasOwnProperty(Ce)&&ne!=null&&!u.hasOwnProperty(Ce)&&ot(i,r,Ce,null,u,ne);for(J in u)if(ne=u[J],re=a[J],u.hasOwnProperty(J)&&ne!==re&&(ne!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:ot(i,r,J,ne,u,re)}return;default:if(El(r)){for(var lt in a)ne=a[lt],a.hasOwnProperty(lt)&&ne!==void 0&&!u.hasOwnProperty(lt)&&Zm(i,r,lt,void 0,u,ne);for(ue in u)ne=u[ue],re=a[ue],!u.hasOwnProperty(ue)||ne===re||ne===void 0&&re===void 0||Zm(i,r,ue,ne,u,re);return}}for(var Y in a)ne=a[Y],a.hasOwnProperty(Y)&&ne!=null&&!u.hasOwnProperty(Y)&&ot(i,r,Y,null,u,ne);for(fe in u)ne=u[fe],re=a[fe],!u.hasOwnProperty(fe)||ne===re||ne==null&&re==null||ot(i,r,fe,ne,u,re)}var Jm=null,ep=null;function Af(i){return i.nodeType===9?i:i.ownerDocument}function I_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function tp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var np=null;function jw(){var i=window.event;return i&&i.type==="popstate"?i===np?!1:(np=i,!0):(np=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,zw=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(i){return D_.resolve(null).then(i).catch(qw)}:N_;function qw(i){setTimeout(function(){throw i})}function es(i){return i==="head"}function O_(i,r){var a=r,u=0,h=0;do{var p=a.nextSibling;if(i.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<u&&8>u){a=u;var S=i.ownerDocument;if(a&1&&su(S.documentElement),a&2&&su(S.body),a&4)for(a=S.head,su(a),S=a.firstChild;S;){var O=S.nextSibling,Q=S.nodeName;S[js]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=O}}if(h===0){i.removeChild(p),du(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:u=a.charCodeAt(0)-48;else u=0;a=p}while(a);du(r)}function ip(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ip(a),Pr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function Hw(i,r,a,u){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[js])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ui(i.nextSibling),i===null)break}return null}function Fw(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ui(i.nextSibling),i===null))return null;return i}function rp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Qw(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ui(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var sp=null;function M_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function k_(i,r,a){switch(r=Af(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function su(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Pr(i)}var ti=new Map,P_=new Set;function Rf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var pr=ie.d;ie.d={f:Gw,r:Kw,D:$w,C:Yw,L:Xw,m:Ww,X:Jw,S:Zw,M:eA};function Gw(){var i=pr.f(),r=yf();return i||r}function Kw(i){var r=yi(i);r!==null&&r.tag===5&&r.type==="form"?tv(r):pr.r(i)}var wo=typeof document>"u"?null:document;function V_(i,r,a){var u=wo;if(u&&typeof r=="string"&&r){var h=Nt(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P_.has(h)||(P_.add(h),i={rel:i,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),rn(r,"link",i),St(r),u.head.appendChild(r)))}}function $w(i){pr.D(i),V_("dns-prefetch",i,null)}function Yw(i,r){pr.C(i,r),V_("preconnect",i,r)}function Xw(i,r,a){pr.L(i,r,a);var u=wo;if(u&&i&&r){var h='link[rel="preload"][as="'+Nt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nt(a.imageSizes)+'"]')):h+='[href="'+Nt(i)+'"]';var p=h;switch(r){case"style":p=Ao(i);break;case"script":p=Ro(i)}ti.has(p)||(i=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),ti.set(p,i),u.querySelector(h)!==null||r==="style"&&u.querySelector(au(p))||r==="script"&&u.querySelector(ou(p))||(r=u.createElement("link"),rn(r,"link",i),St(r),u.head.appendChild(r)))}}function Ww(i,r){pr.m(i,r);var a=wo;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Nt(u)+'"][href="'+Nt(i)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ro(i)}if(!ti.has(p)&&(i=y({rel:"modulepreload",href:i},r),ti.set(p,i),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ou(p)))return}u=a.createElement("link"),rn(u,"link",i),St(u),a.head.appendChild(u)}}}function Zw(i,r,a){pr.S(i,r,a);var u=wo;if(u&&i){var h=vn(u).hoistableStyles,p=Ao(i);r=r||"default";var S=h.get(p);if(!S){var O={loading:0,preload:null};if(S=u.querySelector(au(p)))O.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},a),(a=ti.get(p))&&ap(i,a);var Q=S=u.createElement("link");St(Q),rn(Q,"link",i),Q._p=new Promise(function(J,ue){Q.onload=J,Q.onerror=ue}),Q.addEventListener("load",function(){O.loading|=1}),Q.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Cf(S,r,u)}S={type:"stylesheet",instance:S,count:1,state:O},h.set(p,S)}}}function Jw(i,r){pr.X(i,r);var a=wo;if(a&&i){var u=vn(a).hoistableScripts,h=Ro(i),p=u.get(h);p||(p=a.querySelector(ou(h)),p||(i=y({src:i,async:!0},r),(r=ti.get(h))&&op(i,r),p=a.createElement("script"),St(p),rn(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function eA(i,r){pr.M(i,r);var a=wo;if(a&&i){var u=vn(a).hoistableScripts,h=Ro(i),p=u.get(h);p||(p=a.querySelector(ou(h)),p||(i=y({src:i,async:!0,type:"module"},r),(r=ti.get(h))&&op(i,r),p=a.createElement("script"),St(p),rn(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function L_(i,r,a,u){var h=(h=me.current)?Rf(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ao(a.href),a=vn(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ao(a.href);var p=vn(h).hoistableStyles,S=p.get(i);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,S),(p=h.querySelector(au(i)))&&!p._p&&(S.instance=p,S.state.loading=5),ti.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(i,a),p||tA(h,i,a,S.state))),r&&u===null)throw Error(s(528,""));return S}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ro(a),a=vn(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ao(i){return'href="'+Nt(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function U_(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function tA(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),rn(r,"link",a),St(r),i.head.appendChild(r))}function Ro(i){return'[src="'+Nt(i)+'"]'}function ou(i){return"script[async]"+i}function j_(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(u)return r.instance=u,St(u),u;var h=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),St(u),rn(u,"style",h),Cf(u,a.precedence,i),r.instance=u;case"stylesheet":h=Ao(a.href);var p=i.querySelector(au(h));if(p)return r.state.loading|=4,r.instance=p,St(p),p;u=U_(a),(h=ti.get(h))&&ap(u,h),p=(i.ownerDocument||i).createElement("link"),St(p);var S=p;return S._p=new Promise(function(O,Q){S.onload=O,S.onerror=Q}),rn(p,"link",u),r.state.loading|=4,Cf(p,a.precedence,i),r.instance=p;case"script":return p=Ro(a.src),(h=i.querySelector(ou(p)))?(r.instance=h,St(h),h):(u=a,(h=ti.get(p))&&(u=y({},a),op(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),St(h),rn(h,"link",u),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Cf(u,a.precedence,i));return r.instance}function Cf(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,S=0;S<u.length;S++){var O=u[S];if(O.dataset.precedence===r)p=O;else if(p!==h)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function ap(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function op(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var If=null;function z_(i,r,a){if(If===null){var u=new Map,h=If=new Map;h.set(a,u)}else h=If,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var p=a[h];if(!(p[js]||p[Lt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(r)||"";S=i+S;var O=u.get(S);O?O.push(p):u.set(S,[p])}}return u}function B_(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function nA(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function q_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var lu=null;function iA(){}function rA(i,r,a){if(lu===null)throw Error(s(475));var u=lu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ao(a.href),p=i.querySelector(au(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=xf.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=p,St(p);return}p=i.ownerDocument||i,a=U_(a),(h=ti.get(h))&&ap(a,h),p=p.createElement("link"),St(p);var S=p;S._p=new Promise(function(O,Q){S.onload=O,S.onerror=Q}),rn(p,"link",a),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=xf.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function sA(){if(lu===null)throw Error(s(475));var i=lu;return i.stylesheets&&i.count===0&&lp(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&lp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function xf(){if(this.count--,this.count===0){if(this.stylesheets)lp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nf=null;function lp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nf=new Map,r.forEach(aA,i),Nf=null,xf.call(i))}function aA(i,r){if(!(r.state.loading&4)){var a=Nf.get(i);if(a)var u=a.get(null);else{a=new Map,Nf.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var S=h[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),u=S)}u&&a.set(null,u)}h=r.instance,S=h.getAttribute("data-precedence"),p=a.get(S)||u,p===u&&a.set(null,h),a.set(S,h),this.count++,u=xf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var uu={$$typeof:L,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function oA(i,r,a,u,h,p,S,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function H_(i,r,a,u,h,p,S,O,Q,J,ue,fe){return i=new oA(i,r,a,S,O,Q,J,fe),r=1,p===!0&&(r|=24),p=Mn(3,null,null,r),i.current=p,p.stateNode=i,r=Hd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:r},Kd(p),i}function F_(i){return i?(i=no,i):no}function Q_(i,r,a,u,h,p){h=F_(h),u.context===null?u.context=h:u.pendingContext=h,u=Br(r),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=qr(i,u,r),a!==null&&(Un(a,i,r),jl(a,i,r))}function G_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function up(i,r){G_(i,r),(i=i.alternate)&&G_(i,r)}function K_(i){if(i.tag===13){var r=to(i,67108864);r!==null&&Un(r,i,67108864),up(i,67108864)}}var Df=!0;function lA(i,r,a,u){var h=K.T;K.T=null;var p=ie.p;try{ie.p=2,cp(i,r,a,u)}finally{ie.p=p,K.T=h}}function uA(i,r,a,u){var h=K.T;K.T=null;var p=ie.p;try{ie.p=8,cp(i,r,a,u)}finally{ie.p=p,K.T=h}}function cp(i,r,a,u){if(Df){var h=fp(u);if(h===null)Wm(i,r,u,Of,a),Y_(i,u);else if(fA(h,i,r,a,u))u.stopPropagation();else if(Y_(i,u),r&4&&-1<cA.indexOf(i)){for(;h!==null;){var p=yi(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=ri(p.pendingLanes);if(S!==0){var O=p;for(O.pendingLanes|=2,O.entangledLanes|=2;S;){var Q=1<<31-Vt(S);O.entanglements[1]|=Q,S&=~Q}Di(p),(it&6)===0&&(pf=Xe()+500,nu(0))}}break;case 13:O=to(p,2),O!==null&&Un(O,p,2),yf(),up(p,2)}if(p=fp(u),p===null&&Wm(i,r,u,Of,a),p===h)break;h=p}h!==null&&u.stopPropagation()}else Wm(i,r,u,null,a)}}function fp(i){return i=Gn(i),hp(i)}var Of=null;function hp(i){if(Of=null,i=Ki(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Of=i,null}function $_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kt()){case Zt:return 2;case Pt:return 8;case Hn:case ks:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var dp=!1,ts=null,ns=null,is=null,cu=new Map,fu=new Map,rs=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(i,r){switch(i){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":cu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(r.pointerId)}}function hu(i,r,a,u,h,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=yi(r),r!==null&&K_(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function fA(i,r,a,u,h){switch(r){case"focusin":return ts=hu(ts,i,r,a,u,h),!0;case"dragenter":return ns=hu(ns,i,r,a,u,h),!0;case"mouseover":return is=hu(is,i,r,a,u,h),!0;case"pointerover":var p=h.pointerId;return cu.set(p,hu(cu.get(p)||null,i,r,a,u,h)),!0;case"gotpointercapture":return p=h.pointerId,fu.set(p,hu(fu.get(p)||null,i,r,a,u,h)),!0}return!1}function X_(i){var r=Ki(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,gc(i.priority,function(){if(a.tag===13){var u=Ln();u=Or(u);var h=to(a,u);h!==null&&Un(h,a,u),up(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=fp(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);Wi=u,a.target.dispatchEvent(u),Wi=null}else return r=yi(a),r!==null&&K_(r),i.blockedOn=a,!1;r.shift()}return!0}function W_(i,r,a){Mf(i)&&a.delete(r)}function hA(){dp=!1,ts!==null&&Mf(ts)&&(ts=null),ns!==null&&Mf(ns)&&(ns=null),is!==null&&Mf(is)&&(is=null),cu.forEach(W_),fu.forEach(W_)}function kf(i,r){i.blockedOn===r&&(i.blockedOn=null,dp||(dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hA)))}var Pf=null;function Z_(i){Pf!==i&&(Pf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pf===i&&(Pf=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],h=i[r+2];if(typeof u!="function"){if(hp(u||a)===null)continue;break}var p=yi(a);p!==null&&(i.splice(r,3),r-=3,hm(p,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function du(i){function r(Q){return kf(Q,i)}ts!==null&&kf(ts,i),ns!==null&&kf(ns,i),is!==null&&kf(is,i),cu.forEach(r),fu.forEach(r);for(var a=0;a<rs.length;a++){var u=rs[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)X_(a),a.blockedOn===null&&rs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],p=a[u+1],S=h[xt]||null;if(typeof p=="function")S||Z_(a);else if(S){var O=null;if(p&&p.hasAttribute("formAction")){if(h=p,S=p[xt]||null)O=S.formAction;else if(hp(h)!==null)continue}else O=S.action;typeof O=="function"?a[u+1]=O:(a.splice(u,3),u-=3),Z_(a)}}}function mp(i){this._internalRoot=i}Vf.prototype.render=mp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Ln();Q_(a,u,i,r,null,null)},Vf.prototype.unmount=mp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Q_(i.current,2,null,i,null,null),yf(),r[Fn]=null}};function Vf(i){this._internalRoot=i}Vf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Mr();i={blockedOn:null,target:i,priority:r};for(var a=0;a<rs.length&&r!==0&&r<rs[a].priority;a++);rs.splice(a,0,i),a===0&&X_(i)}};var J_=e.version;if(J_!=="19.1.0")throw Error(s(527,J_,"19.1.0"));ie.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var dA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{mt=Lf.inject(dA),Je=Lf}catch{}}return pu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",h=pv,p=gv,S=yv,O=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(O=r.unstable_transitionCallbacks)),r=H_(i,1,!1,null,null,a,u,h,p,S,O,null),i[Fn]=r.current,Xm(i),new mp(r)},pu.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,h="",p=pv,S=gv,O=yv,Q=null,J=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(Q=a.unstable_transitionCallbacks),a.formState!==void 0&&(J=a.formState)),r=H_(i,1,!0,r,a??null,u,h,p,S,O,Q,J),r.context=F_(null),a=r.current,u=Ln(),u=Or(u),h=Br(u),h.callback=null,qr(a,h,u),a=u,r.current.lanes=a,Gi(r,a),Di(r),i[Fn]=r.current,Xm(i),new Vf(r)},pu.version="19.1.0",pu}var u2;function IA(){if(u2)return yp.exports;u2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yp.exports=CA(),yp.exports}var xA=IA();_E();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Mu.apply(this,arguments)}var fs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(fs||(fs={}));const c2="popstate";function NA(n){n===void 0&&(n={});function e(s,o){let{pathname:l,search:c,hash:d}=s.location;return Kp("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:lh(o)}return OA(e,t,null,n)}function vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function EE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DA(){return Math.random().toString(36).substr(2,8)}function f2(n,e){return{usr:n.state,key:n.key,idx:e}}function Kp(n,e,t,s){return t===void 0&&(t=null),Mu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Zo(e):e,{state:t,key:e&&e.key||s||DA()})}function lh(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Zo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function OA(n,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d=fs.Pop,m=null,g=y();g==null&&(g=0,c.replaceState(Mu({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function _(){d=fs.Pop;let P=y(),B=P==null?null:P-g;g=P,m&&m({action:d,location:j.location,delta:B})}function b(P,B){d=fs.Push;let q=Kp(j.location,P,B);g=y()+1;let L=f2(q,g),k=j.createHref(q);try{c.pushState(L,"",k)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(k)}l&&m&&m({action:d,location:j.location,delta:1})}function I(P,B){d=fs.Replace;let q=Kp(j.location,P,B);g=y();let L=f2(q,g),k=j.createHref(q);c.replaceState(L,"",k),l&&m&&m({action:d,location:j.location,delta:0})}function z(P){let B=o.location.origin!=="null"?o.location.origin:o.location.href,q=typeof P=="string"?P:lh(P);return q=q.replace(/ $/,"%20"),vt(B,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,B)}let j={get action(){return d},get location(){return n(o,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(c2,_),m=P,()=>{o.removeEventListener(c2,_),m=null}},createHref(P){return e(o,P)},createURL:z,encodeLocation(P){let B=z(P);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:b,replace:I,go(P){return c.go(P)}};return j}var h2;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(h2||(h2={}));function MA(n,e,t){return t===void 0&&(t="/"),kA(n,e,t)}function kA(n,e,t,s){let o=typeof e=="string"?Zo(e):e,l=jo(o.pathname||"/",t);if(l==null)return null;let c=bE(n);PA(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=GA(l);d=FA(c[m],g)}return d}function bE(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(vt(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let g=ds([s,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(vt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),bE(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:qA(g,l.index),routesMeta:y})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let m of TE(l.path))o(l,c,m)}),e}function TE(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=TE(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function PA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:HA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const VA=/^:[\w-]+$/,LA=3,UA=2,jA=1,zA=10,BA=-2,d2=n=>n==="*";function qA(n,e){let t=n.split("/"),s=t.length;return t.some(d2)&&(s+=BA),e&&(s+=UA),t.filter(o=>!d2(o)).reduce((o,l)=>o+(VA.test(l)?LA:l===""?jA:zA),s)}function HA(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function FA(n,e,t){let{routesMeta:s}=n,o={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=$p({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),b=m.route;if(!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:ds([l,_.pathname]),pathnameBase:XA(ds([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=ds([l,_.pathnameBase]))}return c}function $p(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=QA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,y,_)=>{let{paramName:b,isOptional:I}=y;if(b==="*"){let j=d[_]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const z=d[_];return I&&!z?g[b]=void 0:g[b]=(z||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function QA(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),EE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function GA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return EE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function jo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function KA(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Zo(n):n;return{pathname:t?t.startsWith("/")?t:$A(t,e):e,search:WA(s),hash:ZA(o)}}function $A(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function bp(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ug(n,e){let t=YA(n);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function jg(n,e,t,s){s===void 0&&(s=!1);let o;typeof n=="string"?o=Zo(n):(o=Mu({},n),vt(!o.pathname||!o.pathname.includes("?"),bp("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),bp("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),bp("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;o.pathname=b.join("/")}d=_>=0?e[_]:"/"}let m=KA(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}const ds=n=>n.join("/").replace(/\/\/+/g,"/"),XA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const SE=["post","put","patch","delete"];new Set(SE);const e3=["get",...SE];new Set(e3);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ku.apply(this,arguments)}const jh=F.createContext(null),wE=F.createContext(null),Cr=F.createContext(null),zh=F.createContext(null),Ir=F.createContext({outlet:null,matches:[],isDataRoute:!1}),AE=F.createContext(null);function t3(n,e){let{relative:t}=e===void 0?{}:e;Jo()||vt(!1);let{basename:s,navigator:o}=F.useContext(Cr),{hash:l,pathname:c,search:d}=Bh(n,{relative:t}),m=c;return s!=="/"&&(m=c==="/"?s:ds([s,c])),o.createHref({pathname:m,search:d,hash:l})}function Jo(){return F.useContext(zh)!=null}function xs(){return Jo()||vt(!1),F.useContext(zh).location}function RE(n){F.useContext(Cr).static||F.useLayoutEffect(n)}function Ft(){let{isDataRoute:n}=F.useContext(Ir);return n?p3():n3()}function n3(){Jo()||vt(!1);let n=F.useContext(jh),{basename:e,future:t,navigator:s}=F.useContext(Cr),{matches:o}=F.useContext(Ir),{pathname:l}=xs(),c=JSON.stringify(Ug(o,t.v7_relativeSplatPath)),d=F.useRef(!1);return RE(()=>{d.current=!0}),F.useCallback(function(g,y){if(y===void 0&&(y={}),!d.current)return;if(typeof g=="number"){s.go(g);return}let _=jg(g,JSON.parse(c),l,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ds([e,_.pathname])),(y.replace?s.replace:s.push)(_,y.state,y)},[e,s,c,l,n])}function i3(){let{matches:n}=F.useContext(Ir),e=n[n.length-1];return e?e.params:{}}function Bh(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=F.useContext(Cr),{matches:o}=F.useContext(Ir),{pathname:l}=xs(),c=JSON.stringify(Ug(o,s.v7_relativeSplatPath));return F.useMemo(()=>jg(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function r3(n,e){return s3(n,e)}function s3(n,e,t,s){Jo()||vt(!1);let{navigator:o,static:l}=F.useContext(Cr),{matches:c}=F.useContext(Ir),d=c[c.length-1],m=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let y=xs(),_;if(e){var b;let B=typeof e=="string"?Zo(e):e;g==="/"||(b=B.pathname)!=null&&b.startsWith(g)||vt(!1),_=B}else _=y;let I=_.pathname||"/",z=I;if(g!=="/"){let B=g.replace(/^\//,"").split("/");z="/"+I.replace(/^\//,"").split("/").slice(B.length).join("/")}let j=MA(n,{pathname:z}),P=c3(j&&j.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:ds([g,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:ds([g,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,t,s);return e&&P?F.createElement(zh.Provider,{value:{location:ku({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:fs.Pop}},P):P}function a3(){let n=m3(),e=JA(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,null)}const o3=F.createElement(a3,null);class l3 extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(Ir.Provider,{value:this.props.routeContext},F.createElement(AE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u3(n){let{routeContext:e,match:t,children:s}=n,o=F.useContext(jh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Ir.Provider,{value:e},s)}function c3(n,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let y=c.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);y>=0||vt(!1),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,g=-1;if(t&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:b,errors:I}=t,z=_.route.loader&&b[_.route.id]===void 0&&(!I||I[_.route.id]===void 0);if(_.route.lazy||z){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,_,b)=>{let I,z=!1,j=null,P=null;t&&(I=d&&_.route.id?d[_.route.id]:void 0,j=_.route.errorElement||o3,m&&(g<0&&b===0?(g3("route-fallback"),z=!0,P=null):g===b&&(z=!0,P=_.route.hydrateFallbackElement||null)));let B=e.concat(c.slice(0,b+1)),q=()=>{let L;return I?L=j:z?L=P:_.route.Component?L=F.createElement(_.route.Component,null):_.route.element?L=_.route.element:L=y,F.createElement(u3,{match:_,routeContext:{outlet:y,matches:B,isDataRoute:t!=null},children:L})};return t&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?F.createElement(l3,{location:t.location,revalidation:t.revalidation,component:j,error:I,children:q(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):q()},null)}var CE=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(CE||{}),IE=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(IE||{});function f3(n){let e=F.useContext(jh);return e||vt(!1),e}function h3(n){let e=F.useContext(wE);return e||vt(!1),e}function d3(n){let e=F.useContext(Ir);return e||vt(!1),e}function xE(n){let e=d3(),t=e.matches[e.matches.length-1];return t.route.id||vt(!1),t.route.id}function m3(){var n;let e=F.useContext(AE),t=h3(),s=xE();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function p3(){let{router:n}=f3(CE.UseNavigateStable),e=xE(IE.UseNavigateStable),t=F.useRef(!1);return RE(()=>{t.current=!0}),F.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,ku({fromRouteId:e},l)))},[n,e])}const m2={};function g3(n,e,t){m2[n]||(m2[n]=!0)}function y3(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function NE(n){let{to:e,replace:t,state:s,relative:o}=n;Jo()||vt(!1);let{future:l,static:c}=F.useContext(Cr),{matches:d}=F.useContext(Ir),{pathname:m}=xs(),g=Ft(),y=jg(e,Ug(d,l.v7_relativeSplatPath),m,o==="path"),_=JSON.stringify(y);return F.useEffect(()=>g(JSON.parse(_),{replace:t,state:s,relative:o}),[g,_,o,t,s]),null}function Rt(n){vt(!1)}function v3(n){let{basename:e="/",children:t=null,location:s,navigationType:o=fs.Pop,navigator:l,static:c=!1,future:d}=n;Jo()&&vt(!1);let m=e.replace(/^\/*/,"/"),g=F.useMemo(()=>({basename:m,navigator:l,static:c,future:ku({v7_relativeSplatPath:!1},d)}),[m,d,l,c]);typeof s=="string"&&(s=Zo(s));let{pathname:y="/",search:_="",hash:b="",state:I=null,key:z="default"}=s,j=F.useMemo(()=>{let P=jo(y,m);return P==null?null:{location:{pathname:P,search:_,hash:b,state:I,key:z},navigationType:o}},[m,y,_,b,I,z,o]);return j==null?null:F.createElement(Cr.Provider,{value:g},F.createElement(zh.Provider,{children:t,value:j}))}function _3(n){let{children:e,location:t}=n;return r3(Yp(e),t)}new Promise(()=>{});function Yp(n,e){e===void 0&&(e=[]);let t=[];return F.Children.forEach(n,(s,o)=>{if(!F.isValidElement(s))return;let l=[...e,o];if(s.type===F.Fragment){t.push.apply(t,Yp(s.props.children,l));return}s.type!==Rt&&vt(!1),!s.props.index||!s.props.children||vt(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Yp(s.props.children,l)),t.push(c)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uh(){return uh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},uh.apply(this,arguments)}function DE(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function E3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function b3(n,e){return n.button===0&&(!e||e==="_self")&&!E3(n)}const T3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],w3="6";try{window.__reactRouterVersion=w3}catch{}const A3=F.createContext({isTransitioning:!1}),R3="startTransition",p2=SA[R3];function C3(n){let{basename:e,children:t,future:s,window:o}=n,l=F.useRef();l.current==null&&(l.current=NA({window:o,v5Compat:!0}));let c=l.current,[d,m]=F.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},y=F.useCallback(_=>{g&&p2?p2(()=>m(_)):m(_)},[m,g]);return F.useLayoutEffect(()=>c.listen(y),[c,y]),F.useEffect(()=>y3(s),[s]),F.createElement(v3,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:s})}const I3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=F.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:_}=e,b=DE(e,T3),{basename:I}=F.useContext(Cr),z,j=!1;if(typeof g=="string"&&x3.test(g)&&(z=g,I3))try{let L=new URL(window.location.href),k=g.startsWith("//")?new URL(L.protocol+g):new URL(g),H=jo(k.pathname,I);k.origin===L.origin&&H!=null?g=H+k.search+k.hash:j=!0}catch{}let P=t3(g,{relative:o}),B=O3(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:o,viewTransition:_});function q(L){s&&s(L),L.defaultPrevented||B(L)}return F.createElement("a",uh({},b,{href:z||P,onClick:j||l?s:q,ref:t,target:m}))}),N3=F.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:l="",end:c=!1,style:d,to:m,viewTransition:g,children:y}=e,_=DE(e,S3),b=Bh(m,{relative:_.relative}),I=xs(),z=F.useContext(wE),{navigator:j,basename:P}=F.useContext(Cr),B=z!=null&&M3(b)&&g===!0,q=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,L=I.pathname,k=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;o||(L=L.toLowerCase(),k=k?k.toLowerCase():null,q=q.toLowerCase()),k&&P&&(k=jo(k,P)||k);const H=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let G=L===q||!c&&L.startsWith(q)&&L.charAt(H)==="/",D=k!=null&&(k===q||!c&&k.startsWith(q)&&k.charAt(q.length)==="/"),R={isActive:G,isPending:D,isTransitioning:B},w=G?s:void 0,C;typeof l=="function"?C=l(R):C=[l,G?"active":null,D?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let N=typeof d=="function"?d(R):d;return F.createElement(_s,uh({},_,{"aria-current":w,className:C,ref:t,style:N,to:m,viewTransition:g}),typeof y=="function"?y(R):y)});var Xp;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Xp||(Xp={}));var g2;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(g2||(g2={}));function D3(n){let e=F.useContext(jh);return e||vt(!1),e}function O3(n,e){let{target:t,replace:s,state:o,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,m=Ft(),g=xs(),y=Bh(n,{relative:c});return F.useCallback(_=>{if(b3(_,t)){_.preventDefault();let b=s!==void 0?s:lh(g)===lh(y);m(n,{replace:b,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[g,m,y,s,o,t,n,l,c,d])}function M3(n,e){e===void 0&&(e={});let t=F.useContext(A3);t==null&&vt(!1);let{basename:s}=D3(Xp.useViewTransitionState),o=Bh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=jo(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=jo(t.nextLocation.pathname,s)||t.nextLocation.pathname;return $p(o.pathname,c)!=null||$p(o.pathname,l)!=null}const k3="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0.47119876%208.723478260869566%20123.008%2035.563043478260866'%20style='max-height:%20500px'%20width='123.008'%20height='35.563043478260866'%3e%3cpath%20fill='white'%20d='M9.31%2043.475C6.80833%2043.475%204.8925%2042.7625%203.5625%2041.3375C2.26417%2039.9125%201.615%2037.9017%201.615%2035.305V17.445C1.615%2014.8483%202.26417%2012.8375%203.5625%2011.4125C4.8925%209.9875%206.80833%209.275%209.31%209.275C11.8117%209.275%2013.7117%209.9875%2015.01%2011.4125C16.34%2012.8375%2017.005%2014.8483%2017.005%2017.445V20.96H12.065V17.1125C12.065%2015.0542%2011.1942%2014.025%209.4525%2014.025C7.71083%2014.025%206.84%2015.0542%206.84%2017.1125V35.685C6.84%2037.7117%207.71083%2038.725%209.4525%2038.725C11.1942%2038.725%2012.065%2037.7117%2012.065%2035.685V30.6025H17.005V35.305C17.005%2037.9017%2016.34%2039.9125%2015.01%2041.3375C13.7117%2042.7625%2011.8117%2043.475%209.31%2043.475ZM22.5061%209.75H27.7311V43H22.5061V9.75ZM34.0193%209.75H40.5743L45.6568%2029.6525H45.7518V9.75H50.4068V43H45.0393L38.7693%2018.7275H38.6743V43H34.0193V9.75Z'/%3e%3cpath%20fill='white'%20d='M75.6975%209.75H89.52V14.5H80.9225V23.7625H87.6675V28.5125H80.9225V43H75.6975V9.75ZM94.4006%209.75H99.6256V43H94.4006V9.75ZM110.521%2025.995L104.774%209.75H110.284L113.799%2020.485H113.894L117.504%209.75H122.444L116.696%2025.995L122.729%2043H117.219L113.419%2031.41H113.324L109.429%2043H104.489L110.521%2025.995Z'/%3e%3cpath%20fill='%23E43A3A'%20d='M70.7295%2011.53C70.7295%2012.7491%2070.7057%2013.9138%2070.6582%2015.0221H59.7568C59.7568%2016.241%2059.7654%2017.4757%2059.7812%2018.7262C59.8129%2019.9612%2059.8443%2021.2287%2059.876%2022.527C59.9077%2023.5399%2060.1687%2024.2521%2060.6592%2024.6637C61.15%2025.0595%2061.9419%2025.2574%2063.0342%2025.2575C64.1266%2025.2575%2064.8946%2025.0596%2065.3379%2024.6637C65.7971%2024.2521%2066.0511%2023.5318%2066.0986%2022.5026C66.1303%2022.0277%2066.1455%2021.4099%2066.1455%2020.6501C66.1455%2019.8902%2066.1217%2019.0669%2066.0742%2018.1803H70.6582C70.6899%2018.6236%2070.7137%2019.249%2070.7295%2020.0563C70.7453%2020.8638%2070.7377%2021.5213%2070.7061%2022.028C70.5952%2024.4505%2069.9615%2026.1842%2068.8057%2027.2292C67.6498%2028.2741%2065.7496%2028.7966%2063.1055%2028.7966C60.3348%2028.7965%2058.3554%2028.2665%2057.168%2027.2057C55.9805%2026.1291%2055.3239%2024.4029%2055.1973%2022.028C55.1656%2020.9831%2055.1342%2019.7877%2055.1025%2018.4421C55.0867%2017.0804%2055.0781%2015.6788%2055.0781%2014.238C55.0781%2012.7813%2055.0867%2011.3721%2055.1025%2010.0104C55.1026%2010.0068%2055.1025%2010.0033%2055.1025%209.99968H59.7891C59.7842%2010.5416%2059.7812%2011.0837%2059.7812%2011.6257H66.1455V9.99968H70.7393C70.7383%2010.4861%2070.7363%2010.9962%2070.7295%2011.53Z'/%3e%3cpath%20fill='%23E43A3A'%20d='M63.3232%2033.6979C66.0605%2033.6979%2068.0326%2034.244%2069.2383%2035.3356C70.4437%2036.4109%2071.1037%2038.146%2071.2178%2040.5407C71.2341%2040.9154%2071.2422%2041.6086%2071.2422%2042.6188C71.2442%2042.7438%2071.2436%2042.8707%2071.2451%2042.9997H66.5322C66.5378%2042.4291%2066.5373%2041.9106%2066.5254%2041.445C66.5091%2040.7935%2066.4929%2040.3375%2066.4766%2040.0768C66.4114%2039.0506%2066.1341%2038.3338%2065.6455%2037.9264C65.1567%2037.5191%2064.3823%2037.3151%2063.3232%2037.3151C62.134%2037.3152%2061.3035%2037.5435%2060.8311%2037.9997C60.3586%2038.4396%2060.1058%2039.1318%2060.0732%2040.0768C60.0575%2041.0359%2060.0338%2042.0102%2060.0029%2042.9997H55.1992C55.22%2042.1761%2055.238%2041.4218%2055.2588%2040.737C55.4054%2038.1953%2056.1058%2036.3866%2057.3604%2035.3112C58.6312%2034.2359%2060.6188%2033.698%2063.3232%2033.6979Z'/%3e%3c/svg%3e",P3="/assets/avtar-DLLGQfp_.png",V3="/assets/disney-CD5xw0D9.svg",L3="data:image/svg+xml,%3csvg%20width='144'%20height='60'%20viewBox='0%200%20144%2060'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M144%200H0V60H144V0Z'%20fill='%23D32F2F'/%3e%3cpath%20d='M121.149%2014.748V6.00301H96.816L92.814%2035.214L88.854%206.00301H80.079L81.063%2013.797C80.049%2011.799%2076.458%206.00301%2068.55%206.00301C68.499%206.00001%2059.763%206.00301%2059.763%206.00301L59.73%2048.582L53.334%206.00301L41.841%205.99701L35.226%2050.115L35.229%206.00301H24.234L20.268%2030.783L16.407%206.00301H5.40601V53.967H14.07V30.849L18.012%2053.967H22.617L26.502%2030.849V53.967H43.203L44.217%2046.587H50.94L51.951%2053.967L68.349%2053.976H68.361V53.967H68.37H68.379V38.4L70.389%2038.106L74.55%2053.979H74.559H83.019H83.028L83.025%2053.97H83.04H83.049L77.589%2035.367C80.358%2033.321%2083.481%2028.122%2082.65%2023.148C82.659%2023.214%2087.804%2054%2087.804%2054L97.89%2053.97L104.784%2010.494V53.97H121.14V45.345H113.376V34.344H121.14V25.587H113.376V14.751L121.149%2014.748ZM45.237%2038.982L47.616%2018.477L50.085%2038.982H45.237ZM70.422%2029.514C69.756%2029.838%2069.06%2030%2068.382%2030V14.571C68.394%2014.571%2068.406%2014.568%2068.424%2014.568C69.102%2014.565%2074.16%2014.772%2074.16%2022.2C74.16%2026.085%2072.441%2028.533%2070.422%2029.514Z'%20fill='%23FAFAFA'/%3e%3cpath%20d='M138.603%2045.336H131.238V5.99701H122.649V53.961H138.603V45.336Z'%20fill='%23FAFAFA'/%3e%3c/svg%3e",U3="/assets/national-geographic-BPXDIGVZ.svg",j3="data:image/svg+xml,%3csvg%20width='70'%20height='17'%20viewBox='0%200%2070%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.3125%200.75L0.682861%201.77979L2.625%202.16821V13.2068C1.92944%2013.3513%201.30615%2013.55%200.61963%2013.6946L0.3125%2014.625H8.64111L8.36109%2013.6313C7.53003%2013.4868%206.40088%2013.3513%205.56983%2013.2068V2.16821C6.25635%202.16821%207.81006%202.38501%208.36109%202.66504C9.19214%203.0896%209.5625%203.93872%209.5625%205.0769C9.5625%207.19971%208.11719%208.03979%206.41895%208.29272V9.27734C9.3728%209.27734%2012.7964%207.34424%2012.7964%203.93872C12.7964%203.36963%2012.5254%202.09595%2010.8633%201.39136C9.8877%200.966796%207.81006%200.75%205.85889%200.75H0.3125ZM14.1875%200.75L14.4946%201.68042C15.1812%201.82495%2016.1567%202.02368%2016.8433%202.16821V13.2068C16.1567%2013.3513%2015.1812%2013.55%2014.4946%2013.6946L14.1875%2014.625H22.5071L22.2361%2013.6313C21.405%2013.4868%2020.574%2013.3513%2019.7339%2013.2068V2.16821C20.574%202.02368%2021.405%201.88819%2022.2361%201.74365L22.5071%200.75H14.1875ZM24.4402%200.75L24.7383%201.68042C25.199%201.77075%2025.8313%201.89722%2026.4094%202.01465L26.3823%202.02368C26.3823%202.02368%2030.1311%206.33252%2030.8176%207.18164C29.9866%208.31983%2026.7437%2012.7822%2025.9036%2013.3513C25.8584%2013.3965%2025.8403%2013.4326%2025.7952%2013.4688C25.3977%2013.55%2025.0002%2013.6313%2024.6841%2013.6946L24.377%2014.625H31.3145L31.0344%2013.6313L28.5503%2013.2158C29.3091%2011.7434%2031.1157%209.42188%2031.7751%208.62695C32.3262%209.19605%2036.5898%2014.9141%2038.252%2016.0432H39.6431L33.2295%206.67578C33.2385%206.66675%2036.5085%202.73731%2037.2041%202.16821L37.2493%202.11401C37.9719%201.98755%2038.7036%201.87012%2039.4263%201.74365L39.7063%200.75H32.7688L33.0759%201.68042C33.5366%201.77979%2034.187%201.89722%2034.7742%202.01465C34.187%203.02637%2032.7146%204.38135%2032.0461%205.19434C31.5222%204.39941%2030.1221%202.26758%2029.9053%201.94238C30.3027%201.87915%2030.7002%201.81592%2031.0977%201.74365L31.3777%200.75H24.4402ZM43.3196%200.75L43.6267%201.68042C44.2139%201.79785%2045.072%201.96045%2045.7405%202.09595C44.9365%204.25488%2042.4795%2011.7434%2041.7839%2013.3152C41.1426%2013.4416%2040.3838%2013.5862%2039.8508%2013.6946L39.5527%2014.625H46.4902L46.2102%2013.6313C45.614%2013.532%2044.4126%2013.3242%2044.4126%2013.3242L45.7405%209.47608H49.417L50.9436%2013.3242C50.9436%2013.3242%2049.7512%2013.532%2049.155%2013.6313L48.875%2014.625H55.8125L55.5144%2013.6946C55.135%2013.6223%2054.6562%2013.523%2054.1865%2013.4326C54.1685%2013.4055%2054.1685%2013.3784%2054.1504%2013.3513C53.3103%2011.6531%2050.1396%203.08057%2049.7151%201.93335C50.3745%201.87012%2051.0068%201.80689%2051.3682%201.74365L51.6482%200.75H43.3196ZM55.8125%2014.625H63.6804L63.4004%2013.6042C62.5603%2013.4597%2061.8467%2013.3242%2061.0156%2013.1797V9.47608H62.2532C63.2649%2010.9304%2065.1528%2012.7551%2068.0254%2014.905L69.6875%2014.625C68.3145%2013.1074%2066.273%2011.0569%2064.8909%208.92505C66.273%208.59082%2068.1428%207.48877%2068.0977%205.00464C68.0706%203.67676%2067.5828%200.75%2060.9072%200.75H55.8125L56.1829%201.77979L58.125%202.16821V13.1797L56.1106%2013.6946L55.8125%2014.625ZM61.0156%202.16821C61.7112%202.16821%2063.1023%202.38501%2063.6533%202.66504C64.4934%203.0896%2065.0444%203.93872%2065.0444%205.0769C65.0444%206.25122%2064.5386%206.89258%2063.7979%207.39844C63.3372%207.5791%2063.012%207.66944%2062.5513%207.70557H61.0156V2.16821ZM47.5381%202.88184L48.9473%207.70557H46.3005L47.5381%202.88184Z'%20fill='white'/%3e%3c/svg%3e",z3="data:image/svg+xml,%3csvg%20width='55'%20height='27'%20viewBox='0%200%2055%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.28638%200.15625C7.77478%200.15625%206.61316%201.29553%206.61316%202.89648C6.61316%203.58899%206.844%203.81238%206.96314%204.04321C7.28332%204.62402%208.76514%207.01428%208.76514%207.01428C8.84705%207.13342%208.86194%207.20789%208.88428%207.36426C9.00342%207.81848%208.65344%208.16101%208.18433%208.16101H0.8125V11.5938H11.0214C12.5255%2011.5938%2013.8063%2010.4545%2013.8063%208.85352C13.8063%208.16101%2013.5754%207.93762%2013.4563%207.70679L11.5203%204.73572C11.4607%204.64636%2011.4086%204.50488%2011.4086%204.38574C11.4086%203.93152%2011.7585%203.58899%2012.2202%203.58899H17.9688V11.5938H21.7812V3.58899H25.5938V0.15625H9.28638ZM28.7137%200.15625L24.9757%2011.5938H28.7137L29.3914%209.6875H33.3156L33.9932%2011.5938H37.6493L33.7847%200.15625H28.7137ZM39.1088%200.15625V11.5938H42.5787V8.03443C43.3457%208.74927%2045.1626%2010.447%2046.0636%2011.2512C46.1827%2011.3629%2046.5253%2011.5938%2046.9869%2011.5938H54.1875V8.16101H49.0868C48.8187%208.16101%2048.6326%208.08655%2048.4762%207.9823C48.4017%207.90784%2048.3496%207.86316%2048.29%207.81104C49.7048%207.18555%2050.375%205.78564%2050.375%204.15491C50.375%201.95825%2048.5432%200.15625%2046.3168%200.15625H39.1088ZM42.5787%203.58899H45.7285C46.0562%203.58899%2046.3168%203.84216%2046.3168%204.15491C46.3168%204.4751%2046.0562%204.73572%2045.7285%204.73572H42.5787V3.58899ZM31.3423%204.04321L32.2135%206.25476H30.5977L31.3423%204.04321ZM0.8125%2015.4062L4.68457%2026.8438H7.05249L8.4375%2022.2792L9.82251%2026.8438H12.1904L16.0625%2015.4062H12.384L11.0288%2019.74L9.56934%2015.4062H7.30566L5.84619%2019.74L4.49097%2015.4062H0.8125ZM20.4707%2015.4062L16.7327%2026.8438H20.4707L21.1483%2024.9375H25.0725L25.7501%2026.8438H29.4062L25.5342%2015.4062H20.4707ZM31.3125%2015.4062V26.8438H34.7974V23.277C35.5569%2023.9918%2037.0387%2025.697%2037.9471%2026.5012C38.0588%2026.6129%2038.4088%2026.8438%2038.8705%2026.8438H49.4963C51.0005%2026.8438%2052.2812%2025.8162%2052.2812%2024.1035C52.2812%2023.411%2052.0504%2023.1876%2051.9313%2022.9568L50.1665%2020.0974C50.1218%2020.0229%2050.0474%2019.8666%2050.0474%2019.7549C50.0474%2019.2932%2050.3899%2018.839%2050.7399%2018.839H54.1875V15.4062H47.5752C46.0636%2015.4062%2044.7903%2016.6647%2044.7903%2018.2656C44.7903%2018.9507%2045.0211%2019.1815%2045.1403%2019.4049C45.4679%2019.8442%2047.0614%2022.2643%2047.0614%2022.2643C47.1135%2022.3834%2047.1805%2022.4951%2047.1805%2022.6143C47.1805%2023.0685%2046.8306%2023.411%2046.4806%2023.411H40.9629C40.7618%2023.411%2040.6055%2023.3663%2040.4789%2023.2993C40.3746%2023.1876%2040.2927%2023.1057%2040.2183%2023.0312C41.6107%2022.3909%2042.75%2021.0133%2042.75%2019.4049C42.75%2017.2083%2040.9182%2015.4062%2038.6918%2015.4062H31.3125ZM34.7974%2018.839H38.1035C38.4312%2018.839%2038.6918%2019.0922%2038.6918%2019.4049C38.6918%2019.7251%2038.4312%2019.9857%2038.1035%2019.9857H34.7974V18.839ZM23.0992%2019.2932L23.9705%2021.5048H22.3546L23.0992%2019.2932Z'%20fill='white'/%3e%3c/svg%3e",B3="data:image/svg+xml,%3csvg%20width='100'%20height='41'%20viewBox='0%200%20100%2041'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M29%2041H18.1789V25.4802H11.1545V41H0V1H11.1545V15.8796H18.1789V1H29V41Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M79.6407%2028.4481C84.0704%2028.4481%2087.6615%2024.8532%2087.6615%2020.4174C87.6615%2015.9828%2084.0704%2012.3873%2079.6407%2012.3873C75.2104%2012.3873%2071.6196%2015.9828%2071.6196%2020.4174C71.6196%2024.8532%2075.2104%2028.4481%2079.6407%2028.4481ZM69.4374%2020.4174C69.4374%2014.7761%2074.0053%2010.2024%2079.6407%2010.2024C85.2758%2010.2024%2089.8445%2014.7761%2089.8445%2020.4174C89.8445%2026.0597%2085.2758%2030.6332%2079.6407%2030.6332C74.0053%2030.6332%2069.4374%2026.0597%2069.4374%2020.4174ZM55.2298%2020.4174C56.4924%2020.2573%2058.597%2018.8121%2059.3384%2017.8896C59.0778%2019.0335%2059.0579%2022.344%2059.3625%2023.4878C58.5162%2022.1835%2056.5127%2020.5781%2055.2298%2020.4174ZM47.8945%209.6028C49.4979%209.6028%2050.7607%2011.1875%2050.7607%2012.9936C50.7607%2014.7996%2049.4979%2016.3853%2047.8945%2016.3853H42.3833V9.6028H47.8945ZM47.8744%2024.6714C49.4776%2024.6714%2050.7405%2026.2569%2050.7405%2028.0624C50.7405%2029.8686%2049.4776%2031.4535%2047.8744%2031.4535H42.3631V24.6714H47.8744ZM79.634%2041C90.8639%2040.9956%20100.003%2031.6541%20100%2020.4095C99.9978%208.92773%2090.8639%200.00850959%2079.634%205.94324e-06C68.4171%20-0.00809056%2062.6858%208.25839%2061.2697%2011.595C61.2829%206.58612%2056.3518%200.673899%2050.5838%200.667575H32V40.8002L49.3264%2040.8036C56.3119%2040.8036%2061.2827%2034.7435%2061.2912%2029.5471C62.8857%2032.8175%2068.4171%2041.004%2079.634%2041Z'%20fill='white'/%3e%3c/svg%3e",q3="data:image/svg+xml,%3csvg%20width='179'%20height='56'%20viewBox='0%200%20179%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.481%2017C5.148%2017%200%2022.148%200%2028.481V55.037H5.444V40.297L7.444%2042.407L15.444%2039.26C20%2037.482%2022.963%2033.37%2022.963%2028.482C22.963%2022.149%2017.815%2017%2011.481%2017ZM13.519%2034.445L5.445%2037.593V28.482C5.445%2024.815%208.186%2022.186%2011.482%2022.186C14.778%2022.186%2017.519%2024.852%2017.519%2028.482C17.519%2030.778%2016.408%2033.297%2013.519%2034.445ZM107.556%2017C101.223%2017%2096.075%2022.148%2096.075%2028.481C96.075%2034.814%20101.223%2039.962%20107.556%2039.962C113.889%2039.962%20119.037%2034.814%20119.037%2028.481C119.037%2022.148%20113.889%2017%20107.556%2017ZM107.556%2034.778C104.075%2034.778%20101.519%2032.001%20101.519%2028.482C101.519%2024.963%20104.149%2022.186%20107.556%2022.186C111.037%2022.186%20113.593%2024.963%20113.593%2028.482C113.593%2032.001%20111.037%2034.778%20107.556%2034.778ZM132.408%2022.186C134.777%2022.186%20136.703%2023.482%20137.704%2025.408L141.963%2022.149C139.889%2019.075%20136.408%2017.038%20132.408%2017.038C126.074%2017.038%20120.926%2022.186%20120.926%2028.519C120.926%2034.852%20126.074%2040%20132.408%2040C136.371%2040%20139.888%2037.963%20141.963%2034.889L137.704%2031.629C136.703%2033.556%20134.777%2034.852%20132.408%2034.852C128.926%2034.852%20126.371%2032.075%20126.371%2028.556C126.371%2025.037%20129%2022.186%20132.408%2022.186ZM85.963%2022.186C88.334%2022.186%2090.26%2023.482%2091.26%2025.408L95.519%2022.149C93.445%2019.075%2089.963%2017.038%2085.963%2017.038C79.63%2017.038%2074.482%2022.186%2074.482%2028.519C74.482%2034.852%2079.63%2040%2085.963%2040C89.926%2040%2093.445%2037.963%2095.519%2034.889L91.26%2031.629C90.26%2033.556%2088.334%2034.852%2085.963%2034.852C82.482%2034.852%2079.926%2032.075%2079.926%2028.556C79.926%2025.037%2082.519%2022.186%2085.963%2022.186ZM66.926%2019.741C65.074%2017.815%2062.63%2017.001%2060.074%2017.001C54.74%2017.001%2049.334%2021.853%2049.334%2028.482C49.334%2035.111%2054.74%2039.963%2060.074%2039.963C62.63%2039.963%2065.074%2039.149%2066.926%2037.223V39.297H72.371V17.703H66.926V19.741ZM60.889%2034.778C57.409%2034.778%2054.778%2032.001%2054.778%2028.482C54.778%2024.963%2057.482%2022.186%2060.889%2022.186C64.371%2022.186%2066.926%2024.963%2066.926%2028.482C66.926%2032.001%2064.371%2034.778%2060.889%2034.778ZM157.111%2027.704H154.667L164.111%2017.667H157.111L149.481%2025.89V5.89001H144.037V39.298H149.481V33.15L152.481%2029.964L158.888%2039.298H165.481L157.111%2027.704ZM36.222%2017C29.889%2017%2024.741%2022.148%2024.741%2028.481C24.741%2034.814%2029.889%2039.962%2036.222%2039.962C40%2039.962%2043.555%2038.148%2045.593%2035.333L41.222%2032.296C40.703%2033.148%2039.037%2034.776%2036.222%2034.776C33.63%2034.776%2031.518%2033.221%2030.63%2030.962H47.186C47.372%2030.148%2047.446%2029.333%2047.446%2028.481C47.481%2022.149%2042.556%2017%2036.222%2017ZM30.667%2026C31.556%2023.74%2033.667%2022.186%2036.222%2022.186C38.815%2022.186%2040.778%2023.741%2041.593%2026H30.667Z'%20fill='white'/%3e%3cpath%20d='M175.371%2036.038C173.556%2036.038%20172.074%2037.519%20172.074%2039.335C172.074%2041.149%20173.555%2042.63%20175.371%2042.63C177.185%2042.63%20178.667%2041.15%20178.667%2039.335C178.667%2037.519%20177.186%2036.038%20175.371%2036.038Z'%20fill='%23069DE0'/%3e%3cpath%20d='M175.371%2027.038C173.556%2027.038%20172.074%2028.519%20172.074%2030.335C172.074%2032.149%20173.555%2033.63%20175.371%2033.63C177.185%2033.63%20178.667%2032.15%20178.667%2030.335C178.63%2028.482%20177.186%2027.038%20175.371%2027.038Z'%20fill='%236E55DC'/%3e%3cpath%20d='M175.371%2045.038C173.556%2045.038%20172.074%2046.519%20172.074%2048.335C172.074%2050.149%20173.555%2051.63%20175.371%2051.63C177.185%2051.63%20178.667%2050.15%20178.667%2048.335C178.667%2046.519%20177.186%2045.038%20175.371%2045.038Z'%20fill='%2305AC3F'/%3e%3cpath%20d='M175.371%2018C173.556%2018%20172.074%2019.481%20172.074%2021.297C172.074%2023.111%20173.555%2024.593%20175.371%2024.593C177.185%2024.593%20178.667%2023.112%20178.667%2021.297C178.63%2019.482%20177.186%2018%20175.371%2018Z'%20fill='%23EF1541'/%3e%3cpath%20d='M175.371%209C173.556%209%20172.074%2010.481%20172.074%2012.297C172.074%2014.111%20173.555%2015.593%20175.371%2015.593C177.185%2015.593%20178.667%2014.112%20178.667%2012.297C178.63%2010.482%20177.186%209%20175.371%209Z'%20fill='%23FF7112'/%3e%3cpath%20d='M175.371%200C173.556%200%20172.074%201.481%20172.074%203.297C172.074%205.111%20173.555%206.593%20175.371%206.593C177.185%206.593%20178.667%205.112%20178.667%203.297C178.63%201.482%20177.186%200%20175.371%200Z'%20fill='%23FCCC12'/%3e%3c/svg%3e",jn={logo:k3,avtar:P3,disney:V3,marvel:L3,national_geo:U3,pixar:j3,star_wars:z3,hbo:B3,peacock:q3},Cn=({to:n,iconClass:e,label:t,isSidebar:s=!1,onClick:o})=>T.jsx(N3,{to:n,children:({isActive:l})=>T.jsxs("li",{className:`${s?"sidebar-link":"navbar-link"} ${l?"active":""}`,onClick:o,children:[T.jsx("i",{className:`${e} ${l?"active-icon":""}`}),t]})}),H3=()=>{};var y2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},F3=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,I=g&63;m||(I=64,c||(b=64)),s.push(t[y],t[_],t[b],t[I])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(OE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):F3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||g==null||_==null)throw new Q3;const b=l<<2|d>>4;if(s.push(b),g!==64){const I=d<<4&240|g>>2;if(s.push(I),_!==64){const z=g<<6&192|_;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Q3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G3=function(n){const e=OE(n);return ME.encodeByteArray(e,!0)},ch=function(n){return G3(n).replace(/\./g,"")},kE=function(n){try{return ME.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=()=>K3().__FIREBASE_DEFAULTS__,Y3=()=>{if(typeof process>"u"||typeof y2>"u")return;const n=y2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},X3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kE(n[1]);return e&&JSON.parse(e)},qh=()=>{try{return H3()||$3()||Y3()||X3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PE=n=>{var e,t;return(t=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},W3=n=>{const e=PE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},VE=()=>{var n;return(n=qh())===null||n===void 0?void 0:n.config},LE=n=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ch(JSON.stringify(t)),ch(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function t4(){var n;const e=(n=qh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function r4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s4(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function a4(){return!t4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o4(){try{return typeof indexedDB=="object"}catch{return!1}}function l4(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="FirebaseError";class xr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=u4,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wu.prototype.create)}}class Wu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?c4(l,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new xr(o,d,s)}}function c4(n,e){return n.replace(f4,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const f4=/\{\$([^}]+)}/g;function h4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Er(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],c=e[o];if(v2(l)&&v2(c)){if(!Er(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function v2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Eu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function d4(n,e){const t=new m4(n,e);return t.subscribe.bind(t)}class m4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");p4(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Tp),o.error===void 0&&(o.error=Tp),o.complete===void 0&&(o.complete=Tp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n){return n.endsWith(".cloudworkstations.dev")}async function UE(n){return(await fetch(n,{credentials:"include"})).ok}class ba{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g4=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Z3;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v4(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:y4(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function y4(n){return n===pa?void 0:n}function v4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new g4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const E4={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},b4=Fe.INFO,T4={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},S4=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=T4[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zg{constructor(e){this.name=e,this._logLevel=b4,this._logHandler=S4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const w4=(n,e)=>e.some(t=>n instanceof t);let _2,E2;function A4(){return _2||(_2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R4(){return E2||(E2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,Wp=new WeakMap,zE=new WeakMap,Sp=new WeakMap,Bg=new WeakMap;function C4(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ms(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&jE.set(t,n)}).catch(()=>{}),Bg.set(e,n),e}function I4(n){if(Wp.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Wp.set(n,e)}let Zp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function x4(n){Zp=n(Zp)}function N4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(wp(this),e,...t);return zE.set(s,e.sort?e.sort():[e]),ms(s)}:R4().includes(n)?function(...e){return n.apply(wp(this),e),ms(jE.get(this))}:function(...e){return ms(n.apply(wp(this),e))}}function D4(n){return typeof n=="function"?N4(n):(n instanceof IDBTransaction&&I4(n),w4(n,A4())?new Proxy(n,Zp):n)}function ms(n){if(n instanceof IDBRequest)return C4(n);if(Sp.has(n))return Sp.get(n);const e=D4(n);return e!==n&&(Sp.set(n,e),Bg.set(e,n)),e}const wp=n=>Bg.get(n);function O4(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=ms(c);return s&&c.addEventListener("upgradeneeded",m=>{s(ms(c.result),m.oldVersion,m.newVersion,ms(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const M4=["get","getKey","getAll","getAllKeys","count"],k4=["put","add","delete","clear"],Ap=new Map;function b2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=k4.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||M4.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return Ap.set(e,l),l}x4(n=>({...n,get:(e,t,s)=>b2(e,t)||n.get(e,t,s),has:(e,t)=>!!b2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(V4(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function V4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jp="@firebase/app",T2="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new zg("@firebase/app"),L4="@firebase/app-compat",U4="@firebase/analytics-compat",j4="@firebase/analytics",z4="@firebase/app-check-compat",B4="@firebase/app-check",q4="@firebase/auth",H4="@firebase/auth-compat",F4="@firebase/database",Q4="@firebase/data-connect",G4="@firebase/database-compat",K4="@firebase/functions",$4="@firebase/functions-compat",Y4="@firebase/installations",X4="@firebase/installations-compat",W4="@firebase/messaging",Z4="@firebase/messaging-compat",J4="@firebase/performance",eR="@firebase/performance-compat",tR="@firebase/remote-config",nR="@firebase/remote-config-compat",iR="@firebase/storage",rR="@firebase/storage-compat",sR="@firebase/firestore",aR="@firebase/vertexai",oR="@firebase/firestore-compat",lR="firebase",uR="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",cR={[Jp]:"fire-core",[L4]:"fire-core-compat",[j4]:"fire-analytics",[U4]:"fire-analytics-compat",[B4]:"fire-app-check",[z4]:"fire-app-check-compat",[q4]:"fire-auth",[H4]:"fire-auth-compat",[F4]:"fire-rtdb",[Q4]:"fire-data-connect",[G4]:"fire-rtdb-compat",[K4]:"fire-fn",[$4]:"fire-fn-compat",[Y4]:"fire-iid",[X4]:"fire-iid-compat",[W4]:"fire-fcm",[Z4]:"fire-fcm-compat",[J4]:"fire-perf",[eR]:"fire-perf-compat",[tR]:"fire-rc",[nR]:"fire-rc-compat",[iR]:"fire-gcs",[rR]:"fire-gcs-compat",[sR]:"fire-fst",[oR]:"fire-fst-compat",[aR]:"fire-vertex","fire-js":"fire-js",[lR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,fR=new Map,tg=new Map;function S2(n,e){try{n.container.addComponent(e)}catch(t){br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zo(n){const e=n.name;if(tg.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,n);for(const t of fh.values())S2(t,n);for(const t of fR.values())S2(t,n);return!0}function qg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ii(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Wu("app","Firebase",hR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=uR;function BE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:eg,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(t||(t=VE()),!t)throw ps.create("no-options");const l=fh.get(o);if(l){if(Er(t,l.options)&&Er(s,l.config))return l;throw ps.create("duplicate-app",{appName:o})}const c=new _4(o);for(const m of tg.values())c.addComponent(m);const d=new dR(t,s,c);return fh.set(o,d),d}function qE(n=eg){const e=fh.get(n);if(!e&&n===eg&&VE())return BE();if(!e)throw ps.create("no-app",{appName:n});return e}function gs(n,e,t){var s;let o=(s=cR[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(d.join(" "));return}zo(new ba(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",pR=1,Pu="firebase-heartbeat-store";let Rp=null;function HE(){return Rp||(Rp=O4(mR,pR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ps.create("idb-open",{originalErrorMessage:n.message})})),Rp}async function gR(n){try{const t=(await HE()).transaction(Pu),s=await t.objectStore(Pu).get(FE(n));return await t.done,s}catch(e){if(e instanceof xr)br.warn(e.message);else{const t=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(t.message)}}}async function w2(n,e){try{const s=(await HE()).transaction(Pu,"readwrite");await s.objectStore(Pu).put(e,FE(n)),await s.done}catch(t){if(t instanceof xr)br.warn(t.message);else{const s=ps.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});br.warn(s.message)}}}function FE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1024,vR=30;class _R{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=A2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>vR){const c=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){br.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A2(),{heartbeatsToSend:s,unsentEntries:o}=ER(this._heartbeatsCache.heartbeats),l=ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return br.warn(t),""}}}function A2(){return new Date().toISOString().substring(0,10)}function ER(n,e=yR){const t=[];let s=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),R2(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),R2(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class bR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o4()?l4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return w2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return w2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function R2(n){return ch(JSON.stringify({version:2,heartbeats:n})).length}function TR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n){zo(new ba("platform-logger",e=>new P4(e),"PRIVATE")),zo(new ba("heartbeat",e=>new _R(e),"PRIVATE")),gs(Jp,T2,n),gs(Jp,T2,"esm2017"),gs("fire-js","")}SR("");function Hg(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function QE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wR=QE,GE=new Wu("auth","Firebase",QE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new zg("@firebase/auth");function AR(n,...e){hh.logLevel<=Fe.WARN&&hh.warn(`Auth (${el}): ${n}`,...e)}function Zf(n,...e){hh.logLevel<=Fe.ERROR&&hh.error(`Auth (${el}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(n,...e){throw Fg(n,...e)}function Mi(n,...e){return Fg(n,...e)}function KE(n,e,t){const s=Object.assign(Object.assign({},wR()),{[e]:t});return new Wu("auth","Firebase",s).create(e,{appName:n.name})}function _r(n){return KE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return GE.create(n,...e)}function Ne(n,e,...t){if(!n)throw Fg(e,...t)}function yr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zf(e),new Error(e)}function Tr(n,e){n||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function RR(){return C2()==="http:"||C2()==="https:"}function C2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RR()||i4()||"connection"in navigator)?navigator.onLine:!0}function IR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tr(t>e,"Short delay should be less than long delay!"),this.isMobile=e4()||r4()}get(){return CR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(n,e){Tr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DR=new Ju(3e4,6e4);function Ns(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ds(n,e,t,s,o={}){return YE(n,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Zu(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return n4()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Hh(n.emulatorConfig.host)&&(g.credentials="include"),$E.fetch()(await XE(n,n.config.apiHost,t,d),g)})}async function YE(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},xR),e);try{const o=new MR(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw jf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw jf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw jf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw jf(n,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw KE(n,y,g);mi(n,y)}}catch(o){if(o instanceof xr)throw o;mi(n,"network-request-failed",{message:String(o)})}}async function ec(n,e,t,s,o={}){const l=await Ds(n,e,t,s,o);return"mfaPendingCredential"in l&&mi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function XE(n,e,t,s){const o=`${e}${t}?${s}`,l=n,c=l.config.emulator?Qg(n.config,o):`${n.config.apiScheme}://${o}`;return NR.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function OR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),DR.get())})}}function jf(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Mi(n,e,s);return o.customData._tokenResponse=t,o}function I2(n){return n!==void 0&&n.enterprise!==void 0}class kR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PR(n,e){return Ds(n,"GET","/v2/recaptchaConfig",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e){return Ds(n,"POST","/v1/accounts:delete",e)}async function dh(n,e){return Ds(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LR(n,e=!1){const t=gn(n),s=await t.getIdToken(e),o=Gg(s);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Au(Cp(o.auth_time)),issuedAtTime:Au(Cp(o.iat)),expirationTime:Au(Cp(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Cp(n){return Number(n)*1e3}function Gg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{const o=kE(t);return o?JSON.parse(o):(Zf("Failed to decode base64 JWT payload"),null)}catch(o){return Zf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function x2(n){const e=Gg(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof xr&&UR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function UR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(n){var e;const t=n.auth,s=await n.getIdToken(),o=await Vu(n,dh(t,{idToken:s}));Ne(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?WE(l.providerUserInfo):[],d=BR(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ig(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function zR(n){const e=gn(n);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BR(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function WE(n){return n.map(e=>{var{providerId:t}=e,s=Hg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,e){const t=await YE(n,{},async()=>{const s=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await XE(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HR(n,e){return Ds(n,"POST","/v2/accounts:revokeToken",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=x2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await qR(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new ko;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fi{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ig(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Vu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LR(this,e)}reload(){return zR(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await Vu(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,c,d,m,g,y;const _=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,z=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,B=(g=t.createdAt)!==null&&g!==void 0?g:void 0,q=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:L,emailVerified:k,isAnonymous:H,providerData:G,stsTokenManager:D}=t;Ne(L&&D,e,"internal-error");const R=ko.fromJSON(this.name,D);Ne(typeof L=="string",e,"internal-error"),as(_,e.name),as(b,e.name),Ne(typeof k=="boolean",e,"internal-error"),Ne(typeof H=="boolean",e,"internal-error"),as(I,e.name),as(z,e.name),as(j,e.name),as(P,e.name),as(B,e.name),as(q,e.name);const w=new fi({uid:L,auth:e,email:b,emailVerified:k,displayName:_,isAnonymous:H,photoURL:z,phoneNumber:I,tenantId:j,stsTokenManager:R,createdAt:B,lastLoginAt:q});return G&&Array.isArray(G)&&(w.providerData=G.map(C=>Object.assign({},C))),P&&(w._redirectEventId=P),w}static async _fromIdTokenResponse(e,t,s=!1){const o=new ko;o.updateFromServerResponse(t);const l=new fi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?WE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new ko;d.updateFromIdToken(s);const m=new fi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Map;function vr(n){Tr(n instanceof Function,"Expected a class definition");let e=N2.get(n);return e?(Tr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,N2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ZE.type="NONE";const D2=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(n,e,t){return`firebase:${n}:${e}:${t}`}class Po{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Jf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Jf("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await dh(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Po(vr(D2),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||vr(D2);const c=Jf(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const b=await dh(e,{idToken:y}).catch(()=>{});if(!b)break;_=await fi._fromGetAccountInfoResponse(e,b,y)}else _=fi._fromJSON(e,y);g!==l&&(d=_),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Po(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Po(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rb(e))return"Blackberry";if(sb(e))return"Webos";if(eb(e))return"Safari";if((e.includes("chrome/")||tb(e))&&!e.includes("edge/"))return"Chrome";if(ib(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function JE(n=pn()){return/firefox\//i.test(n)}function eb(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tb(n=pn()){return/crios\//i.test(n)}function nb(n=pn()){return/iemobile/i.test(n)}function ib(n=pn()){return/android/i.test(n)}function rb(n=pn()){return/blackberry/i.test(n)}function sb(n=pn()){return/webos/i.test(n)}function Kg(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FR(n=pn()){var e;return Kg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QR(){return s4()&&document.documentMode===10}function ab(n=pn()){return Kg(n)||ib(n)||sb(n)||rb(n)||/windows phone/i.test(n)||nb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n,e=[]){let t;switch(n){case"Browser":t=O2(pn());break;case"Worker":t=`${O2(pn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${el}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(n,e={}){return Ds(n,"GET","/v2/passwordPolicy",Ns(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=6;class YR{constructor(e){var t,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:$R,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M2(this),this.idTokenSubscription=new M2(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dh(this,{idToken:e}),s=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(_r(this));const t=e?gn(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KR(this),t=new YR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await HR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Oa(n){return gn(n)}class M2{constructor(e){this.auth=e,this.observer=null,this.addObserver=d4(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WR(n){Fh=n}function lb(n){return Fh.loadJS(n)}function ZR(){return Fh.recaptchaEnterpriseScript}function JR(){return Fh.gapiScript}function eC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class tC{constructor(){this.enterprise=new nC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iC="recaptcha-enterprise",ub="NO_RECAPTCHA";class rC{constructor(e){this.type=iC,this.auth=Oa(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{PR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new kR(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function o(l,c,d){const m=window.grecaptcha;I2(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(ub)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tC().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&I2(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=ZR();m.length!==0&&(m+=d),lb(m).then(()=>{o(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function k2(n,e,t,s=!1,o=!1){const l=new rC(n);let c;if(o)c=ub;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function rg(n,e,t,s,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await k2(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await k2(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n,e){const t=qg(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Er(l,e??{}))return o;mi(o,"already-initialized")}return t.initialize({options:e})}function aC(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(vr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function oC(n,e,t){const s=Oa(n);Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=cb(e),{host:c,port:d}=lC(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ne(Er(g,s.config.emulator)&&Er(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,uC(),Hh(c)&&UE(`${l}//${c}${m}`)}function cb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function lC(n){const e=cb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:P2(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:P2(c)}}}function P2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function uC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,t){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}async function cC(n,e){return Ds(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(n,e){return ec(n,"POST","/v1/accounts:signInWithPassword",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(n,e){return ec(n,"POST","/v1/accounts:signInWithEmailLink",Ns(n,e))}async function dC(n,e){return ec(n,"POST","/v1/accounts:signInWithEmailLink",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends $g{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Lu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Lu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,t,"signInWithPassword",fC);case"emailLink":return hC(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,s,"signUpPassword",cC);case"emailLink":return dC(e,{idToken:t,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,e){return ec(n,"POST","/v1/accounts:signInWithIdp",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="http://localhost";class Ta extends $g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Hg(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Ta(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Vo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gC(n){const e=_u(Eu(n)).link,t=e?_u(Eu(e)).deep_link_id:null,s=_u(Eu(n)).deep_link_id;return(s?_u(Eu(s)).link:null)||s||t||e||n}class Yg{constructor(e){var t,s,o,l,c,d;const m=_u(Eu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,y=(s=m.oobCode)!==null&&s!==void 0?s:null,_=pC((o=m.mode)!==null&&o!==void 0?o:null);Ne(g&&y&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=gC(e);try{return new Yg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(e,t){return Lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Yg.parseLink(t);return Ne(s,"argument-error"),Lu._fromEmailAndCode(e,s.code,s.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends tc{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ta._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ls.credential(t,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends tc{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends tc{constructor(){super("twitter.com")}static credential(e,t){return Ta._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return cs.credential(t,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e){return ec(n,"POST","/v1/accounts:signUp",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await fi._fromIdTokenResponse(e,s,o),c=V2(s);return new Sa({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=V2(s);return new Sa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function V2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends xr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new ph(e,t,s,o)}}function hb(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(n,l,e,s):l})}async function vC(n,e,t=!1){const s=await Vu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Sa._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(n,e,t=!1){const{auth:s}=n;if(ii(s.app))return Promise.reject(_r(s));const o="reauthenticate";try{const l=await Vu(n,hb(s,o,e,n),t);Ne(l.idToken,s,"internal-error");const c=Gg(l.idToken);Ne(c,s,"internal-error");const{sub:d}=c;return Ne(n.uid===d,s,"user-mismatch"),Sa._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&mi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(n,e,t=!1){if(ii(n.app))return Promise.reject(_r(n));const s="signIn",o=await hb(n,s,e),l=await Sa._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function EC(n,e){return db(Oa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(n){const e=Oa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bC(n,e,t){if(ii(n.app))return Promise.reject(_r(n));const s=Oa(n),c=await rg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yC).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&mb(n),m}),d=await Sa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function pb(n,e,t){return ii(n.app)?Promise.reject(_r(n)):EC(gn(n),tl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mb(n),s})}function TC(n,e,t,s){return gn(n).onIdTokenChanged(e,t,s)}function SC(n,e,t){return gn(n).beforeAuthStateChanged(e,t)}function nc(n,e,t,s){return gn(n).onAuthStateChanged(e,t,s)}function wC(n){return gn(n).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1e3,RC=10;class yb extends gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);QR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yb.type="LOCAL";const CC=yb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vb.type="SESSION";const _b=vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await IC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Xg("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(_){const b=_;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function NC(n){ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function DC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function MC(){return Eb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebaseLocalStorageDb",kC=1,yh="firebaseLocalStorage",Tb="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gh(n,e){return n.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function PC(){const n=indexedDB.deleteDatabase(bb);return new ic(n).toPromise()}function sg(){const n=indexedDB.open(bb,kC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(yh,{keyPath:Tb})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(yh)?e(s):(s.close(),await PC(),e(await sg()))})})}async function L2(n,e,t){const s=Gh(n,!0).put({[Tb]:e,value:t});return new ic(s).toPromise()}async function VC(n,e){const t=Gh(n,!1).get(e),s=await new ic(t).toPromise();return s===void 0?null:s.value}function U2(n,e){const t=Gh(n,!0).delete(e);return new ic(t).toPromise()}const LC=800,UC=3;class Sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>UC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(MC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await DC(),!this.activeServiceWorker)return;this.sender=new xC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await L2(e,gh,"1"),await U2(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>L2(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>VC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>U2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Gh(o,!1).getAll();return new ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sb.type="LOCAL";const jC=Sb;new Ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n,e){return e?vr(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends $g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BC(n){return db(n.auth,new Wg(n),n.bypassAuthState)}function qC(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),_C(t,new Wg(n),n.bypassAuthState)}async function HC(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),vC(t,new Wg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return HC;case"reauthViaPopup":case"reauthViaRedirect":return qC;default:mi(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Ju(2e3,1e4);class Mo extends wb{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FC.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="pendingRedirect",eh=new Map;class GC extends wb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await KC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(n,e){const t=XC(e),s=YC(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function $C(n,e){eh.set(n._key(),e)}function YC(n){return vr(n._redirectPersistence)}function XC(n){return Jf(QC,n.config.apiKey,n.name)}async function WC(n,e,t=!1){if(ii(n.app))return Promise.reject(_r(n));const s=Oa(n),o=zC(s,e),c=await new GC(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=10*60*1e3;class JC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Ab(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Mi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZC&&this.cachedEventUids.clear(),this.cachedEventUids.has(j2(e))}saveEventToCache(e){this.cachedEventUids.add(j2(e)),this.lastProcessedEventTime=Date.now()}}function j2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ab({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ab(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(n,e={}){return Ds(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iI=/^https?/;async function rI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await tI(n);for(const t of e)try{if(sI(t))return}catch{}mi(n,"unauthorized-domain")}function sI(n){const e=ng(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!iI.test(t))return!1;if(nI.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Ju(3e4,6e4);function z2(){const n=ki().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function oI(n){return new Promise((e,t)=>{var s,o,l;function c(){z2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z2(),t(Mi(n,"network-request-failed"))},timeout:aI.get()})}if(!((o=(s=ki().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ki().gapi)===null||l===void 0)&&l.load)c();else{const d=eC("iframefcb");return ki()[d]=()=>{gapi.load?c():t(Mi(n,"network-request-failed"))},lb(`${JR()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw th=null,e})}let th=null;function lI(n){return th=th||oI(n),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Ju(5e3,15e3),cI="__/auth/iframe",fI="emulator/auth/iframe",hI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mI(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Qg(e,fI):`https://${n.config.authDomain}/${cI}`,s={apiKey:e.apiKey,appName:n.name,v:el},o=dI.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Zu(s).slice(1)}`}async function pI(n){const e=await lI(n),t=ki().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:mI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hI,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Mi(n,"network-request-failed"),d=ki().setTimeout(()=>{l(c)},uI.get());function m(){ki().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yI=500,vI=600,_I="_blank",EI="http://localhost";class B2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bI(n,e,t,s=yI,o=vI){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},gI),{width:s.toString(),height:o.toString(),top:l,left:c}),g=pn().toLowerCase();t&&(d=tb(g)?_I:t),JE(g)&&(e=e||EI,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[I,z])=>`${b}${I}=${z},`,"");if(FR(g)&&d!=="_self")return TI(e||"",d),new B2(null);const _=window.open(e||"",d,y);Ne(_,n,"popup-blocked");try{_.focus()}catch{}return new B2(_)}function TI(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="__/auth/handler",wI="emulator/auth/handler",AI=encodeURIComponent("fac");async function q2(n,e,t,s,o,l){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:el,eventId:o};if(e instanceof fb){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",h4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof tc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await n._getAppCheckToken(),g=m?`#${AI}=${encodeURIComponent(m)}`:"";return`${RI(n)}?${Zu(d).slice(1)}${g}`}function RI({config:n}){return n.emulator?Qg(n,wI):`https://${n.authDomain}/${SI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class CI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_b,this._completeRedirectFn=WC,this._overrideRedirectResult=$C}async _openPopup(e,t,s,o){var l;Tr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await q2(e,t,s,ng(),o);return bI(e,c,Xg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await q2(e,t,s,ng(),o);return NC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Tr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await pI(e),s=new JC(e);return t.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ip,{type:Ip},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Ip];c!==void 0&&t(!!c),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ab()||eb()||Kg()}}const II=CI;var H2="@firebase/auth",F2="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DI(n){zo(new ba("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ob(n)},g=new XR(s,o,l,m);return aC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),zo(new ba("auth-internal",e=>{const t=Oa(e.getProvider("auth").getImmediate());return(s=>new xI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(H2,F2,NI(n)),gs(H2,F2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=5*60,MI=LE("authIdTokenMaxAge")||OI;let Q2=null;const kI=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>MI)return;const o=t==null?void 0:t.token;Q2!==o&&(Q2=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _a(n=qE()){const e=qg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=sC(n,{popupRedirectResolver:II,persistence:[jC,CC,_b]}),s=LE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=kI(l.toString());SC(t,c,()=>c(t.currentUser)),TC(t,d=>c(d))}}const o=PE("auth");return o&&oC(t,`http://${o}`),t}function PI(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}WR({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=Mi("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",PI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DI("Browser");var VI="firebase",LI="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(VI,LI,"app");var G2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,Rb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function w(){}w.prototype=R.prototype,D.D=R.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(C,N,M){for(var x=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)x[Z-2]=arguments[Z];return R.prototype[N].apply(C,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,w){w||(w=0);var C=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)C[N]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(N=0;16>N;++N)C[N]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=D.g[0],w=D.g[1],N=D.g[2];var M=D.g[3],x=R+(M^w&(N^M))+C[0]+3614090360&4294967295;R=w+(x<<7&4294967295|x>>>25),x=M+(N^R&(w^N))+C[1]+3905402710&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(w^M&(R^w))+C[2]+606105819&4294967295,N=M+(x<<17&4294967295|x>>>15),x=w+(R^N&(M^R))+C[3]+3250441966&4294967295,w=N+(x<<22&4294967295|x>>>10),x=R+(M^w&(N^M))+C[4]+4118548399&4294967295,R=w+(x<<7&4294967295|x>>>25),x=M+(N^R&(w^N))+C[5]+1200080426&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(w^M&(R^w))+C[6]+2821735955&4294967295,N=M+(x<<17&4294967295|x>>>15),x=w+(R^N&(M^R))+C[7]+4249261313&4294967295,w=N+(x<<22&4294967295|x>>>10),x=R+(M^w&(N^M))+C[8]+1770035416&4294967295,R=w+(x<<7&4294967295|x>>>25),x=M+(N^R&(w^N))+C[9]+2336552879&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(w^M&(R^w))+C[10]+4294925233&4294967295,N=M+(x<<17&4294967295|x>>>15),x=w+(R^N&(M^R))+C[11]+2304563134&4294967295,w=N+(x<<22&4294967295|x>>>10),x=R+(M^w&(N^M))+C[12]+1804603682&4294967295,R=w+(x<<7&4294967295|x>>>25),x=M+(N^R&(w^N))+C[13]+4254626195&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(w^M&(R^w))+C[14]+2792965006&4294967295,N=M+(x<<17&4294967295|x>>>15),x=w+(R^N&(M^R))+C[15]+1236535329&4294967295,w=N+(x<<22&4294967295|x>>>10),x=R+(N^M&(w^N))+C[1]+4129170786&4294967295,R=w+(x<<5&4294967295|x>>>27),x=M+(w^N&(R^w))+C[6]+3225465664&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^w&(M^R))+C[11]+643717713&4294967295,N=M+(x<<14&4294967295|x>>>18),x=w+(M^R&(N^M))+C[0]+3921069994&4294967295,w=N+(x<<20&4294967295|x>>>12),x=R+(N^M&(w^N))+C[5]+3593408605&4294967295,R=w+(x<<5&4294967295|x>>>27),x=M+(w^N&(R^w))+C[10]+38016083&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^w&(M^R))+C[15]+3634488961&4294967295,N=M+(x<<14&4294967295|x>>>18),x=w+(M^R&(N^M))+C[4]+3889429448&4294967295,w=N+(x<<20&4294967295|x>>>12),x=R+(N^M&(w^N))+C[9]+568446438&4294967295,R=w+(x<<5&4294967295|x>>>27),x=M+(w^N&(R^w))+C[14]+3275163606&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^w&(M^R))+C[3]+4107603335&4294967295,N=M+(x<<14&4294967295|x>>>18),x=w+(M^R&(N^M))+C[8]+1163531501&4294967295,w=N+(x<<20&4294967295|x>>>12),x=R+(N^M&(w^N))+C[13]+2850285829&4294967295,R=w+(x<<5&4294967295|x>>>27),x=M+(w^N&(R^w))+C[2]+4243563512&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^w&(M^R))+C[7]+1735328473&4294967295,N=M+(x<<14&4294967295|x>>>18),x=w+(M^R&(N^M))+C[12]+2368359562&4294967295,w=N+(x<<20&4294967295|x>>>12),x=R+(w^N^M)+C[5]+4294588738&4294967295,R=w+(x<<4&4294967295|x>>>28),x=M+(R^w^N)+C[8]+2272392833&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^w)+C[11]+1839030562&4294967295,N=M+(x<<16&4294967295|x>>>16),x=w+(N^M^R)+C[14]+4259657740&4294967295,w=N+(x<<23&4294967295|x>>>9),x=R+(w^N^M)+C[1]+2763975236&4294967295,R=w+(x<<4&4294967295|x>>>28),x=M+(R^w^N)+C[4]+1272893353&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^w)+C[7]+4139469664&4294967295,N=M+(x<<16&4294967295|x>>>16),x=w+(N^M^R)+C[10]+3200236656&4294967295,w=N+(x<<23&4294967295|x>>>9),x=R+(w^N^M)+C[13]+681279174&4294967295,R=w+(x<<4&4294967295|x>>>28),x=M+(R^w^N)+C[0]+3936430074&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^w)+C[3]+3572445317&4294967295,N=M+(x<<16&4294967295|x>>>16),x=w+(N^M^R)+C[6]+76029189&4294967295,w=N+(x<<23&4294967295|x>>>9),x=R+(w^N^M)+C[9]+3654602809&4294967295,R=w+(x<<4&4294967295|x>>>28),x=M+(R^w^N)+C[12]+3873151461&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^w)+C[15]+530742520&4294967295,N=M+(x<<16&4294967295|x>>>16),x=w+(N^M^R)+C[2]+3299628645&4294967295,w=N+(x<<23&4294967295|x>>>9),x=R+(N^(w|~M))+C[0]+4096336452&4294967295,R=w+(x<<6&4294967295|x>>>26),x=M+(w^(R|~N))+C[7]+1126891415&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~w))+C[14]+2878612391&4294967295,N=M+(x<<15&4294967295|x>>>17),x=w+(M^(N|~R))+C[5]+4237533241&4294967295,w=N+(x<<21&4294967295|x>>>11),x=R+(N^(w|~M))+C[12]+1700485571&4294967295,R=w+(x<<6&4294967295|x>>>26),x=M+(w^(R|~N))+C[3]+2399980690&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~w))+C[10]+4293915773&4294967295,N=M+(x<<15&4294967295|x>>>17),x=w+(M^(N|~R))+C[1]+2240044497&4294967295,w=N+(x<<21&4294967295|x>>>11),x=R+(N^(w|~M))+C[8]+1873313359&4294967295,R=w+(x<<6&4294967295|x>>>26),x=M+(w^(R|~N))+C[15]+4264355552&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~w))+C[6]+2734768916&4294967295,N=M+(x<<15&4294967295|x>>>17),x=w+(M^(N|~R))+C[13]+1309151649&4294967295,w=N+(x<<21&4294967295|x>>>11),x=R+(N^(w|~M))+C[4]+4149444226&4294967295,R=w+(x<<6&4294967295|x>>>26),x=M+(w^(R|~N))+C[11]+3174756917&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~w))+C[2]+718787259&4294967295,N=M+(x<<15&4294967295|x>>>17),x=w+(M^(N|~R))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+M&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var w=R-this.blockSize,C=this.B,N=this.h,M=0;M<R;){if(N==0)for(;M<=w;)o(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<R;)if(C[N++]=D.charCodeAt(M++),N==this.blockSize){o(this,C),N=0;break}}else for(;M<R;)if(C[N++]=D[M++],N==this.blockSize){o(this,C),N=0;break}}this.h=N,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var w=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.u(D),D=Array(16),R=w=0;4>R;++R)for(var C=0;32>C;C+=8)D[w++]=this.g[R]>>>C&255;return D};function l(D,R){var w=d;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=R(D)}function c(D,R){this.h=R;for(var w=[],C=!0,N=D.length-1;0<=N;N--){var M=D[N]|0;C&&M==R||(w[N]=M,C=!1)}this.g=w}var d={};function m(D){return-128<=D&&128>D?l(D,function(R){return new c([R|0],0>R?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return P(g(-D));for(var R=[],w=1,C=0;D>=w;C++)R[C]=D/w|0,w*=4294967296;return new c(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return P(y(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(R,8)),C=_,N=0;N<D.length;N+=8){var M=Math.min(8,D.length-N),x=parseInt(D.substring(N,N+M),R);8>M?(M=g(Math.pow(R,M)),C=C.j(M).add(g(x))):(C=C.j(w),C=C.add(g(x)))}return C}var _=m(0),b=m(1),I=m(16777216);n=c.prototype,n.m=function(){if(j(this))return-P(this).m();for(var D=0,R=1,w=0;w<this.g.length;w++){var C=this.i(w);D+=(0<=C?C:4294967296+C)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(z(this))return"0";if(j(this))return"-"+P(this).toString(D);for(var R=g(Math.pow(D,6)),w=this,C="";;){var N=k(w,R).g;w=B(w,N.j(R));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=N,z(w))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function z(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function j(D){return D.h==-1}n.l=function(D){return D=B(this,D),j(D)?-1:z(D)?0:1};function P(D){for(var R=D.g.length,w=[],C=0;C<R;C++)w[C]=~D.g[C];return new c(w,~D.h).add(b)}n.abs=function(){return j(this)?P(this):this},n.add=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],C=0,N=0;N<=R;N++){var M=C+(this.i(N)&65535)+(D.i(N)&65535),x=(M>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);C=x>>>16,M&=65535,x&=65535,w[N]=x<<16|M}return new c(w,w[w.length-1]&-2147483648?-1:0)};function B(D,R){return D.add(P(R))}n.j=function(D){if(z(this)||z(D))return _;if(j(this))return j(D)?P(this).j(P(D)):P(P(this).j(D));if(j(D))return P(this.j(P(D)));if(0>this.l(I)&&0>D.l(I))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,w=[],C=0;C<2*R;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<D.g.length;N++){var M=this.i(C)>>>16,x=this.i(C)&65535,Z=D.i(N)>>>16,de=D.i(N)&65535;w[2*C+2*N]+=x*de,q(w,2*C+2*N),w[2*C+2*N+1]+=M*de,q(w,2*C+2*N+1),w[2*C+2*N+1]+=x*Z,q(w,2*C+2*N+1),w[2*C+2*N+2]+=M*Z,q(w,2*C+2*N+2)}for(C=0;C<R;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=R;C<2*R;C++)w[C]=0;return new c(w,0)};function q(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function L(D,R){this.g=D,this.h=R}function k(D,R){if(z(R))throw Error("division by zero");if(z(D))return new L(_,_);if(j(D))return R=k(P(D),R),new L(P(R.g),P(R.h));if(j(R))return R=k(D,P(R)),new L(P(R.g),R.h);if(30<D.g.length){if(j(D)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var w=b,C=R;0>=C.l(D);)w=H(w),C=H(C);var N=G(w,1),M=G(C,1);for(C=G(C,2),w=G(w,2);!z(C);){var x=M.add(C);0>=x.l(D)&&(N=N.add(w),M=x),C=G(C,1),w=G(w,1)}return R=B(D,N.j(R)),new L(N,R)}for(N=_;0<=D.l(R);){for(w=Math.max(1,Math.floor(D.m()/R.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=g(w),x=M.j(R);j(x)||0<x.l(D);)w-=C,M=g(w),x=M.j(R);z(M)&&(M=b),N=N.add(M),D=B(D,x)}return new L(N,D)}n.A=function(D){return k(this,D).h},n.and=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],C=0;C<R;C++)w[C]=this.i(C)&D.i(C);return new c(w,this.h&D.h)},n.or=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],C=0;C<R;C++)w[C]=this.i(C)|D.i(C);return new c(w,this.h|D.h)},n.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],C=0;C<R;C++)w[C]=this.i(C)^D.i(C);return new c(w,this.h^D.h)};function H(D){for(var R=D.g.length+1,w=[],C=0;C<R;C++)w[C]=D.i(C)<<1|D.i(C-1)>>>31;return new c(w,D.h)}function G(D,R){var w=R>>5;R%=32;for(var C=D.g.length-w,N=[],M=0;M<C;M++)N[M]=0<R?D.i(M+w)>>>R|D.i(M+w+1)<<32-R:D.i(M+w);return new c(N,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Rb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,ys=c}).apply(typeof G2<"u"?G2:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cb,bu,Ib,nh,ag,xb,Nb,Db;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(f,v){if(v)e:{var E=s;f=f.split(".");for(var U=0;U<f.length-1;U++){var X=f[U];if(!(X in E))break e;E=E[X]}f=f[f.length-1],U=E[f],v=v(U),v!=U&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var E=0,U=!1,X={next:function(){if(!U&&E<f.length){var se=E++;return{value:v(se,f[se]),done:!1}}return U=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(f){return f||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function g(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,E){return f.call.apply(f.bind,arguments)}function _(f,v,E){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,U),f.apply(v,X)}}return function(){return f.apply(v,arguments)}}function b(f,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function I(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var U=E.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function z(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(U,X,se){for(var ve=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ve[Ge-2]=arguments[Ge];return v.prototype[X].apply(U,ve)}}function j(f){const v=f.length;if(0<v){const E=Array(v);for(let U=0;U<v;U++)E[U]=f[U];return E}return[]}function P(f,v){for(let E=1;E<arguments.length;E++){const U=arguments[E];if(m(U)){const X=f.length||0,se=U.length||0;f.length=X+se;for(let ve=0;ve<se;ve++)f[X+ve]=U[ve]}else f.push(U)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(f){return/^[\s\xa0]*$/.test(f)}function L(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var H=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function G(f,v,E){for(const U in f)v.call(E,f[U],U,f)}function D(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function R(f){const v={};for(const E in f)v[E]=f[E];return v}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,v){let E,U;for(let X=1;X<arguments.length;X++){U=arguments[X];for(E in U)f[E]=U[E];for(let se=0;se<w.length;se++)E=w[se],Object.prototype.hasOwnProperty.call(U,E)&&(f[E]=U[E])}}function N(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function M(f){d.setTimeout(()=>{throw f},0)}function x(){var f=pe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Z{constructor(){this.h=this.g=null}add(v,E){const U=de.get();U.set(v,E),this.h?this.h.next=U:this.g=U,this.h=U}}var de=new B(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,oe=!1,pe=new Z,A=()=>{const f=d.Promise.resolve(void 0);ie=()=>{f.then(V)}};var V=()=>{for(var f;f=x();){try{f.h.call(f.g)}catch(E){M(E)}var v=de;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}oe=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return f}();function ae(f,v){if(te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(H){e:{try{k(v.nodeName);var X=!0;break e}catch{}X=!1}X||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:me[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ae.aa.h.call(this)}}z(ae,te);var me={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Me(f,v,E,U,X){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!U,this.ha=X,this.key=++_e,this.da=this.fa=!1}function we(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Te(f){this.src=f,this.g={},this.h=0}Te.prototype.add=function(f,v,E,U,X){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var ve=We(f,v,U,X);return-1<ve?(v=f[ve],E||(v.fa=!1)):(v=new Me(v,this.src,se,!!U,X),v.fa=E,f.push(v)),v};function ke(f,v){var E=v.type;if(E in f.g){var U=f.g[E],X=Array.prototype.indexOf.call(U,v,void 0),se;(se=0<=X)&&Array.prototype.splice.call(U,X,1),se&&(we(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function We(f,v,E,U){for(var X=0;X<f.length;++X){var se=f[X];if(!se.da&&se.listener==v&&se.capture==!!E&&se.ha==U)return X}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),ut={};function ct(f,v,E,U,X){if(Array.isArray(v)){for(var se=0;se<v.length;se++)ct(f,v[se],E,U,X);return null}return E=Pa(E),f&&f[ge]?f.K(v,E,g(U)?!!U.capture:!1,X):Xe(f,v,E,!1,U,X)}function Xe(f,v,E,U,X,se){if(!v)throw Error("Invalid event type");var ve=g(X)?!!X.capture:!!X,Ge=Nr(f);if(Ge||(f[Ae]=Ge=new Te(f)),E=Ge.add(v,E,U,ve,se),E.proxy)return E;if(U=kt(),E.proxy=U,U.src=f,U.listener=E,f.addEventListener)le||(X=ve),X===void 0&&(X=!1),f.addEventListener(v.toString(),U,X);else if(f.attachEvent)f.attachEvent(Hn(v.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return E}function kt(){function f(E){return v.call(f.src,f.listener,E)}const v=ks;return f}function Zt(f,v,E,U,X){if(Array.isArray(v))for(var se=0;se<v.length;se++)Zt(f,v[se],E,U,X);else U=g(U)?!!U.capture:!!U,E=Pa(E),f&&f[ge]?(f=f.i,v=String(v).toString(),v in f.g&&(se=f.g[v],E=We(se,E,U,X),-1<E&&(we(se[E]),Array.prototype.splice.call(se,E,1),se.length==0&&(delete f.g[v],f.h--)))):f&&(f=Nr(f))&&(v=f.g[v.toString()],f=-1,v&&(f=We(v,E,U,X)),(E=-1<f?v[f]:null)&&Pt(E))}function Pt(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ge])ke(v.i,f);else{var E=f.type,U=f.proxy;v.removeEventListener?v.removeEventListener(E,U,f.capture):v.detachEvent?v.detachEvent(Hn(E),U):v.addListener&&v.removeListener&&v.removeListener(U),(E=Nr(v))?(ke(E,f),E.h==0&&(E.src=null,v[Ae]=null)):we(f)}}}function Hn(f){return f in ut?ut[f]:ut[f]="on"+f}function ks(f,v){if(f.da)f=!0;else{v=new ae(v,this);var E=f.listener,U=f.ha||f.src;f.fa&&Pt(f),f=E.call(U,v)}return f}function Nr(f){return f=f[Ae],f instanceof Te?f:null}var Dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pa(f){return typeof f=="function"?f:(f[Dr]||(f[Dr]=function(v){return f.handleEvent(v)}),f[Dr])}function mt(){ee.call(this),this.i=new Te(this),this.M=this,this.F=null}z(mt,ee),mt.prototype[ge]=!0,mt.prototype.removeEventListener=function(f,v,E,U){Zt(this,f,v,E,U)};function Je(f,v){var E,U=f.F;if(U)for(E=[];U;U=U.F)E.push(U);if(f=f.M,U=v.type||v,typeof v=="string")v=new te(v,f);else if(v instanceof te)v.target=v.target||f;else{var X=v;v=new te(U,f),C(v,X)}if(X=!0,E)for(var se=E.length-1;0<=se;se--){var ve=v.g=E[se];X=yn(ve,U,!0,v)&&X}if(ve=v.g=f,X=yn(ve,U,!0,v)&&X,X=yn(ve,U,!1,v)&&X,E)for(se=0;se<E.length;se++)ve=v.g=E[se],X=yn(ve,U,!1,v)&&X}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],U=0;U<E.length;U++)we(E[U]);delete f.g[v],f.h--}}this.F=null},mt.prototype.K=function(f,v,E,U){return this.i.add(String(f),v,!1,E,U)},mt.prototype.L=function(f,v,E,U){return this.i.add(String(f),v,!0,E,U)};function yn(f,v,E,U){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var X=!0,se=0;se<v.length;++se){var ve=v[se];if(ve&&!ve.da&&ve.capture==E){var Ge=ve.listener,Ut=ve.ha||ve.src;ve.fa&&ke(f.i,ve),X=Ge.call(Ut,U)!==!1&&X}}return X&&!U.defaultPrevented}function Vt(f,v,E){if(typeof f=="function")E&&(f=b(f,E));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(f,v||0)}function Ps(f){f.g=Vt(()=>{f.g=null,f.i&&(f.i=!1,Ps(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Vs extends ee{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ps(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(f){ee.call(this),this.h=f,this.g={}}z(Hi,ee);var Fi=[];function Ls(f){G(f.g,function(v,E){this.g.hasOwnProperty(E)&&Pt(v)},f),f.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),Ls(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=d.JSON.stringify,Va=d.JSON.parse,Us=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function ul(){}ul.prototype.h=null;function cl(f){return f.h||(f.h=f.i())}function fl(){}var Qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){te.call(this,"d")}z(Gi,te);function hl(){te.call(this,"c")}z(hl,te);var gi={},dl=null;function Or(){return dl=dl||new mt}gi.La="serverreachability";function La(f){te.call(this,gi.La,f)}z(La,te);function Mr(f){const v=Or();Je(v,new La(v))}gi.STAT_EVENT="statevent";function gc(f,v){te.call(this,gi.STAT_EVENT,f),this.stat=v}z(gc,te);function pt(f){const v=Or();Je(v,new gc(v,f))}gi.Ma="timingevent";function Lt(f,v){te.call(this,gi.Ma,f),this.size=v}z(Lt,te);function xt(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},v)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function ml(f,v,E,U,X,se){f.info(function(){if(f.g)if(se)for(var ve="",Ge=se.split("&"),Ut=0;Ut<Ge.length;Ut++){var Ke=Ge[Ut].split("=");if(1<Ke.length){var Gt=Ke[0];Ke=Ke[1];var jt=Gt.split("_");ve=2<=jt.length&&jt[1]=="type"?ve+(Gt+"="+Ke+"&"):ve+(Gt+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+U+") [attempt "+X+"]: "+v+`
`+E+`
`+ve})}function vd(f,v,E,U,X,se,ve){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+X+"]: "+v+`
`+E+`
`+se+" "+ve})}function kr(f,v,E,U){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+js(f,E)+(U?" "+U:"")})}function yc(f,v){f.info(function(){return"TIMEOUT: "+v})}Fn.prototype.info=function(){};function js(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var U=E[f];if(!(2>U.length)){var X=U[1];if(Array.isArray(X)&&!(1>X.length)){var se=X[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return ri(E)}catch{return v}}var Pr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function vi(){}z(vi,ul),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},yi=new vi;function vn(f,v,E,U){this.j=f,this.i=v,this.l=E,this.R=U||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var pl={},Ua={};function si(f,v,E){f.L=1,f.v=Fs(Dn(v)),f.m=E,f.P=!0,$i(f,null)}function $i(f,v){f.F=Date.now(),zs(f),f.A=Dn(f.v);var E=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),bl(E.i,"t",U),f.C=0,E=f.j.J,f.h=new St,f.g=Mc(f.j,E?v:null,!f.m),0<f.O&&(f.M=new Vs(b(f.Y,f,f.g),f.O)),v=f.U,E=f.g,U=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(Fi[0]=X.toString()),X=Fi);for(var se=0;se<X.length;se++){var ve=ct(E,X[se],U||v.handleEvent,!1,v.h||v);if(!ve)break;v.g[ve.key]=ve}v=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Mr(),ml(f.i,f.u,f.A,f.l,f.R,f.m)}vn.prototype.ca=function(f){f=f.target;const v=this.M;v&&$n(f)==3?v.j():this.Y(f)},vn.prototype.Y=function(f){try{if(f==this.g)e:{const jt=$n(this.g);var v=this.g.Ba();const nr=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Ac(this.g)))){this.J||jt!=4||v==7||(v==8||0>=nr?Mr(3):Mr(2)),Vr(this);var E=this.g.Z();this.X=E;t:if(vc(this)){var U=Ac(this.g);f="";var X=U.length,se=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),_i(this);var ve="";break t}this.h.i=new d.TextDecoder}for(v=0;v<X;v++)this.h.h=!0,f+=this.h.i.decode(U[v],{stream:!(se&&v==X-1)});U.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=E==200,vd(this.i,this.u,this.A,this.l,this.R,jt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Ut=this.g;if((Ge=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ge)){var Ke=Ge;break t}}Ke=null}if(E=Ke)kr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bs(this,E);else{this.o=!1,this.s=3,pt(12),Jt(this),_i(this);break e}}if(this.P){E=!0;let en;for(;!this.J&&this.C<ve.length;)if(en=_c(this,ve),en==Ua){jt==4&&(this.s=4,pt(14),E=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==pl){this.s=4,pt(15),kr(this.i,this.l,ve,"[Invalid Chunk]"),E=!1;break}else kr(this.i,this.l,en,null),Bs(this,en);if(vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||ve.length!=0||this.h.h||(this.s=1,pt(16),E=!1),this.o=this.o&&E,!E)kr(this.i,this.l,ve,"[Invalid Chunked Response]"),Jt(this),_i(this);else if(0<ve.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Zs(Gt),Gt.M=!0,pt(11))}}else kr(this.i,this.l,ve,null),Bs(this,ve);jt==4&&Jt(this),this.o&&!this.J&&(jt==4?Nc(this.j,this):(this.o=!1,zs(this)))}else Sd(this.g),E==400&&0<ve.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Jt(this),_i(this)}}}catch{}finally{}};function vc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function _c(f,v){var E=f.C,U=v.indexOf(`
`,E);return U==-1?Ua:(E=Number(v.substring(E,U)),isNaN(E)?pl:(U+=1,U+E>v.length?Ua:(v=v.slice(U,U+E),f.C=U+E,v)))}vn.prototype.cancel=function(){this.J=!0,Jt(this)};function zs(f){f.S=Date.now()+f.I,Ec(f,f.I)}function Ec(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xt(b(f.ba,f),v)}function Vr(f){f.B&&(d.clearTimeout(f.B),f.B=null)}vn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(yc(this.i,this.A),this.L!=2&&(Mr(),pt(17)),Jt(this),this.s=2,_i(this)):Ec(this,this.S-f)};function _i(f){f.j.G==0||f.J||Nc(f.j,f)}function Jt(f){Vr(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Ls(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Bs(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||gl(E.h,f))){if(!f.K&&gl(E.h,f)&&E.G==3){try{var U=E.Da.g.parse(v)}catch{U=null}if(Array.isArray(U)&&U.length==3){var X=U;if(X[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Xa(E),$a(E);else break e;Rl(E),pt(18)}}else E.za=X[1],0<E.za-E.T&&37500>X[2]&&E.F&&E.v==0&&!E.C&&(E.C=xt(b(E.Za,E),6e3));if(1>=za(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else tr(E,11)}else if((f.K||E.g==f)&&Xa(E),!q(v))for(X=E.Da.g.parse(v),v=0;v<X.length;v++){let Ke=X[v];if(E.T=Ke[0],Ke=Ke[1],E.G==2)if(Ke[0]=="c"){E.K=Ke[1],E.ia=Ke[2];const Gt=Ke[3];Gt!=null&&(E.la=Gt,E.j.info("VER="+E.la));const jt=Ke[4];jt!=null&&(E.Aa=jt,E.j.info("SVER="+E.Aa));const nr=Ke[5];nr!=null&&typeof nr=="number"&&0<nr&&(U=1.5*nr,E.L=U,E.j.info("backChannelRequestTimeoutMs_="+U)),U=E;const en=f.g;if(en){const Ri=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var se=U.h;se.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ba(se,se.h),se.h=null))}if(U.D){const Il=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(U.ya=Il,st(U.I,U.D,Il))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),U=E;var ve=f;if(U.qa=Oc(U,U.J?U.ia:null,U.W),ve.K){_n(U.h,ve);var Ge=ve,Ut=U.L;Ut&&(Ge.I=Ut),Ge.B&&(Vr(Ge),zs(Ge)),U.g=ve}else Ic(U);0<E.i.length&&Ya(E)}else Ke[0]!="stop"&&Ke[0]!="close"||tr(E,7);else E.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?tr(E,7):wl(E):Ke[0]!="noop"&&E.l&&E.l.ta(Ke),E.v=0)}}Mr(4)}catch{}}var bc=class{constructor(f,v){this.g=f,this.map=v}};function Yi(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function za(f){return f.h?1:f.g?f.g.size:0}function gl(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Ba(f,v){f.g?f.g.add(v):f.h=v}function _n(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Yi.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function yl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return j(f.i)}function _d(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var v=[],E=f.length,U=0;U<E;U++)v.push(f[U]);return v}v=[],E=0;for(U in f)v[E++]=f[U];return v}function qa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const U in f)v[E++]=U;return v}}}function vl(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=qa(f),U=_d(f),X=U.length,se=0;se<X;se++)v.call(void 0,U[se],E&&E[se],f)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ed(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var U=f[E].indexOf("="),X=null;if(0<=U){var se=f[E].substring(0,U);X=f[E].substring(U+1)}else se=f[E];v(se,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Nt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Nt){this.h=f.h,Hs(this,f.j),this.o=f.o,this.g=f.g,Lr(this,f.s),this.l=f.l;var v=f.i,E=new Wi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Xi(this,E),this.m=f.m}else f&&(v=String(f).match(qs))?(this.h=!1,Hs(this,v[1]||"",!0),this.o=Qn(v[2]||""),this.g=Qn(v[3]||"",!0),Lr(this,v[4]),this.l=Qn(v[5]||"",!0),Xi(this,v[6]||"",!0),this.m=Qn(v[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}Nt.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Qs(v,_l,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Qs(v,_l,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Qs(E,E.charAt(0)=="/"?bd:El,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Qs(E,Ha)),f.join("")};function Dn(f){return new Nt(f)}function Hs(f,v,E){f.j=E?Qn(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Lr(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Xi(f,v,E){v instanceof Wi?(f.i=v,Sc(f.i,f.h)):(E||(v=Qs(v,Td)),f.i=new Wi(v,f.h))}function st(f,v,E){f.i.set(v,E)}function Fs(f){return st(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Qn(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qs(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,Tc),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Tc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _l=/[#\/\?@]/g,El=/[#\?:]/g,bd=/[#\?]/g,Td=/[#\?@]/g,Ha=/#/g;function Wi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Gn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ed(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Wi.prototype,n.add=function(f,v){Gn(this),this.i=null,f=Ei(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function Zi(f,v){Gn(f),v=Ei(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Ji(f,v){return Gn(f),v=Ei(f,v),f.g.has(v)}n.forEach=function(f,v){Gn(this),this.g.forEach(function(E,U){E.forEach(function(X){f.call(v,X,U,this)},this)},this)},n.na=function(){Gn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let U=0;U<v.length;U++){const X=f[U];for(let se=0;se<X.length;se++)E.push(v[U])}return E},n.V=function(f){Gn(this);let v=[];if(typeof f=="string")Ji(this,f)&&(v=v.concat(this.g.get(Ei(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},n.set=function(f,v){return Gn(this),this.i=null,f=Ei(this,f),Ji(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function bl(f,v,E){Zi(f,v),0<E.length&&(f.i=null,f.g.set(Ei(f,v),j(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var U=v[E];const se=encodeURIComponent(String(U)),ve=this.V(U);for(U=0;U<ve.length;U++){var X=se;ve[U]!==""&&(X+="="+encodeURIComponent(String(ve[U]))),f.push(X)}}return this.i=f.join("&")};function Ei(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Sc(f,v){v&&!f.j&&(Gn(f),f.i=null,f.g.forEach(function(E,U){var X=U.toLowerCase();U!=X&&(Zi(this,U),bl(this,X,E))},f)),f.j=v}function Gs(f,v){const E=new Fn;if(d.Image){const U=new Image;U.onload=I(Kn,E,"TestLoadImage: loaded",!0,v,U),U.onerror=I(Kn,E,"TestLoadImage: error",!1,v,U),U.onabort=I(Kn,E,"TestLoadImage: abort",!1,v,U),U.ontimeout=I(Kn,E,"TestLoadImage: timeout",!1,v,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else v(!1)}function ai(f,v){const E=new Fn,U=new AbortController,X=setTimeout(()=>{U.abort(),Kn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:U.signal}).then(se=>{clearTimeout(X),se.ok?Kn(E,"TestPingServer: ok",!0,v):Kn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(X),Kn(E,"TestPingServer: error",!1,v)})}function Kn(f,v,E,U,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),U(E)}catch{}}function Ks(){this.g=new Us}function bi(f,v,E){const U=E||"";try{vl(f,function(X,se){let ve=X;g(X)&&(ve=ri(X)),v.push(U+se+"="+encodeURIComponent(ve))})}catch(X){throw v.push(U+"type="+encodeURIComponent("_badmap")),X}}function Ur(f){this.l=f.Ub||null,this.j=f.eb||!1}z(Ur,ul),Ur.prototype.g=function(){return new er(this.l,this.j)},Ur.prototype.i=function(f){return function(){return f}}({});function er(f,v){mt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(er,mt),n=er.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Si(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Ti(this):Si(this),this.readyState==3&&Tl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ti(this))},n.Qa=function(f){this.g&&(this.response=f,Ti(this))},n.ga=function(){this.g&&Ti(this)};function Ti(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Si(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function Si(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Sl(f){let v="";return G(f,function(E,U){v+=U,v+=":",v+=E,v+=`\r
`}),v}function Qt(f,v,E){e:{for(U in E){var U=!1;break e}U=!0}U||(E=Sl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):st(f,v,E))}function tt(f){mt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(tt,mt);var Fa=/^https?$/i,$s=["POST","PUT"];n=tt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,E,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?cl(this.o):cl(yi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(se){wc(this,se);return}if(f=E||"",E=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var X in U)E.set(X,U[X]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const se of U.keys())E.set(se,U.get(se));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),X=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call($s,v,void 0))||U||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of E)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){wc(this,se)}};function wc(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Qa(f),wi(f)}function Qa(f){f.A||(f.A=!0,Je(f,"complete"),Je(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Je(this,"complete"),Je(this,"abort"),wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},n.bb=function(){Ga(this)};function Ga(f){if(f.h&&typeof c<"u"&&(!f.v[1]||$n(f)!=4||f.Z()!=2)){if(f.u&&$n(f)==4)Vt(f.Ea,0,f);else if(Je(f,"readystatechange"),$n(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var U;if(U=ve===0){var X=String(f.D).match(qs)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),U=!Fa.test(X?X.toLowerCase():"")}E=U}if(E)Je(f,"complete"),Je(f,"success");else{f.m=6;try{var se=2<$n(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",Qa(f)}}finally{wi(f)}}}}function wi(f,v){if(f.g){Ys(f);const E=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Je(f,"ready");try{E.onreadystatechange=U}catch{}}}function Ys(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function $n(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Va(v)}};function Ac(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Sd(f){const v={};f=(f.g&&2<=$n(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(q(f[U]))continue;var E=N(f[U]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=v[X]||[];v[X]=se,se.push(E)}D(v,function(U){return U.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function Ka(f){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,f),this.cb=Xs("retryDelaySeedMs",1e4,f),this.Wa=Xs("forwardChannelMaxRetries",2,f),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Yi(f&&f.concurrentRequestLimit),this.Da=new Ks,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(f,v,E,U){pt(0),this.W=f,this.H=v||{},E&&U!==void 0&&(this.H.OSID=E,this.H.OAID=U),this.F=this.X,this.I=Oc(this,null,this.W),Ya(this)};function wl(f){if(Rc(f),f.G==3){var v=f.U++,E=Dn(f.I);if(st(E,"SID",f.K),st(E,"RID",v),st(E,"TYPE","terminate"),Ws(f,E),v=new vn(f,f.j,v),v.L=2,v.v=Fs(Dn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=Mc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),zs(v)}Dc(f)}function $a(f){f.g&&(Zs(f),f.g.cancel(),f.g=null)}function Rc(f){$a(f),f.u&&(d.clearTimeout(f.u),f.u=null),Xa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ya(f){if(!ja(f.h)&&!f.s){f.s=!0;var v=f.Ga;ie||A(),oe||(ie(),oe=!0),pe.add(v,f),f.B=0}}function wd(f,v){return za(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xt(b(f.Ga,f,v),Cl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new vn(this,this.j,f);let se=this.o;if(this.S&&(se?(se=R(se),C(se,this.S)):se=this.S),this.m!==null||this.O||(X.H=se,se=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var U=this.i[E];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(v+=U,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Cc(this,X,v),E=Dn(this.I),st(E,"RID",f),st(E,"CVER",22),this.D&&st(E,"X-HTTP-Session-Id",this.D),Ws(this,E),se&&(this.O?v="headers="+encodeURIComponent(String(Sl(se)))+"&"+v:this.m&&Qt(E,this.m,se)),Ba(this.h,X),this.Ua&&st(E,"TYPE","init"),this.P?(st(E,"$req",v),st(E,"SID","null"),X.T=!0,si(X,E,null)):si(X,E,v),this.G=2}}else this.G==3&&(f?Al(this,f):this.i.length==0||ja(this.h)||Al(this))};function Al(f,v){var E;v?E=v.l:E=f.U++;const U=Dn(f.I);st(U,"SID",f.K),st(U,"RID",E),st(U,"AID",f.T),Ws(f,U),f.m&&f.o&&Qt(U,f.m,f.o),E=new vn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Cc(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ba(f.h,E),si(E,U,v)}function Ws(f,v){f.H&&G(f.H,function(E,U){st(v,U,E)}),f.l&&vl({},function(E,U){st(v,U,E)})}function Cc(f,v,E){E=Math.min(f.i.length,E);var U=f.l?b(f.l.Na,f.l,f):null;e:{var X=f.i;let se=-1;for(;;){const ve=["count="+E];se==-1?0<E?(se=X[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let Ge=!0;for(let Ut=0;Ut<E;Ut++){let Ke=X[Ut].g;const Gt=X[Ut].map;if(Ke-=se,0>Ke)se=Math.max(0,X[Ut].g-100),Ge=!1;else try{bi(Gt,ve,"req"+Ke+"_")}catch{U&&U(Gt)}}if(Ge){U=ve.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,U}function Ic(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ie||A(),oe||(ie(),oe=!0),pe.add(v,f),f.v=0}}function Rl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xt(b(f.Fa,f),Cl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xt(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),$a(this),xc(this))};function Zs(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function xc(f){f.g=new vn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Dn(f.qa);st(v,"RID","rpc"),st(v,"SID",f.K),st(v,"AID",f.T),st(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&st(v,"TO",f.ja),st(v,"TYPE","xmlhttp"),Ws(f,v),f.m&&f.o&&Qt(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Fs(Dn(v)),E.m=null,E.P=!0,$i(E,f)}n.Za=function(){this.C!=null&&(this.C=null,$a(this),Rl(this),pt(19))};function Xa(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Nc(f,v){var E=null;if(f.g==v){Xa(f),Zs(f),f.g=null;var U=2}else if(gl(f.h,v))E=v.D,_n(f.h,v),U=1;else return;if(f.G!=0){if(v.o)if(U==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var X=f.B;U=Or(),Je(U,new Lt(U,E)),Ya(f)}else Ic(f);else if(X=v.s,X==3||X==0&&0<v.X||!(U==1&&wd(f,v)||U==2&&Rl(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),X){case 1:tr(f,5);break;case 4:tr(f,10);break;case 3:tr(f,6);break;default:tr(f,2)}}}function Cl(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function tr(f,v){if(f.j.info("Error code "+v),v==2){var E=b(f.fb,f),U=f.Xa;const X=!U;U=new Nt(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Hs(U,"https"),Fs(U),X?Gs(U.toString(),E):ai(U.toString(),E)}else pt(2);f.G=0,f.l&&f.l.sa(v),Dc(f),Rc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Dc(f){if(f.G=0,f.ka=[],f.l){const v=yl(f.h);(v.length!=0||f.i.length!=0)&&(P(f.ka,v),P(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function Oc(f,v,E){var U=E instanceof Nt?Dn(E):new Nt(E);if(U.g!="")v&&(U.g=v+"."+U.g),Lr(U,U.s);else{var X=d.location;U=X.protocol,v=v?v+"."+X.hostname:X.hostname,X=+X.port;var se=new Nt(null);U&&Hs(se,U),v&&(se.g=v),X&&Lr(se,X),E&&(se.l=E),U=se}return E=f.D,v=f.ya,E&&v&&st(U,E,v),st(U,"VER",f.la),Ws(f,U),U}function Mc(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new tt(new Ur({eb:E})):new tt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}n=kc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wa(){}Wa.prototype.g=function(f,v){return new En(f,v)};function En(f,v){mt.call(this),this.g=new Ka(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!q(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ai(this)}z(En,mt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){wl(this.g)},En.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=ri(f),f=E);v.i.push(new bc(v.Ya++,f)),v.G==3&&Ya(v)},En.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,En.aa.N.call(this)};function Pc(f){Gi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}z(Pc,Gi);function Vc(){hl.call(this),this.status=1}z(Vc,hl);function Ai(f){this.g=f}z(Ai,kc),Ai.prototype.ua=function(){Je(this.g,"a")},Ai.prototype.ta=function(f){Je(this.g,new Pc(f))},Ai.prototype.sa=function(f){Je(this.g,new Vc)},Ai.prototype.ra=function(){Je(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Db=function(){return new Wa},Nb=function(){return Or()},xb=gi,ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,nh=Pr,Ki.COMPLETE="complete",Ib=Ki,fl.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",mt.prototype.listen=mt.prototype.K,bu=fl,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,Cb=tt}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const K2="@firebase/firestore",$2="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new zg("@firebase/firestore");function xo(){return wa.logLevel}function Ee(n,...e){if(wa.logLevel<=Fe.DEBUG){const t=e.map(Zg);wa.debug(`Firestore (${nl}): ${n}`,...t)}}function Sr(n,...e){if(wa.logLevel<=Fe.ERROR){const t=e.map(Zg);wa.error(`Firestore (${nl}): ${n}`,...t)}}function Bo(n,...e){if(wa.logLevel<=Fe.WARN){const t=e.map(Zg);wa.warn(`Firestore (${nl}): ${n}`,...t)}}function Zg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Ob(n,s,t)}function Ob(n,e,t){let s=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Sr(s),new Error(s)}function nt(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||Ob(e,o,s)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class jI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zI{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new Mb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class BI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new BI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Y2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Y2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FI(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function je(n,e){return n<e?-1:n>e?1:0}function og(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return je(s,o);{const l=kb(),c=QI(l.encode(X2(n,t)),l.encode(X2(e,t)));return c!==0?c:je(s,o)}}t+=s>65535?2:1}return je(n.length,e.length)}function X2(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function QI(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return je(n[t],e[t]);return je(n.length,e.length)}function qo(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=-62135596800,Z2=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Z2);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<W2)throw new Re(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z2}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-W2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new It(0,0))}static max(){return new Pe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="__name__";class Oi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Oe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Oi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const s=Oi.isNumericId(e),o=Oi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):og(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class Tt extends Oi{construct(e,t,s){return new Tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Re(ye.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const GI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Oi{construct(e,t,s){return new on(e,t,s)}static isValidIdentifier(e){return GI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J2}static keyField(){return new on([J2])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Re(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Re(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Re(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(l(),o++)}if(l(),c)throw new Re(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Tt.fromString(e))}static fromName(e){return new Ie(Tt.fromString(e).popFirst(5))}static empty(){return new Ie(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function KI(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new Es(o,Ie.empty(),e)}function $I(n){return new Es(n.readTime,n.key,Uu)}class Es{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Es(Pe.min(),Ie.empty(),Uu)}static max(){return new Es(Pe.max(),Ie.empty(),Uu)}}function YI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==XI)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,s)=>{t(e)})}static reject(e){return new he((t,s)=>{s(e)})}static waitFor(e){return new he((t,s)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},m=>s(m))}),c=!0,l===o&&t()})}static or(e){let t=he.resolve(!1);for(const s of e)t=t.next(o=>o?he.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new he((s,o)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(y=>{c[g]=y,++d,d===l&&s(c)},y=>o(y))}})}static doWhile(e,t){return new he((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function ZI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Kh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=-1;function $h(n){return n==null}function vh(n){return n===0&&1/n==-1/0}function JI(n){return typeof n=="number"&&Number.isInteger(n)&&!vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="";function e5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=e1(e)),e=t5(n.get(t),e);return e1(e)}function t5(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Vb:t+="";break;default:t+=l}}return t}function e1(n){return n+Vb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Os(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Lb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new an(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new n1(this.data.getIterator())}getIteratorFrom(e){return new n1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class n1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Ht(on.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ub("Invalid base64 string: "+l):l}}(e);return new un(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const n5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(n){if(nt(!!n,39018),typeof n=="string"){let e=0;const t=n5.exec(n);if(nt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ts(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="server_timestamp",zb="__type__",Bb="__previous_value__",qb="__local_write_time__";function e0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zb])===null||t===void 0?void 0:t.stringValue)===jb}function Yh(n){const e=n.mapValue.fields[Bb];return e0(e)?Yh(e):e}function ju(n){const e=bs(n.mapValue.fields[qb].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,t,s,o,l,c,d,m,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const _h="(default)";class zu{constructor(e,t){this.projectId=e,this.database=t||_h}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="__type__",r5="__max__",qf={mapValue:{}},Fb="__vector__",Eh="value";function Ss(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?e0(n)?4:a5(n)?9007199254740991:s5(n)?10:11:Oe(28295,{value:n})}function Ui(n,e){if(n===e)return!0;const t=Ss(n);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ju(n).isEqual(ju(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=bs(o.timestampValue),d=bs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ts(o.bytesValue).isEqual(Ts(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return Ct(o.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ct(o.integerValue)===Ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Ct(o.doubleValue),d=Ct(l.doubleValue);return c===d?vh(c)===vh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return qo(n.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(t1(c)!==t1(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ui(c[m],d[m])))return!1;return!0}(n,e);default:return Oe(52216,{left:n})}}function Bu(n,e){return(n.values||[]).find(t=>Ui(t,e))!==void 0}function Ho(n,e){if(n===e)return 0;const t=Ss(n),s=Ss(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Ct(l.integerValue||l.doubleValue),m=Ct(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return i1(n.timestampValue,e.timestampValue);case 4:return i1(ju(n),ju(e));case 5:return og(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Ts(l),m=Ts(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=je(d[g],m[g]);if(y!==0)return y}return je(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=je(Ct(l.latitude),Ct(c.latitude));return d!==0?d:je(Ct(l.longitude),Ct(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return r1(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,y;const _=l.fields||{},b=c.fields||{},I=(d=_[Eh])===null||d===void 0?void 0:d.arrayValue,z=(m=b[Eh])===null||m===void 0?void 0:m.arrayValue,j=je(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((y=z==null?void 0:z.values)===null||y===void 0?void 0:y.length)||0);return j!==0?j:r1(I,z)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===qf.mapValue&&c===qf.mapValue)return 0;if(l===qf.mapValue)return 1;if(c===qf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=og(m[_],y[_]);if(b!==0)return b;const I=Ho(d[m[_]],g[y[_]]);if(I!==0)return I}return je(m.length,y.length)}(n.mapValue,e.mapValue);default:throw Oe(23264,{Pe:t})}}function i1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=bs(n),s=bs(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function r1(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Ho(t[o],s[o]);if(l)return l}return je(t.length,s.length)}function Fo(n){return lg(n)}function lg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=bs(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ts(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=lg(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${lg(t.fields[c])}`;return o+"}"}(n.mapValue):Oe(61005,{value:n})}function ih(n){switch(Ss(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(n);return e?16+ih(e):16;case 5:return 2*n.stringValue.length;case 6:return Ts(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+ih(l),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Os(s.fields,(l,c)=>{o+=l.length+ih(c)}),o}(n.mapValue);default:throw Oe(13486,{value:n})}}function ug(n){return!!n&&"integerValue"in n}function t0(n){return!!n&&"arrayValue"in n}function s1(n){return!!n&&"nullValue"in n}function a1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rh(n){return!!n&&"mapValue"in n}function s5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hb])===null||t===void 0?void 0:t.stringValue)===Fb}function Ru(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Os(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ru(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ru(n.arrayValue.values[t]);return e}return Object.assign({},n)}function a5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===r5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(t)}setAll(e){let t=on.emptyPath(),s={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}c?s[d.lastSegment()]=Ru(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Os(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new xn(Ru(this.value))}}function Qb(n){const e=[];return Os(n.fields,(t,s)=>{const o=new on([t]);if(rh(s)){const l=Qb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,s,o,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,Pe.min(),Pe.min(),Pe.min(),xn.empty(),0)}static newFoundDocument(e,t,s,o){return new mn(e,1,t,Pe.min(),s,o,0)}static newNoDocument(e,t){return new mn(e,2,t,Pe.min(),Pe.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,Pe.min(),Pe.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.position=e,this.inclusive=t}}function o1(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?s=Ie.comparator(Ie.fromName(c.referenceValue),t.key):s=Ho(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function l1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t="asc"){this.field=e,this.dir=t}}function o5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{}class qt extends Gb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new u5(e,t,s):t==="array-contains"?new h5(e,s):t==="in"?new d5(e,s):t==="not-in"?new m5(e,s):t==="array-contains-any"?new p5(e,s):new qt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new c5(e,s):new f5(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ho(t,this.value)):t!==null&&Ss(this.value)===Ss(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends Gb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ji(e,t)}matches(e){return Kb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Kb(n){return n.op==="and"}function $b(n){return l5(n)&&Kb(n)}function l5(n){for(const e of n.filters)if(e instanceof ji)return!1;return!0}function cg(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Fo(n.value);if($b(n))return n.filters.map(e=>cg(e)).join(",");{const e=n.filters.map(t=>cg(t)).join(",");return`${n.op}(${e})`}}function Yb(n,e){return n instanceof qt?function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)}(n,e):n instanceof ji?function(s,o){return o instanceof ji&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,d)=>l&&Yb(c,o.filters[d]),!0):!1}(n,e):void Oe(19439)}function Xb(n){return n instanceof qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Fo(t.value)}`}(n):n instanceof ji?function(t){return t.op.toString()+" {"+t.getFilters().map(Xb).join(" ,")+"}"}(n):"Filter"}class u5 extends qt{constructor(e,t,s){super(e,t,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class c5 extends qt{constructor(e,t){super(e,"in",t),this.keys=Wb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class f5 extends qt{constructor(e,t){super(e,"not-in",t),this.keys=Wb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Wb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ie.fromName(s.referenceValue))}class h5 extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return t0(t)&&Bu(t.arrayValue,this.value)}}class d5 extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bu(this.value.arrayValue,t)}}class m5 extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bu(this.value.arrayValue,t)}}class p5 extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!t0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Bu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,t=null,s=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function u1(n,e=null,t=[],s=[],o=null,l=null,c=null){return new g5(n,e,t,s,o,l,c)}function n0(n){const e=Ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>cg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),$h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Fo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Fo(s)).join(",")),e.Ie=t}return e.Ie}function i0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!o5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Yb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!l1(n.startAt,e.startAt)&&l1(n.endAt,e.endAt)}function fg(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t=null,s=[],o=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function y5(n,e,t,s,o,l,c,d){return new Xh(n,e,t,s,o,l,c,d)}function r0(n){return new Xh(n)}function c1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function v5(n){return n.collectionGroup!==null}function Cu(n){const e=Ve(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ht(on.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Th(l,s))}),t.has(on.keyField().canonicalString())||e.Ee.push(new Th(on.keyField(),s))}return e.Ee}function Pi(n){const e=Ve(n);return e.de||(e.de=_5(e,Cu(n))),e.de}function _5(n,e){if(n.limitType==="F")return u1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Th(o.field,l)});const t=n.endAt?new bh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new bh(n.startAt.position,n.startAt.inclusive):null;return u1(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function hg(n,e,t){return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wh(n,e){return i0(Pi(n),Pi(e))&&n.limitType===e.limitType}function Zb(n){return`${n0(Pi(n))}|lt:${n.limitType}`}function No(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Xb(o)).join(", ")}]`),$h(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Fo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Fo(o)).join(",")),`Target(${s})`}(Pi(n))}; limitType=${n.limitType})`}function Zh(n,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ie.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,o){for(const l of Cu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(c,d,m){const g=o1(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,Cu(s),o)||s.endAt&&!function(c,d,m){const g=o1(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,Cu(s),o))}(n,e)}function E5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Jb(n){return(e,t)=>{let s=!1;for(const o of Cu(n)){const l=b5(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function b5(n,e,t){const s=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Ho(m,g):Oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Lb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=new _t(Ie.comparator);function wr(){return T5}const eT=new _t(Ie.comparator);function Tu(...n){let e=eT;for(const t of n)e=e.insert(t.key,t);return e}function tT(n){let e=eT;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function va(){return Iu()}function nT(){return Iu()}function Iu(){return new Ma(n=>n.toString(),(n,e)=>n.isEqual(e))}const S5=new _t(Ie.comparator),w5=new Ht(Ie.comparator);function Qe(...n){let e=w5;for(const t of n)e=e.add(t);return e}const A5=new Ht(je);function R5(){return A5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function iT(n){return{integerValue:""+n}}function C5(n,e){return JI(e)?iT(e):s0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function I5(n,e,t){return n instanceof qu?function(o,l){const c={fields:{[zb]:{stringValue:jb},[qb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&e0(l)&&(l=Yh(l)),l&&(c.fields[Bb]=l),{mapValue:c}}(t,e):n instanceof Qo?sT(n,e):n instanceof Go?aT(n,e):function(o,l){const c=rT(o,l),d=f1(c)+f1(o.Re);return ug(c)&&ug(o.Re)?iT(d):s0(o.serializer,d)}(n,e)}function x5(n,e,t){return n instanceof Qo?sT(n,e):n instanceof Go?aT(n,e):t}function rT(n,e){return n instanceof Sh?function(s){return ug(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class qu extends Jh{}class Qo extends Jh{constructor(e){super(),this.elements=e}}function sT(n,e){const t=oT(e);for(const s of n.elements)t.some(o=>Ui(o,s))||t.push(s);return{arrayValue:{values:t}}}class Go extends Jh{constructor(e){super(),this.elements=e}}function aT(n,e){let t=oT(e);for(const s of n.elements)t=t.filter(o=>!Ui(o,s));return{arrayValue:{values:t}}}class Sh extends Jh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function f1(n){return Ct(n.integerValue||n.doubleValue)}function oT(n){return t0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t){this.field=e,this.transform=t}}function N5(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof Qo&&o instanceof Qo||s instanceof Go&&o instanceof Go?qo(s.elements,o.elements,Ui):s instanceof Sh&&o instanceof Sh?Ui(s.Re,o.Re):s instanceof qu&&o instanceof qu}(n.transform,e.transform)}class D5{constructor(e,t){this.version=e,this.transformResults=t}}class Vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ed{}function lT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new cT(n.key,Vi.none()):new rc(n.key,n.data,Vi.none());{const t=n.data,s=xn.empty();let o=new Ht(on.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Ms(n.key,s,new zn(o.toArray()),Vi.none())}}function O5(n,e,t){n instanceof rc?function(o,l,c){const d=o.value.clone(),m=d1(o.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ms?function(o,l,c){if(!sh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=d1(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(uT(o)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function xu(n,e,t,s){return n instanceof rc?function(l,c,d,m){if(!sh(l.precondition,c))return d;const g=l.value.clone(),y=m1(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ms?function(l,c,d,m){if(!sh(l.precondition,c))return d;const g=m1(l.fieldTransforms,m,c),y=c.data;return y.setAll(uT(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,s):function(l,c,d){return sh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function M5(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=rT(s.transform,o||null);l!=null&&(t===null&&(t=xn.empty()),t.set(s.field,l))}return t||null}function h1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&qo(s,o,(l,c)=>N5(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rc extends ed{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends ed{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function uT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function d1(n,e,t){const s=new Map;nt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);s.set(l.field,x5(c,d,t[o]))}return s}function m1(n,e,t){const s=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);s.set(o.field,I5(l,c,e))}return s}class cT extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k5 extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&O5(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=xu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=xu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=nT();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const m=lT(c,d);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Pe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qe())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,s)=>h1(t,s))&&qo(this.baseMutations,e.baseMutations,(t,s)=>h1(t,s))}}class o0{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){nt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return S5}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new o0(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ye;function U5(n){switch(n){case ye.OK:return Oe(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function fT(n){if(n===void 0)return Sr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Mt.OK:return ye.OK;case Mt.CANCELLED:return ye.CANCELLED;case Mt.UNKNOWN:return ye.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ye.INTERNAL;case Mt.UNAVAILABLE:return ye.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ye.NOT_FOUND;case Mt.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Mt.ABORTED:return ye.ABORTED;case Mt.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Mt.DATA_LOSS:return ye.DATA_LOSS;default:return Oe(39323,{code:n})}}(Ye=Mt||(Mt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=new ys([4294967295,4294967295],0);function p1(n){const e=kb().encode(n),t=new Rb;return t.update(e),new Uint8Array(t.digest())}function g1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ys([t,s],0),new ys([o,l],0)]}class l0{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Su(`Invalid padding: ${t}`);if(s<0)throw new Su(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Su(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ys.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(ys.fromNumber(s)));return o.compare(j5)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=p1(e),[s,o]=g1(t);for(let l=0;l<this.hashCount;l++){const c=this.we(s,o,l);if(!this.be(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new l0(l,o,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=p1(e),[s,o]=g1(t);for(let l=0;l<this.hashCount;l++){const c=this.we(s,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,sc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new td(Pe.min(),o,new _t(je),wr(),Qe())}}class sc{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new sc(s,t,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class hT{constructor(e,t){this.targetId=e,this.Ce=t}}class dT{constructor(e,t,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class y1{constructor(){this.Fe=0,this.Me=v1(),this.xe=un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Qe(),t=Qe(),s=Qe();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Oe(38017,{changeType:l})}}),new sc(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=v1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,nt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class z5{constructor(e){this.ze=e,this.je=new Map,this.He=wr(),this.Je=Hf(),this.Ye=Hf(),this.Ze=new _t(je)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(fg(l))if(s===0){const c=new Ie(l.path);this.tt(t,c,mn.newNoDocument(c,Pe.min()))}else nt(s===1,20013,{expectedCount:s});else{const c=this.ut(t);if(c!==s){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=Ts(s).toUint8Array()}catch(m){if(m instanceof Ub)return Bo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new l0(c,o,l)}catch(m){return Bo(m instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&fg(d.target)){const m=new Ie(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,mn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let s=Qe();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const o=new td(e,t,this.Ze,this.He,s);return this.He=wr(),this.Je=Hf(),this.Ye=Hf(),this.Ze=new _t(je),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new y1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ht(je),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ht(je),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new y1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Hf(){return new _t(Ie.comparator)}function v1(){return new _t(Ie.comparator)}const B5={asc:"ASCENDING",desc:"DESCENDING"},q5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H5={and:"AND",or:"OR"};class F5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dg(n,e){return n.useProto3Json||$h(e)?e:{value:e}}function wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Q5(n,e){return wh(n,e.toTimestamp())}function Li(n){return nt(!!n,49232),Pe.fromTimestamp(function(t){const s=bs(t);return new It(s.seconds,s.nanos)}(n))}function u0(n,e){return mg(n,e).canonicalString()}function mg(n,e){const t=function(o){return new Tt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pT(n){const e=Tt.fromString(n);return nt(ET(e),10190,{key:e.toString()}),e}function pg(n,e){return u0(n.databaseId,e.path)}function xp(n,e){const t=pT(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(yT(t))}function gT(n,e){return u0(n.databaseId,e)}function G5(n){const e=pT(n);return e.length===4?Tt.emptyPath():yT(e)}function gg(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yT(n){return nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _1(n,e,t){return{name:pg(n,e),fields:t.value.mapValue.fields}}function K5(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(nt(y===void 0||typeof y=="string",58123),un.fromBase64String(y||"")):(nt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),un.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const y=g.code===void 0?ye.UNKNOWN:fT(g.code);return new Re(y,g.message||"")}(c);t=new dT(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xp(n,s.document.name),l=Li(s.document.updateTime),c=s.document.createTime?Li(s.document.createTime):Pe.min(),d=new xn({mapValue:{fields:s.document.fields}}),m=mn.newFoundDocument(o,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];t=new ah(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xp(n,s.document),l=s.readTime?Li(s.readTime):Pe.min(),c=mn.newNoDocument(o,l),d=s.removedTargetIds||[];t=new ah([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xp(n,s.document),l=s.removedTargetIds||[];t=new ah([],l,o,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new L5(o,l),d=s.targetId;t=new hT(d,c)}}return t}function $5(n,e){let t;if(e instanceof rc)t={update:_1(n,e.key,e.value)};else if(e instanceof cT)t={delete:pg(n,e.key)};else if(e instanceof Ms)t={update:_1(n,e.key,e.data),updateMask:i6(e.fieldMask)};else{if(!(e instanceof k5))return Oe(16599,{ft:e.type});t={verify:pg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof qu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Go)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Oe(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:Q5(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)}(n,e.precondition)),t}function Y5(n,e){return n&&n.length>0?(nt(e!==void 0,14353),n.map(t=>function(o,l){let c=o.updateTime?Li(o.updateTime):Li(l);return c.isEqual(Pe.min())&&(c=Li(l)),new D5(c,o.transformResults||[])}(t,e))):[]}function X5(n,e){return{documents:[gT(n,e.path)]}}function W5(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=gT(n,o);const l=function(g){if(g.length!==0)return _T(ji.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(y=>function(b){return{field:Do(b.field),direction:e6(b.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=dg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function Z5(n){let e=G5(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){nt(s===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const b=vT(_);return b instanceof ji&&$b(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(b=>function(z){return new Th(Oo(z.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(_){let b;return b=typeof _=="object"?_.value:_,$h(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(_){const b=!!_.before,I=_.values||[];return new bh(I,b)}(t.startAt));let g=null;return t.endAt&&(g=function(_){const b=!_.before,I=_.values||[];return new bh(I,b)}(t.endAt)),y5(e,o,c,l,d,"F",m,g)}function J5(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Oo(t.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(t.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(t.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return qt.create(Oo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ji.create(t.compositeFilter.filters.map(s=>vT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(t.compositeFilter.op))}(n):Oe(30097,{filter:n})}function e6(n){return B5[n]}function t6(n){return q5[n]}function n6(n){return H5[n]}function Do(n){return{fieldPath:n.canonicalString()}}function Oo(n){return on.fromServerFormat(n.fieldPath)}function _T(n){return n instanceof qt?function(t){if(t.op==="=="){if(a1(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NAN"}};if(s1(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(a1(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NAN"}};if(s1(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(t.field),op:t6(t.op),value:t.value}}}(n):n instanceof ji?function(t){const s=t.getFilters().map(o=>_T(o));return s.length===1?s[0]:{compositeFilter:{op:n6(t.op),filters:s}}}(n):Oe(54877,{filter:n})}function i6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ET(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t,s,o,l=Pe.min(),c=Pe.min(),d=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.wt=e}}function s6(n){const e=Z5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.yn=new o6}addToCollectionParentIndex(e,t){return this.yn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Es.min())}updateCollectionGroup(e,t,s){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class o6{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ht(Tt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ht(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bT=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(bT,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ko(0)}static ir(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="LruGarbageCollector",l6=1048576;function T1([n,e],[t,s]){const o=je(n,t);return o===0?je(e,s):o}class u6{constructor(e){this.cr=e,this.buffer=new Ht(T1),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();T1(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class c6{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ee(b1,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){rl(t)?Ee(b1,"Ignoring IndexedDB error during garbage collection: ",t):await il(t)}await this.Ir(3e5)})}}class f6{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Kh.le);const s=new u6(t);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Er.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(E1)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E1):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let s,o,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,c=Date.now(),this.nthSequenceNumber(e,o))).next(_=>(s=_,d=Date.now(),this.removeTargets(e,s,t))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(_=>(g=Date.now(),xo()<=Fe.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:_})))}}function h6(n,e){return new f6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.changes=new Ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?he.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&xu(s.mutation,o,zn.empty(),It.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Qe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Qe()){const o=va();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let c=Tu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=va();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Qe()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,o){let l=wr();const c=Iu(),d=function(){return Iu()}();return t.forEach((m,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Ms)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),xu(y.mutation,g,y.mutation.getFieldMask(),It.now())):c.set(g.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,y)=>c.set(g,y)),t.forEach((g,y)=>{var _;return d.set(g,new m6(y,(_=c.get(g))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Iu();let o=new _t((c,d)=>c-d),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let y=s.get(m)||zn.empty();y=d.applyToLocalView(g,y),s.set(m,y);const _=(o.get(d.batchId)||Qe()).add(m);o=o.insert(d.batchId,_)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=nT();y.forEach(b=>{if(!l.has(b)){const I=lT(t.get(b),s.get(b));I!==null&&_.set(b,I),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return he.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):v5(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):he.resolve(va());let d=Uu,m=l;return c.next(g=>he.forEach(g,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Qe())).next(y=>({batchId:d,changes:tT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(s=>{let o=Tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Tu();return this.indexManager.getCollectionParents(e,l).next(d=>he.forEach(d,m=>{const g=function(_,b){return new Xh(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(c=>{l.forEach((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,mn.newInvalidDocument(y)))});let d=Tu();return c.forEach((m,g)=>{const y=l.get(m);y!==void 0&&xu(y.mutation,g,zn.empty(),It.now()),Zh(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return he.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:s6(o.bundledQuery),readTime:Li(o.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.overlays=new _t(Ie.comparator),this.Or=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const s=va();return he.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.St(e,t,l)}),he.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(s)),he.resolve()}getOverlaysForCollection(e,t,s){const o=va(),l=t.length+1,c=new Ie(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return he.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new _t((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=va(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=va(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=o)););return he.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new V5(t,s));let l=this.Or.get(t);l===void 0&&(l=Qe(),this.Or.set(t,l)),this.Or.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.Nr=new Ht(Xt.Br),this.Lr=new Ht(Xt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Qr(new Xt(e,t))}$r(e,t){e.forEach(s=>this.removeReference(s,t))}Ur(e){const t=new Ie(new Tt([])),s=new Xt(t,e),o=new Xt(t,e+1),l=[];return this.Lr.forEachInRange([s,o],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ie(new Tt([])),s=new Xt(t,e),o=new Xt(t,e+1);let l=Qe();return this.Lr.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Xt(e,0),s=this.Nr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ie.comparator(e.key,t.key)||je(e.Gr,t.Gr)}static kr(e,t){return je(e.Gr,t.Gr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ht(Xt.Br)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new P5(l,t,s,o);this.mutationQueue.push(c);for(const d of o)this.zr=this.zr.add(new Xt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Hr(s),l=o<0?0:o;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Jg:this.Jn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),o=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([s,o],c=>{const d=this.jr(c.Gr);l.push(d)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ht(je);return t.forEach(o=>{const l=new Xt(o,0),c=new Xt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{s=s.add(d.Gr)})}),he.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Ie.isDocumentKey(l)||(l=l.child(""));const c=new Xt(new Ie(l),0);let d=new Ht(je);return this.zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Gr)),!0)},c),he.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){nt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return he.forEach(t.mutations,o=>{const l=new Xt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,t){const s=new Xt(t,0),o=this.zr.firstAfterOrEqual(s);return he.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.Zr=e,this.docs=function(){return new _t(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.Zr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return he.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let s=wr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():mn.newInvalidDocument(o))}),he.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=wr();const c=t.path,d=new Ie(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||YI($I(y),s)<=0||(o.has(y.key)||Zh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Oe(9500)}Xr(e,t){return he.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new b6(this)}getSize(e){return he.resolve(this.size)}}class b6 extends d6{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),he.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.persistence=e,this.ei=new Ma(t=>n0(t),i0),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.ti=0,this.ni=new c0,this.targetCount=0,this.ri=Ko.rr()}forEachTarget(e,t){return this.ei.forEach((s,o)=>t(o)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ti&&(this.ti=t),he.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Ko(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.ar(t),he.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),he.waitFor(l).next(()=>o)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const s=this.ei.get(t)||null;return he.resolve(s)}addMatchingKeys(e,t,s){return this.ni.qr(t,s),he.resolve()}removeMatchingKeys(e,t,s){this.ni.$r(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),he.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ni.Wr(t);return he.resolve(s)}containsKey(e,t){return he.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t){this.ii={},this.overlays={},this.si=new Kh(0),this.oi=!1,this.oi=!0,this._i=new v6,this.referenceDelegate=e(this),this.ai=new T6(this),this.indexManager=new a6,this.remoteDocumentCache=function(o){return new E6(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new r6(t),this.ci=new g6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ii[e.toKey()];return s||(s=new _6(t,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,s){Ee("MemoryPersistence","Starting transaction:",e);const o=new S6(this.si.next());return this.referenceDelegate.li(),s(o).next(l=>this.referenceDelegate.hi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Pi(e,t){return he.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,t)))}}class S6 extends WI{constructor(e){super(),this.currentSequenceNumber=e}}class f0{constructor(e){this.persistence=e,this.Ti=new c0,this.Ii=null}static Ei(e){return new f0(e)}get di(){if(this.Ii)return this.Ii;throw Oe(60996)}addReference(e,t,s){return this.Ti.addReference(s,t),this.di.delete(s.toString()),he.resolve()}removeReference(e,t,s){return this.Ti.removeReference(s,t),this.di.add(s.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.di.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,s=>{const o=Ie.fromPath(s);return this.Ai(e,o).next(l=>{l||t.removeEntry(o,Pe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return he.or([()=>he.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Ah{constructor(e,t){this.persistence=e,this.Ri=new Ma(s=>e5(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=h6(this,t)}static Ei(e,t){return new Ah(e,t)}li(){}hi(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Vr(e){let t=0;return this.Ar(e,s=>{t++}).next(()=>t)}Ar(e,t){return he.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(l=>l?he.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(s++,l.removeEntry(c,Pe.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),he.resolve()}removeReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ih(e.data.value)),t}gr(e,t,s){return he.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return he.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ls=s,this.hs=o}static Ps(e,t){let s=Qe(),o=Qe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new h0(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return a4()?8:ZI(pn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new w6;return this.fs(e,t,c).next(d=>{if(l.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>l.result)}gs(e,t,s,o){return s.documentReadCount<this.Es?(xo()<=Fe.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),he.resolve()):(xo()<=Fe.DEBUG&&Ee("QueryEngine","Query:",No(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(xo()<=Fe.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):he.resolve())}Rs(e,t){if(c1(t))return he.resolve(null);let s=Pi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=hg(t,null,"F"),s=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Qe(...l);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.ps(t,d);return this.ys(t,g,c,m.readTime)?this.Rs(e,hg(t,null,"F")):this.ws(e,g,t,m)}))})))}Vs(e,t,s,o){return c1(t)||o.isEqual(Pe.min())?he.resolve(null):this.As.getDocuments(e,s).next(l=>{const c=this.ps(t,l);return this.ys(t,c,s,o)?he.resolve(null):(xo()<=Fe.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(t)),this.ws(e,c,t,KI(o,Uu)).next(d=>d))})}ps(e,t){let s=new Ht(Jb(e));return t.forEach((o,l)=>{Zh(e,l)&&(s=s.add(l))}),s}ys(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}fs(e,t,s){return xo()<=Fe.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",No(t)),this.As.getDocumentsMatchingQuery(e,t,Es.min(),s)}ws(e,t,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LocalStore",R6=3e8;class C6{constructor(e,t,s,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new _t(je),this.Ds=new Ma(l=>n0(l),i0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p6(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function I6(n,e,t,s){return new C6(n,e,t,s)}async function ST(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=Qe();for(const g of o){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(s,m).next(g=>({Ms:g,removedBatchIds:c,addedBatchIds:d}))})})}function x6(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,y){const _=g.batch,b=_.keys();let I=he.resolve();return b.forEach(z=>{I=I.next(()=>y.getEntry(m,z)).next(j=>{const P=g.docVersions.get(z);nt(P!==null,48541),j.version.compareTo(P)<0&&(_.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),y.addEntry(j)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Qe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function wT(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function N6(n,e){const t=Ve(n),s=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const d=[];e.targetChanges.forEach((y,_)=>{const b=o.get(_);if(!b)return;d.push(t.ai.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.ai.addMatchingKeys(l,y.addedDocuments,_)));let I=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(un.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,s)),o=o.insert(_,I),function(j,P,B){return j.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=R6?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(b,I,y)&&d.push(t.ai.updateTargetData(l,I))});let m=wr(),g=Qe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(D6(l,c,e.documentUpdates).next(y=>{m=y.xs,g=y.Os})),!s.isEqual(Pe.min())){const y=t.ai.getLastRemoteSnapshotVersion(l).next(_=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(y)}return he.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ss=o,l))}function D6(n,e,t){let s=Qe(),o=Qe();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let c=wr();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Pe.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):Ee(d0,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{xs:c,Os:o}})}function O6(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function M6(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.ai.getTargetData(s,e).next(l=>l?(o=l,he.resolve(o)):t.ai.allocateTargetId(s).next(c=>(o=new hs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(s.targetId,s),t.Ds.set(e,s.targetId)),s})}async function yg(n,e,t){const s=Ve(n),o=s.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!rl(c))throw c;Ee(d0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function S1(n,e,t){const s=Ve(n);let o=Pe.min(),l=Qe();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,y){const _=Ve(m),b=_.Ds.get(y);return b!==void 0?he.resolve(_.Ss.get(b)):_.ai.getTargetData(g,y)}(s,c,Pi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.bs.getDocumentsMatchingQuery(c,e,t?o:Pe.min(),t?l:Qe())).next(d=>(k6(s,E5(e),d),{documents:d,Ns:l})))}function k6(n,e,t){let s=n.vs.get(e)||Pe.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.vs.set(e,s)}class w1{constructor(){this.activeTargetIds=R5()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P6{constructor(){this.So=new w1,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,s){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new w1,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="ConnectivityMonitor";class R1{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ee(A1,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ee(A1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=null;function vg(){return Ff===null?Ff=function(){return 268435456+Math.round(2147483648*Math.random())}():Ff++,"0x"+Ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="RestConnection",L6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U6{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,t,s,o,l){const c=vg(),d=this.$o(e,t.toUriEncodedString());Ee(Np,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(m,o,l);const{host:g}=new URL(d),y=Hh(g);return this.Ko(e,d,m,s,y).then(_=>(Ee(Np,`Received RPC '${e}' ${c}: `,_),_),_=>{throw Bo(Np,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",s),_})}Wo(e,t,s,o,l,c){return this.Qo(e,t,s,o,l)}Uo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}$o(e,t){const s=L6[e];return`${this.Lo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class z6 extends U6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,s,o,l){const c=vg();return new Promise((d,m)=>{const g=new Cb;g.setWithCredentials(!0),g.listenOnce(Ib.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case nh.NO_ERROR:const _=g.getResponseJson();Ee(hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case nh.TIMEOUT:Ee(hn,`RPC '${e}' ${c} timed out`),m(new Re(ye.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const b=g.getStatus();if(Ee(hn,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const z=I==null?void 0:I.error;if(z&&z.status&&z.message){const j=function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(q)>=0?q:ye.UNKNOWN}(z.status);m(new Re(j,z.message))}else m(new Re(ye.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Re(ye.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{s_:e,streamId:c,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{Ee(hn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);Ee(hn,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",y,s,15)})}a_(e,t,s){const o=vg(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Db(),d=Nb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const y=l.join("");Ee(hn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const _=c.createWebChannel(y,m);let b=!1,I=!1;const z=new j6({Go:P=>{I?Ee(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(b||(Ee(hn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),b=!0),Ee(hn,`RPC '${e}' stream ${o} sending:`,P),_.send(P))},zo:()=>_.close()}),j=(P,B,q)=>{P.listen(B,L=>{try{q(L)}catch(k){setTimeout(()=>{throw k},0)}})};return j(_,bu.EventType.OPEN,()=>{I||(Ee(hn,`RPC '${e}' stream ${o} transport opened.`),z.t_())}),j(_,bu.EventType.CLOSE,()=>{I||(I=!0,Ee(hn,`RPC '${e}' stream ${o} transport closed`),z.r_())}),j(_,bu.EventType.ERROR,P=>{I||(I=!0,Bo(hn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),z.r_(new Re(ye.UNAVAILABLE,"The operation could not be completed")))}),j(_,bu.EventType.MESSAGE,P=>{var B;if(!I){const q=P.data[0];nt(!!q,16349);const L=q,k=(L==null?void 0:L.error)||((B=L[0])===null||B===void 0?void 0:B.error);if(k){Ee(hn,`RPC '${e}' stream ${o} received error:`,k);const H=k.status;let G=function(w){const C=Mt[w];if(C!==void 0)return fT(C)}(H),D=k.message;G===void 0&&(G=ye.INTERNAL,D="Unknown error status: "+H+" with message "+k.message),I=!0,z.r_(new Re(G,D)),_.close()}else Ee(hn,`RPC '${e}' stream ${o} received:`,q),z.i_(q)}}),j(d,xb.STAT_EVENT,P=>{P.stat===ag.PROXY?Ee(hn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===ag.NOPROXY&&Ee(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.n_()},0),z}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n){return new F5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t,s=1e3,o=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=s,this.c_=o,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-s);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="PersistentStream";class RT{constructor(e,t,s,o,l,c,d,m){this.bi=e,this.R_=s,this.V_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new AT(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===t&&this.B_(s,o)},s=>{e(()=>{const o=new Re(ye.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,t){const s=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ee(C1,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ee(C1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B6 extends RT{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=K5(this.serializer,e),s=function(l){if(!("targetChange"in l))return Pe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?Li(c.readTime):Pe.min()}(e);return this.listener.Q_(t,s)}U_(e){const t={};t.database=gg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=fg(m)?{documents:X5(l,m)}:{query:W5(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=mT(l,c.resumeToken);const g=dg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Pe.min())>0){d.readTime=wh(l,c.snapshotVersion.toTimestamp());const g=dg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=J5(this.serializer,e);s&&(t.labels=s),this.F_(t)}K_(e){const t={};t.database=gg(this.serializer),t.removeTarget=e,this.F_(t)}}class q6 extends RT{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=Y5(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.j_(s,t)}H_(){const e={};e.database=gg(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>$5(this.serializer,s))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{}class F6 extends H6{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Re(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,mg(t,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(ye.UNKNOWN,l.toString())})}Wo(e,t,s,o,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,mg(t,s),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(ye.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Q6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Sr(t),this.ea=!1):Ee("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class G6{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{s.enqueueAndForget(async()=>{ka(this)&&(Ee(Aa,"Restarting streams for network reachability change."),await async function(m){const g=Ve(m);g.aa.add(4),await ac(g),g.la.set("Unknown"),g.aa.delete(4),await id(g)}(this))})}),this.la=new Q6(s,o)}}async function id(n){if(ka(n))for(const e of n.ua)await e(!0)}async function ac(n){for(const e of n.ua)await e(!1)}function CT(n,e){const t=Ve(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),y0(t)?g0(t):sl(t).b_()&&p0(t,e))}function m0(n,e){const t=Ve(n),s=sl(t);t._a.delete(e),s.b_()&&IT(t,e),t._a.size===0&&(s.b_()?s.v_():ka(t)&&t.la.set("Unknown"))}function p0(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(n).U_(e)}function IT(n,e){n.ha.Ke(e),sl(n).K_(e)}function g0(n){n.ha=new z5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.la.ta()}function y0(n){return ka(n)&&!sl(n).w_()&&n._a.size>0}function ka(n){return Ve(n).aa.size===0}function xT(n){n.ha=void 0}async function K6(n){n.la.set("Online")}async function $6(n){n._a.forEach((e,t)=>{p0(n,e)})}async function Y6(n,e){xT(n),y0(n)?(n.la.ia(e),g0(n)):n.la.set("Unknown")}async function X6(n,e,t){if(n.la.set("Online"),e instanceof dT&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o._a.delete(d),o.ha.removeTarget(d))}(n,e)}catch(s){Ee(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(n,s)}else if(e instanceof ah?n.ha.Xe(e):e instanceof hT?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Pe.min()))try{const s=await wT(n.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l._a.get(g);y&&l._a.set(g,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const y=l._a.get(m);if(!y)return;l._a.set(m,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),IT(l,m);const _=new hs(y.target,m,g,y.sequenceNumber);p0(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){Ee(Aa,"Failed to raise snapshot:",s),await Rh(n,s)}}async function Rh(n,e,t){if(!rl(e))throw e;n.aa.add(1),await ac(n),n.la.set("Offline"),t||(t=()=>wT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(Aa,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await id(n)})}function NT(n,e){return e().catch(t=>Rh(n,t,e))}async function rd(n){const e=Ve(n),t=ws(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Jg;for(;W6(e);)try{const o=await O6(e.localStore,s);if(o===null){e.oa.length===0&&t.v_();break}s=o.batchId,Z6(e,o)}catch(o){await Rh(e,o)}DT(e)&&OT(e)}function W6(n){return ka(n)&&n.oa.length<10}function Z6(n,e){n.oa.push(e);const t=ws(n);t.b_()&&t.W_&&t.G_(e.mutations)}function DT(n){return ka(n)&&!ws(n).w_()&&n.oa.length>0}function OT(n){ws(n).start()}async function J6(n){ws(n).H_()}async function ex(n){const e=ws(n);for(const t of n.oa)e.G_(t.mutations)}async function tx(n,e,t){const s=n.oa.shift(),o=o0.from(s,e,t);await NT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await rd(n)}async function nx(n,e){e&&ws(n).W_&&await async function(s,o){if(function(c){return U5(c)&&c!==ye.ABORTED}(o.code)){const l=s.oa.shift();ws(s).D_(),await NT(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await rd(s)}}(n,e),DT(n)&&OT(n)}async function I1(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),Ee(Aa,"RemoteStore received new credentials");const s=ka(t);t.aa.add(3),await ac(t),s&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await id(t)}async function ix(n,e){const t=Ve(n);e?(t.aa.delete(2),await id(t)):e||(t.aa.add(2),await ac(t),t.la.set("Unknown"))}function sl(n){return n.Pa||(n.Pa=function(t,s,o){const l=Ve(t);return l.Y_(),new B6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{jo:K6.bind(null,n),Jo:$6.bind(null,n),Zo:Y6.bind(null,n),Q_:X6.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),y0(n)?g0(n):n.la.set("Unknown")):(await n.Pa.stop(),xT(n))})),n.Pa}function ws(n){return n.Ta||(n.Ta=function(t,s,o){const l=Ve(t);return l.Y_(),new q6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:J6.bind(null,n),Zo:nx.bind(null,n),z_:ex.bind(null,n),j_:tx.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await rd(n)):(await n.Ta.stop(),n.oa.length>0&&(Ee(Aa,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,d=new v0(e,t,c,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _0(n,e){if(Sr("AsyncQueue",`${e}: ${n}`),rl(n))return new Re(ye.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ie.comparator(t.key,s.key):(t,s)=>Ie.comparator(t.key,s.key),this.keyedMap=Tu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.Ia=new _t(Ie.comparator)}track(e){const t=e.doc.key,s=this.Ia.get(t);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(t):e.type===1&&s.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Oe(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,s)=>{e.push(s)}),e}}class $o{constructor(e,t,s,o,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new $o(e,t,Lo.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class sx{constructor(){this.queries=N1(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,s){const o=Ve(t),l=o.queries;o.queries=N1(),l.forEach((c,d)=>{for(const m of d.Ra)m.onError(s)})})(this,new Re(ye.ABORTED,"Firestore shutting down"))}}function N1(){return new Ma(n=>Zb(n),Wh)}async function ax(n,e){const t=Ve(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Va()&&e.ma()&&(s=2):(l=new rx,s=e.ma()?0:1);try{switch(s){case 0:l.Aa=await t.onListen(o,!0);break;case 1:l.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=_0(c,`Initialization of query '${No(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&E0(t)}async function ox(n,e){const t=Ve(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?o=e.ma()?0:1:!l.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function lx(n,e){const t=Ve(n);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.Ra)d.pa(o)&&(s=!0);c.Aa=o}}s&&E0(t)}function ux(n,e,t){const s=Ve(n),o=s.queries.get(e);if(o)for(const l of o.Ra)l.onError(t);s.queries.delete(e)}function E0(n){n.fa.forEach(e=>{e.next()})}var _g,D1;(D1=_g||(_g={})).ya="default",D1.Cache="cache";class cx{constructor(e,t,s){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new $o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const s=t!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==_g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class fx{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Qe(),this.mutatedKeys=Qe(),this.Ua=Jb(e),this.Ka=new Lo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const s=t?t.za:new x1,o=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,_)=>{const b=o.get(y),I=Zh(this.query,_)?_:null,z=!!b&&this.mutatedKeys.has(b.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;b&&I?b.data.isEqual(I.data)?z!==j&&(s.track({type:3,doc:I}),P=!0):this.ja(b,I)||(s.track({type:2,doc:I}),P=!0,(m&&this.Ua(I,m)>0||g&&this.Ua(I,g)<0)&&(d=!0)):!b&&I?(s.track({type:0,doc:I}),P=!0):b&&!I&&(s.track({type:1,doc:b}),P=!0,(m||g)&&(d=!0)),P&&(I?(c=c.add(I),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{Ka:c,za:s,ys:d,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((y,_)=>function(I,z){const j=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:P})}};return j(I)-j(z)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(s),o=o!=null&&o;const d=t&&!o?this.Ja():[],m=this.$a.size===0&&this.current&&!o?1:0,g=m!==this.Qa;return this.Qa=m,c.length!==0||g?{snapshot:new $o(this.query,e.Ka,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new x1,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Qe(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const t=[];return e.forEach(s=>{this.$a.has(s)||t.push(new kT(s))}),this.$a.forEach(s=>{e.has(s)||t.push(new MT(s))}),t}Xa(e){this.qa=e.Ns,this.$a=Qe();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return $o.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const b0="SyncEngine";class hx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class dx{constructor(e){this.key=e,this.tu=!1}}class mx{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Ma(d=>Zb(d),Wh),this.iu=new Map,this.su=new Set,this.ou=new _t(Ie.comparator),this._u=new Map,this.au=new c0,this.uu={},this.cu=new Map,this.lu=Ko.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function px(n,e,t=!0){const s=zT(n);let o;const l=s.ru.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.eu()):o=await PT(s,e,t,!0),o}async function gx(n,e){const t=zT(n);await PT(t,e,!0,!1)}async function PT(n,e,t,s){const o=await M6(n.localStore,Pi(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await yx(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&CT(n.remoteStore,o),d}async function yx(n,e,t,s,o){n.Pu=(_,b,I)=>async function(j,P,B,q){let L=P.view.Ga(B);L.ys&&(L=await S1(j.localStore,P.query,!1).then(({documents:D})=>P.view.Ga(D,L)));const k=q&&q.targetChanges.get(P.targetId),H=q&&q.targetMismatches.get(P.targetId)!=null,G=P.view.applyChanges(L,j.isPrimaryClient,k,H);return M1(j,P.targetId,G.Ya),G.snapshot}(n,_,b,I);const l=await S1(n.localStore,e,!0),c=new fx(e,l.Ns),d=c.Ga(l.documents),m=sc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,m);M1(n,t,g.Ya);const y=new hx(e,t,c);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),g.snapshot}async function vx(n,e,t){const s=Ve(n),o=s.ru.get(e),l=s.iu.get(o.targetId);if(l.length>1)return s.iu.set(o.targetId,l.filter(c=>!Wh(c,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&m0(s.remoteStore,o.targetId),Eg(s,o.targetId)}).catch(il)):(Eg(s,o.targetId),await yg(s.localStore,o.targetId,!0))}async function _x(n,e){const t=Ve(n),s=t.ru.get(e),o=t.iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),m0(t.remoteStore,s.targetId))}async function Ex(n,e,t){const s=Cx(n);try{const o=await function(c,d){const m=Ve(c),g=It.now(),y=d.reduce((I,z)=>I.add(z.key),Qe());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",I=>{let z=wr(),j=Qe();return m.Cs.getEntries(I,y).next(P=>{z=P,z.forEach((B,q)=>{q.isValidDocument()||(j=j.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(I,z)).next(P=>{_=P;const B=[];for(const q of d){const L=M5(q,_.get(q.key).overlayedDocument);L!=null&&B.push(new Ms(q.key,L,Qb(L.value.mapValue),Vi.exists(!0)))}return m.mutationQueue.addMutationBatch(I,g,B,d)}).next(P=>{b=P;const B=P.applyToLocalDocumentSet(_,j);return m.documentOverlayCache.saveOverlays(I,P.batchId,B)})}).then(()=>({batchId:b.batchId,changes:tT(_)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let g=c.uu[c.currentUser.toKey()];g||(g=new _t(je)),g=g.insert(d,m),c.uu[c.currentUser.toKey()]=g}(s,o.batchId,t),await oc(s,o.changes),await rd(s.remoteStore)}catch(o){const l=_0(o,"Failed to persist write");t.reject(l)}}async function VT(n,e){const t=Ve(n);try{const s=await N6(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t._u.get(l);c&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.tu=!0:o.modifiedDocuments.size>0?nt(c.tu,14607):o.removedDocuments.size>0&&(nt(c.tu,42227),c.tu=!1))}),await oc(t,s,e)}catch(s){await il(s)}}function O1(n,e,t){const s=Ve(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ru.forEach((l,c)=>{const d=c.view.ga(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const m=Ve(c);m.onlineState=d;let g=!1;m.queries.forEach((y,_)=>{for(const b of _.Ra)b.ga(d)&&(g=!0)}),g&&E0(m)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bx(n,e,t){const s=Ve(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s._u.get(e),l=o&&o.key;if(l){let c=new _t(Ie.comparator);c=c.insert(l,mn.newNoDocument(l,Pe.min()));const d=Qe().add(l),m=new td(Pe.min(),new Map,new _t(je),c,d);await VT(s,m),s.ou=s.ou.remove(l),s._u.delete(e),T0(s)}else await yg(s.localStore,e,!1).then(()=>Eg(s,e,t)).catch(il)}async function Tx(n,e){const t=Ve(n),s=e.batch.batchId;try{const o=await x6(t.localStore,e);UT(t,s,null),LT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await oc(t,o)}catch(o){await il(o)}}async function Sx(n,e,t){const s=Ve(n);try{const o=await function(c,d){const m=Ve(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next(_=>(nt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>m.localDocuments.getDocuments(g,y))})}(s.localStore,e);UT(s,e,t),LT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await oc(s,o)}catch(o){await il(o)}}function LT(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function UT(n,e,t){const s=Ve(n);let o=s.uu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Eg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.iu.get(e))n.ru.delete(s),t&&n.nu.Tu(s,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(s=>{n.au.containsKey(s)||jT(n,s)})}function jT(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(m0(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),T0(n))}function M1(n,e,t){for(const s of t)s instanceof MT?(n.au.addReference(s.key,e),wx(n,s)):s instanceof kT?(Ee(b0,"Document no longer in limbo: "+s.key),n.au.removeReference(s.key,e),n.au.containsKey(s.key)||jT(n,s.key)):Oe(19791,{Iu:s})}function wx(n,e){const t=e.key,s=t.path.canonicalString();n.ou.get(t)||n.su.has(s)||(Ee(b0,"New document in limbo: "+t),n.su.add(s),T0(n))}function T0(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ie(Tt.fromString(e)),s=n.lu.next();n._u.set(s,new dx(t)),n.ou=n.ou.insert(t,s),CT(n.remoteStore,new hs(Pi(r0(t.path)),s,"TargetPurposeLimboResolution",Kh.le))}}async function oc(n,e,t){const s=Ve(n),o=[],l=[],c=[];s.ru.isEmpty()||(s.ru.forEach((d,m)=>{c.push(s.Pu(m,e,t).then(g=>{var y;if((g||t)&&s.isPrimaryClient){const _=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=h0.Ps(m.targetId,g);l.push(_)}}))}),await Promise.all(c),s.nu.Q_(o),await async function(m,g){const y=Ve(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>he.forEach(g,b=>he.forEach(b.ls,I=>y.persistence.referenceDelegate.addReference(_,b.targetId,I)).next(()=>he.forEach(b.hs,I=>y.persistence.referenceDelegate.removeReference(_,b.targetId,I)))))}catch(_){if(!rl(_))throw _;Ee(d0,"Failed to update sequence numbers: "+_)}for(const _ of g){const b=_.targetId;if(!_.fromCache){const I=y.Ss.get(b),z=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(z);y.Ss=y.Ss.insert(b,j)}}}(s.localStore,l))}async function Ax(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){Ee(b0,"User change. New user:",e.toKey());const s=await ST(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(d=>{d.forEach(m=>{m.reject(new Re(ye.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await oc(t,s.Ms)}}function Rx(n,e){const t=Ve(n),s=t._u.get(e);if(s&&s.tu)return Qe().add(s.key);{let o=Qe();const l=t.iu.get(e);if(!l)return o;for(const c of l){const d=t.ru.get(c);o=o.unionWith(d.view.Wa)}return o}}function zT(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bx.bind(null,e),e.nu.Q_=lx.bind(null,e.eventManager),e.nu.Tu=ux.bind(null,e.eventManager),e}function Cx(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sx.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return I6(this.persistence,new A6,e.initialUser,this.serializer)}Ru(e){return new TT(f0.Ei,this.serializer)}Au(e){return new P6}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class Ix extends Ch{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){nt(this.persistence.referenceDelegate instanceof Ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new c6(s,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new TT(s=>Ah.Ei(s,t),this.serializer)}}class bg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ax.bind(null,this.syncEngine),await ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sx}()}createDatastore(e){const t=nd(e.databaseInfo.databaseId),s=function(l){return new z6(l)}(e.databaseInfo);return function(l,c,d,m){return new F6(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,c,d){return new G6(s,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>O1(this.syncEngine,t,0),function(){return R1.C()?new R1:new V6}())}createSyncEngine(e,t){return function(o,l,c,d,m,g,y){const _=new mx(o,l,c,d,m,g);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ve(o);Ee(Aa,"RemoteStore shutting down."),l.aa.add(5),await ac(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}bg.provider={build:()=>new bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class Nx{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=Pb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{Ee(As,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(Ee(As,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=_0(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Op(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(As,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ST(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function k1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Dx(n);Ee(As,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>I1(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>I1(e.remoteStore,o)),n._onlineComponents=e}async function Dx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(As,"Using user provided OfflineComponentProvider");try{await Op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ye.FAILED_PRECONDITION||o.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Bo("Error using user provided cache. Falling back to memory cache: "+t),await Op(n,new Ch)}}else Ee(As,"Using default OfflineComponentProvider"),await Op(n,new Ix(void 0));return n._offlineComponents}async function BT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(As,"Using user provided OnlineComponentProvider"),await k1(n,n._uninitializedComponentsProvider._online)):(Ee(As,"Using default OnlineComponentProvider"),await k1(n,new bg))),n._onlineComponents}function Ox(n){return BT(n).then(e=>e.syncEngine)}async function Mx(n){const e=await BT(n),t=e.eventManager;return t.onListen=px.bind(null,e.syncEngine),t.onUnlisten=vx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_x.bind(null,e.syncEngine),t}function kx(n,e,t={}){const s=new vs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const y=new xx({next:b=>{y.yu(),c.enqueueAndForget(()=>ox(l,_));const I=b.docs.has(d);!I&&b.fromCache?g.reject(new Re(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&b.fromCache&&m&&m.source==="server"?g.reject(new Re(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new cx(r0(d.path),y,{includeMetadataChanges:!0,Fa:!0});return ax(l,_)}(await Mx(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n,e,t){if(!t)throw new Re(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vx(n,e,t,s){if(e===!0&&s===!0)throw new Re(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function V1(n){if(!Ie.isDocumentKey(n))throw new Re(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function Ra(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=S0(n);throw new Re(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firestore.googleapis.com",L1=!0;class U1{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HT,this.ssl=L1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:L1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l6)throw new Re(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Re(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Re(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Re(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w0{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new UI;switch(s.type){case"firstParty":return new qI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Re(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=P1.get(t);s&&(Ee("ComponentProvider","Removing Datastore"),P1.delete(t),s.terminate())}(this),Promise.resolve()}}function Lx(n,e,t,s={}){var o;n=Ra(n,w0);const l=Hh(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&UE(`https://${m}`),c.host!==HT&&c.host!==m&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:s});if(!Er(g,d)&&(n._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=dn.MOCK_USER;else{y=J3(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Re(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(b)}n._authCredentials=new jI(new Mb(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new A0(this.firestore,e,this._query)}}class Bn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class Hu extends A0{constructor(e,t,s){super(e,t,r0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new Ie(e))}withConverter(e){return new Hu(this.firestore,e,this._path)}}function Wt(n,e,...t){if(n=gn(n),arguments.length===1&&(e=Pb.newId()),Px("doc","path",e),n instanceof w0){const s=Tt.fromString(e,...t);return V1(s),new Bn(n,null,new Ie(s))}{if(!(n instanceof Bn||n instanceof Hu))throw new Re(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Tt.fromString(e,...t));return V1(s),new Bn(n.firestore,n instanceof Hu?n.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="AsyncQueue";class z1{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new AT(this,"async_queue_retry"),this.ju=()=>{const s=Dp();s&&Ee(j1,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const t=Dp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Dp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new vs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!rl(e))throw e;Ee(j1,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Sr("INTERNAL UNHANDLED ERROR: ",B1(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=t,t}enqueueAfterDelay(e,t,s){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=v0.createAndSchedule(this,e,t,s,l=>this.Xu(l));return this.Uu.push(o),o}Ju(){this.Ku&&Oe(47125,{ec:B1(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function B1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class sd extends w0{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new z1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z1(e),this._firestoreClient=void 0,await e}}}function Ca(n,e){const t=typeof n=="object"?n:qE(),s=typeof n=="string"?n:_h,o=qg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=W3("firestore");l&&Lx(o,...l)}return o}function FT(n){if(n._terminated)throw new Re(ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ux(n),n._firestoreClient}function Ux(n){var e,t,s;const o=n._freezeSettings(),l=function(d,m,g,y){return new i5(d,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,qT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Nx(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(un.fromBase64String(e))}catch(t){throw new Re(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yo(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=/^__.*__$/;class zx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new rc(e,this.data,t,this.fieldTransforms)}}class QT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{oc:n})}}class od{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new od(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ih(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(GT(this.oc)&&jx.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Bx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||nd(e)}dc(e,t,s,o=!1){return new od({oc:e,methodName:t,Ec:s,path:on.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KT(n){const e=n._freezeSettings(),t=nd(n._databaseId);return new Bx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qx(n,e,t,s,o,l={}){const c=n.dc(l.merge||l.mergeFields?2:0,e,t,o);D0("Data must be an object, but it was:",c,s);const d=YT(s,c);let m,g;if(l.merge)m=new zn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=Tg(e,_,t);if(!c.contains(b))throw new Re(ye.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);WT(y,b)||y.push(b)}m=new zn(y),g=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,g=c.fieldTransforms;return new zx(new xn(d),m,g)}class ld extends al{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function $T(n,e,t){return new od({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class I0 extends al{_toFieldTransform(e){return new a0(e.path,new qu)}isEqual(e){return e instanceof I0}}class x0 extends al{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=$T(this,e,!0),s=this.Ac.map(l=>ol(l,t)),o=new Qo(s);return new a0(e.path,o)}isEqual(e){return e instanceof x0&&Er(this.Ac,e.Ac)}}class N0 extends al{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=$T(this,e,!0),s=this.Ac.map(l=>ol(l,t)),o=new Go(s);return new a0(e.path,o)}isEqual(e){return e instanceof N0&&Er(this.Ac,e.Ac)}}function Hx(n,e,t,s){const o=n.dc(1,e,t);D0("Data must be an object, but it was:",o,s);const l=[],c=xn.empty();Os(s,(m,g)=>{const y=O0(e,m,t);g=gn(g);const _=o.hc(y);if(g instanceof ld)l.push(y);else{const b=ol(g,_);b!=null&&(l.push(y),c.set(y,b))}});const d=new zn(l);return new QT(c,d,o.fieldTransforms)}function Fx(n,e,t,s,o,l){const c=n.dc(1,e,t),d=[Tg(e,s,t)],m=[o];if(l.length%2!=0)throw new Re(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Tg(e,l[b])),m.push(l[b+1]);const g=[],y=xn.empty();for(let b=d.length-1;b>=0;--b)if(!WT(g,d[b])){const I=d[b];let z=m[b];z=gn(z);const j=c.hc(I);if(z instanceof ld)g.push(I);else{const P=ol(z,j);P!=null&&(g.push(I),y.set(I,P))}}const _=new zn(g);return new QT(y,_,c.fieldTransforms)}function ol(n,e){if(XT(n=gn(n)))return D0("Unsupported field value:",e,n),YT(n,e);if(n instanceof al)return function(s,o){if(!GT(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const d of s){let m=ol(d,o.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(s,o){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return C5(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=It.fromDate(s);return{timestampValue:wh(o.serializer,l)}}if(s instanceof It){const l=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,l)}}if(s instanceof R0)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yo)return{bytesValue:mT(o.serializer,s._byteString)};if(s instanceof Bn){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:u0(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof C0)return function(c,d){return{mapValue:{fields:{[Hb]:{stringValue:Fb},[Eh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return s0(d.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${S0(s)}`)}(n,e)}function YT(n,e){const t={};return Lb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(n,(s,o)=>{const l=ol(o,e.uc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function XT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof R0||n instanceof Yo||n instanceof Bn||n instanceof al||n instanceof C0)}function D0(n,e,t){if(!XT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=S0(t);throw s==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+s)}}function Tg(n,e,t){if((e=gn(e))instanceof ad)return e._internalPath;if(typeof e=="string")return O0(n,e);throw Ih("Field path arguments must be of type string or ",n,!1,void 0,t)}const Qx=new RegExp("[~\\*/\\[\\]]");function O0(n,e,t){if(e.search(Qx)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ad(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ih(n,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new Re(ye.INVALID_ARGUMENT,d+n+m)}function WT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(JT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Gx extends ZT{data(){return super.data()}}function JT(n,e){return typeof e=="string"?O0(n,e):e instanceof ad?e._internalPath:e._delegate._internalPath}class Kx{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Os(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Eh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(c=>Ct(c.doubleValue));return new C0(l)}convertGeoPoint(e){return new R0(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Yh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const t=bs(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Tt.fromString(e);nt(ET(s),9688,{name:e});const o=new zu(s.get(1),s.get(3)),l=new Ie(s.popFirst(5));return o.isEqual(t)||Sr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eS extends ZT{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(JT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Xx extends eS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n){n=Ra(n,Bn);const e=Ra(n.firestore,sd);return kx(FT(e),n._key).then(t=>Zx(e,n,t))}class Wx extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function xh(n,e,t){n=Ra(n,Bn);const s=Ra(n.firestore,sd),o=$x(n.converter,e,t);return tS(s,[qx(KT(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Vi.none())])}function Xo(n,e,t,...s){n=Ra(n,Bn);const o=Ra(n.firestore,sd),l=KT(o);let c;return c=typeof(e=gn(e))=="string"||e instanceof ad?Fx(l,"updateDoc",n._key,e,t,s):Hx(l,"updateDoc",n._key,e),tS(o,[c.toMutation(n._key,Vi.exists(!0))])}function tS(n,e){return function(s,o){const l=new vs;return s.asyncQueue.enqueueAndForget(async()=>Ex(await Ox(s),o,l)),l.promise}(FT(n),e)}function Zx(n,e,t){const s=t.docs.get(e._key),o=new Wx(n);return new eS(n,o,e._key,s,new Yx(t.hasPendingWrites,t.fromCache),e.converter)}function Sg(){return new I0("serverTimestamp")}function Jx(...n){return new x0("arrayUnion",n)}function e9(...n){return new N0("arrayRemove",n)}(function(e,t=!0){(function(o){nl=o})(el),zo(new ba("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new sd(new zI(s.getProvider("auth-internal")),new HI(c,s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Re(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(g.options.projectId,y)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),gs(K2,$2,e),gs(K2,$2,"esm2017")})();const t9={apiKey:"AIzaSyDJ1sQqCPXYFIv-FM1En6UFJi5lpiGqoVg",authDomain:"cinefix-lab.firebaseapp.com",projectId:"cinefix-lab",storageBucket:"cinefix-lab.firebasestorage.app",messagingSenderId:"351399809714",appId:"1:351399809714:web:85558352ac7064bbf1efab",measurementId:"G-75XS6MN8S7"},nS=BE(t9),zi=_a(nS),Bi=Ca(nS),iS=F.createContext(),rS=({children:n})=>{const[e,t]=F.useState(null),[s,o]=F.useState(null),[l,c]=F.useState(null),[d,m]=F.useState(!0);return F.useEffect(()=>{const g=nc(zi,async y=>{if(y){t(y);const _=Wt(Bi,"users",y.uid),b=await Tn(_);if(b.exists()){const I=b.data();o(I.subscriptionStatus||null),c(I.subscriptionExpiry?I.subscriptionExpiry.toDate():null)}else o(null),c(null)}else t(null),o(null),c(null);m(!1)});return()=>g()},[]),F.useEffect(()=>{if(l&&s==="active"&&new Date>l&&(o("deactive"),e)){const y=Wt(Bi,"users",e.uid);Xo(y,{subscriptionStatus:"deactive"}).catch(console.error)}},[l,s,e]),T.jsx(iS.Provider,{value:{user:e,loading:d,subscriptionStatus:s,subscriptionExpiry:l},children:n})},M0=()=>F.useContext(iS),n9=({isTablet:n,onToggle:e,isOpen:t,closeSidebar:s,showSubscribe:o})=>{const{user:l}=M0(),c=Ft(),[d,m]=F.useState(!1),[g,y]=F.useState(!0);F.useEffect(()=>{y(!0);const I=nc(zi,async z=>{if(z)try{const j=Wt(Bi,"users",z.uid),P=await Tn(j);if(P.exists()){const B=P.data();m(B.subscriptionStatus==="active")}else m(!1)}catch{m(!1)}y(!1)});return()=>I()},[]);const _=I=>{I.preventDefault(),c(l?"/subscribe":"/login"),n&&t&&s()},b=()=>{c(l?"/profile":"/login")};return T.jsx("div",{className:`navbar ${n&&t?"shifted":""}`,style:{zIndex:t?-1:999999999999},children:T.jsxs("div",{className:"navbar-cnt",children:[n&&T.jsxs("div",{className:"navbar-mobile-header",children:[T.jsx("button",{className:"navbar-toggle-btn",onClick:e,children:T.jsx("i",{className:"fa-light fa-sidebar"})}),T.jsx(_s,{to:"/",children:T.jsx("img",{src:jn.logo,alt:"cinefix-logo",className:"navbar-mobile-logo"})})]}),!n&&T.jsx("div",{className:"navbar-link-list",children:T.jsxs("ul",{className:"navbar-links",children:[T.jsx(Cn,{to:"/movies",label:"Movies"}),T.jsx(Cn,{to:"/series",label:"Series"}),T.jsx(Cn,{to:"/tvshows",label:"TV Shows"})]})}),T.jsxs("div",{className:"navbar-profile-section",children:[!g&&T.jsxs(T.Fragment,{children:[!d&&o&&T.jsx("div",{className:"navbar-subscribe-btn",children:T.jsx(Cn,{to:"/subscribe",label:"Subscribe",className:"button-link",isSidebar:n&&t,onClick:_})}),d&&T.jsxs("div",{className:"navbar-premium-badge",children:[T.jsx("i",{className:"fa-solid fa-crown"}),T.jsx("span",{children:"Premium"})]})]}),T.jsxs("div",{onClick:b,className:"navbar-profile",style:{cursor:"pointer"},children:[T.jsx("img",{src:jn.avtar,alt:"avatar"}),T.jsx("div",{className:"profile-dropdown",children:T.jsx("i",{className:"fa-solid fa-chevron-down"})})]})]})]})})},i9=()=>{const[n,e]=F.useState(!1),[t,s]=F.useState(window.innerWidth<1240),[o,l]=F.useState(!1);F.useEffect(()=>{const m=()=>{const g=window.innerWidth<1240;s(g),g||e(!1)};return window.addEventListener("resize",m),m(),()=>window.removeEventListener("resize",m)},[]),F.useEffect(()=>{const m=nc(zi,async g=>{if(g)try{const y=Wt(Bi,"users",g.uid),_=await Tn(y);_.exists()&&_.data().subscriptionStatus==="active"?l(!0):l(!1)}catch(y){console.error("Error fetching user subscription status:",y),l(!1)}else l(!1)});return()=>m()},[]);const c=()=>e(!n),d=()=>e(!1);return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`sidebar ${t&&n?"open":""}`,children:T.jsxs("div",{className:"sidebar-cnt",children:[T.jsxs("div",{className:"sidebar-logo",children:[T.jsx(_s,{to:"/",children:T.jsx("img",{src:jn.logo,alt:"cinefix-logo",className:"logo"})}),t&&n&&T.jsx("button",{className:"sidebar-close-btn",onClick:d,"aria-label":"Close Sidebar",children:T.jsx("i",{className:"fa-light fa-sidebar"})})]}),T.jsxs("div",{className:"sidebar-list",children:[T.jsxs("div",{className:"sidebar-list-group",children:[T.jsx("div",{className:"sidebar-title",children:T.jsx("h6",{children:"Menu"})}),T.jsx("div",{className:"sidebar-link-list",children:T.jsxs("ul",{className:"sidebar-links",children:[T.jsx(Cn,{to:"/",iconClass:"fa-regular fa-compass",label:"Discovery",isSidebar:!0,onClick:d}),T.jsx(Cn,{to:"/search",iconClass:"fa-regular fa-magnifying-glass",label:"Search",isSidebar:!0,onClick:d}),T.jsx(Cn,{to:"/toprated",iconClass:"fa-regular fa-star",label:"Top Rated",isSidebar:!0,onClick:d}),T.jsx(Cn,{to:"/premium",iconClass:"fa-regular fa-crown",label:"Premium",isSidebar:!0,onClick:d})]})})]}),t&&n&&T.jsx("div",{className:"sidebar-top-menu",children:T.jsxs("div",{className:"sidebar-list-group",children:[T.jsx("div",{className:"sidebar-title",children:T.jsx("h6",{children:"Streaming"})}),T.jsx("div",{className:"sidebar-link-list",children:T.jsxs("ul",{className:"sidebar-links",children:[T.jsx(Cn,{to:"/movies",iconClass:"fa-regular fa-clapperboard-play",label:"Movies",isSidebar:!0,onClick:d}),T.jsx(Cn,{to:"/series",iconClass:"fa-regular fa-popcorn",label:"Series",isSidebar:!0,onClick:d}),T.jsx(Cn,{to:"/tvshows",iconClass:"fa-regular fa-tv",label:"Tv Shows",isSidebar:!0,onClick:d})]})})]})}),T.jsxs("div",{className:"sidebar-list-group",children:[T.jsx("div",{className:"sidebar-title",children:T.jsx("h6",{children:"Library"})}),T.jsx("div",{className:"sidebar-link-list",children:T.jsx("ul",{className:"sidebar-links",children:T.jsx(Cn,{to:"/mybackpack",iconClass:"fa-light fa-backpack",label:"My Backpack",isSidebar:!0,onClick:d})})})]}),t&&n&&T.jsxs("div",{className:`sidebar-list-group sidebar-subscribe ${o?"d-none":""}`,children:[T.jsx("div",{className:"sidebar-title",children:T.jsx("h6",{children:"Subscribe"})}),T.jsx("div",{className:"sidebar-link-list",children:T.jsx("ul",{className:"sidebar-links subscribe-link",children:T.jsx(Cn,{to:"/subscribe",iconClass:"fa-regular fa-badge-dollar",label:"Subscribe",isSidebar:!0,onClick:d})})})]})]})]})}),T.jsx(n9,{isTablet:t,onToggle:c,isOpen:n,closeSidebar:d,showSubscribe:!o}),t&&n&&T.jsx("div",{className:"sidebar-overlay",onClick:d,role:"button",tabIndex:0,"aria-label":"Close Sidebar",onKeyDown:m=>{m.key==="Escape"&&d()}})]})};function sn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var r9=typeof Symbol=="function"&&Symbol.observable||"@@observable",q1=r9,Mp=()=>Math.random().toString(36).substring(7).split("").join("."),s9={INIT:`@@redux/INIT${Mp()}`,REPLACE:`@@redux/REPLACE${Mp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mp()}`},Nh=s9;function Rs(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function sS(n,e,t){if(typeof n!="function")throw new Error(sn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(sn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(sn(1));return t(sS)(n,e)}let s=n,o=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((P,B)=>{c.set(B,P)}))}function y(){if(m)throw new Error(sn(3));return o}function _(P){if(typeof P!="function")throw new Error(sn(4));if(m)throw new Error(sn(5));let B=!0;g();const q=d++;return c.set(q,P),function(){if(B){if(m)throw new Error(sn(6));B=!1,g(),c.delete(q),l=null}}}function b(P){if(!Rs(P))throw new Error(sn(7));if(typeof P.type>"u")throw new Error(sn(8));if(typeof P.type!="string")throw new Error(sn(17));if(m)throw new Error(sn(9));try{m=!0,o=s(o,P)}finally{m=!1}return(l=c).forEach(q=>{q()}),P}function I(P){if(typeof P!="function")throw new Error(sn(10));s=P,b({type:Nh.REPLACE})}function z(){const P=_;return{subscribe(B){if(typeof B!="object"||B===null)throw new Error(sn(11));function q(){const k=B;k.next&&k.next(y())}return q(),{unsubscribe:P(q)}},[q1](){return this}}}return b({type:Nh.INIT}),{dispatch:b,subscribe:_,getState:y,replaceReducer:I,[q1]:z}}function a9(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Nh.INIT})>"u")throw new Error(sn(12));if(typeof t(void 0,{type:Nh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sn(13))})}function aS(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const s=Object.keys(t);let o;try{a9(t)}catch(l){o=l}return function(c={},d){if(o)throw o;let m=!1;const g={};for(let y=0;y<s.length;y++){const _=s[y],b=t[_],I=c[_],z=b(I,d);if(typeof z>"u")throw d&&d.type,new Error(sn(14));g[_]=z,m=m||z!==I}return m=m||s.length!==Object.keys(c).length,m?g:c}}function Dh(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...s)=>e(t(...s)))}function o9(...n){return e=>(t,s)=>{const o=e(t,s);let l=()=>{throw new Error(sn(15))};const c={getState:o.getState,dispatch:(m,...g)=>l(m,...g)},d=n.map(m=>m(c));return l=Dh(...d)(o.dispatch),{...o,dispatch:l}}}function oS(n){return Rs(n)&&"type"in n&&typeof n.type=="string"}var k0=Symbol.for("immer-nothing"),Nu=Symbol.for("immer-draftable"),Nn=Symbol.for("immer-state");function ln(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ia=Object.getPrototypeOf;function qi(n){return!!n&&!!n[Nn]}function pi(n){var e;return n?lS(n)||Array.isArray(n)||!!n[Nu]||!!((e=n.constructor)!=null&&e[Nu])||lc(n)||uc(n):!1}var l9=Object.prototype.constructor.toString();function lS(n){if(!n||typeof n!="object")return!1;const e=Ia(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===l9}function u9(n){return qi(n)||ln(15,n),n[Nn].base_}function Fu(n,e){xa(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,s)=>e(s,t,n))}function xa(n){const e=n[Nn];return e?e.type_:Array.isArray(n)?1:lc(n)?2:uc(n)?3:0}function Qu(n,e){return xa(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function kp(n,e){return xa(n)===2?n.get(e):n[e]}function uS(n,e,t){const s=xa(n);s===2?n.set(e,t):s===3?n.add(t):n[e]=t}function c9(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function lc(n){return n instanceof Map}function uc(n){return n instanceof Set}function ga(n){return n.copy_||n.base_}function wg(n,e){if(lc(n))return new Map(n);if(uc(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=lS(n);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(n);delete s[Nn];let o=Reflect.ownKeys(s);for(let l=0;l<o.length;l++){const c=o[l],d=s[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[c]})}return Object.create(Ia(n),s)}else{const s=Ia(n);if(s!==null&&t)return{...n};const o=Object.create(s);return Object.assign(o,n)}}function P0(n,e=!1){return ud(n)||qi(n)||!pi(n)||(xa(n)>1&&(n.set=n.add=n.clear=n.delete=f9),Object.freeze(n),e&&Object.entries(n).forEach(([t,s])=>P0(s,!0))),n}function f9(){ln(2)}function ud(n){return Object.isFrozen(n)}var Ag={};function Na(n){const e=Ag[n];return e||ln(0,n),e}function h9(n,e){Ag[n]||(Ag[n]=e)}var Gu;function cS(){return Gu}function d9(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function H1(n,e){e&&(Na("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Rg(n){Cg(n),n.drafts_.forEach(m9),n.drafts_=null}function Cg(n){n===Gu&&(Gu=n.parent_)}function F1(n){return Gu=d9(Gu,n)}function m9(n){const e=n[Nn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Q1(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Nn].modified_&&(Rg(e),ln(4)),pi(n)&&(n=Oh(e,n),e.parent_||Mh(e,n)),e.patches_&&Na("Patches").generateReplacementPatches_(t[Nn].base_,n,e.patches_,e.inversePatches_)):n=Oh(e,t,[]),Rg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==k0?n:void 0}function Oh(n,e,t){if(ud(e))return e;const s=e[Nn];if(!s)return Fu(e,(o,l)=>G1(n,s,e,o,l,t)),e;if(s.scope_!==n)return e;if(!s.modified_)return Mh(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let l=o,c=!1;s.type_===3&&(l=new Set(o),o.clear(),c=!0),Fu(l,(d,m)=>G1(n,s,o,d,m,t,c)),Mh(n,o,!1),t&&n.patches_&&Na("Patches").generatePatches_(s,t,n.patches_,n.inversePatches_)}return s.copy_}function G1(n,e,t,s,o,l,c){if(qi(o)){const d=l&&e&&e.type_!==3&&!Qu(e.assigned_,s)?l.concat(s):void 0,m=Oh(n,o,d);if(uS(t,s,m),qi(m))n.canAutoFreeze_=!1;else return}else c&&t.add(o);if(pi(o)&&!ud(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Oh(n,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,s)&&Mh(n,o)}}function Mh(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&P0(e,t)}function p9(n,e){const t=Array.isArray(n),s={type_:t?1:0,scope_:e?e.scope_:cS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,l=V0;t&&(o=[s],l=Ku);const{revoke:c,proxy:d}=Proxy.revocable(o,l);return s.draft_=d,s.revoke_=c,d}var V0={get(n,e){if(e===Nn)return n;const t=ga(n);if(!Qu(t,e))return g9(n,t,e);const s=t[e];return n.finalized_||!pi(s)?s:s===Pp(n.base_,e)?(Vp(n),n.copy_[e]=xg(s,n)):s},has(n,e){return e in ga(n)},ownKeys(n){return Reflect.ownKeys(ga(n))},set(n,e,t){const s=fS(ga(n),e);if(s!=null&&s.set)return s.set.call(n.draft_,t),!0;if(!n.modified_){const o=Pp(ga(n),e),l=o==null?void 0:o[Nn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(c9(t,o)&&(t!==void 0||Qu(n.base_,e)))return!0;Vp(n),Ig(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Pp(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Vp(n),Ig(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ga(n),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){ln(11)},getPrototypeOf(n){return Ia(n.base_)},setPrototypeOf(){ln(12)}},Ku={};Fu(V0,(n,e)=>{Ku[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ku.deleteProperty=function(n,e){return Ku.set.call(this,n,e,void 0)};Ku.set=function(n,e,t){return V0.set.call(this,n[0],e,t,n[0])};function Pp(n,e){const t=n[Nn];return(t?ga(t):n)[e]}function g9(n,e,t){var o;const s=fS(e,t);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(n.draft_):void 0}function fS(n,e){if(!(e in n))return;let t=Ia(n);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=Ia(t)}}function Ig(n){n.modified_||(n.modified_=!0,n.parent_&&Ig(n.parent_))}function Vp(n){n.copy_||(n.copy_=wg(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var y9=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const c=this;return function(m=l,...g){return c.produce(m,y=>t.call(this,y,...g))}}typeof t!="function"&&ln(6),s!==void 0&&typeof s!="function"&&ln(7);let o;if(pi(e)){const l=F1(this),c=xg(e,void 0);let d=!0;try{o=t(c),d=!1}finally{d?Rg(l):Cg(l)}return H1(l,s),Q1(o,l)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===k0&&(o=void 0),this.autoFreeze_&&P0(o,!0),s){const l=[],c=[];Na("Patches").generateReplacementPatches_(e,o,l,c),s(l,c)}return o}else ln(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let s,o;return[this.produce(e,t,(c,d)=>{s=c,o=d}),s,o]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){pi(n)||ln(8),qi(n)&&(n=v9(n));const e=F1(this),t=xg(n,void 0);return t[Nn].isManual_=!0,Cg(e),t}finishDraft(n,e){const t=n&&n[Nn];(!t||!t.isManual_)&&ln(9);const{scope_:s}=t;return H1(s,e),Q1(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const s=Na("Patches").applyPatches_;return qi(n)?s(n,e):this.produce(n,o=>s(o,e))}};function xg(n,e){const t=lc(n)?Na("MapSet").proxyMap_(n,e):uc(n)?Na("MapSet").proxySet_(n,e):p9(n,e);return(e?e.scope_:cS()).drafts_.push(t),t}function v9(n){return qi(n)||ln(10,n),hS(n)}function hS(n){if(!pi(n)||ud(n))return n;const e=n[Nn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=wg(n,e.scope_.immer_.useStrictShallowCopy_)}else t=wg(n,!0);return Fu(t,(s,o)=>{uS(t,s,hS(o))}),e&&(e.finalized_=!1),t}function _9(){const e="replace",t="add",s="remove";function o(b,I,z,j){switch(b.type_){case 0:case 2:return c(b,I,z,j);case 1:return l(b,I,z,j);case 3:return d(b,I,z,j)}}function l(b,I,z,j){let{base_:P,assigned_:B}=b,q=b.copy_;q.length<P.length&&([P,q]=[q,P],[z,j]=[j,z]);for(let L=0;L<P.length;L++)if(B[L]&&q[L]!==P[L]){const k=I.concat([L]);z.push({op:e,path:k,value:_(q[L])}),j.push({op:e,path:k,value:_(P[L])})}for(let L=P.length;L<q.length;L++){const k=I.concat([L]);z.push({op:t,path:k,value:_(q[L])})}for(let L=q.length-1;P.length<=L;--L){const k=I.concat([L]);j.push({op:s,path:k})}}function c(b,I,z,j){const{base_:P,copy_:B}=b;Fu(b.assigned_,(q,L)=>{const k=kp(P,q),H=kp(B,q),G=L?Qu(P,q)?e:t:s;if(k===H&&G===e)return;const D=I.concat(q);z.push(G===s?{op:G,path:D}:{op:G,path:D,value:H}),j.push(G===t?{op:s,path:D}:G===s?{op:t,path:D,value:_(k)}:{op:e,path:D,value:_(k)})})}function d(b,I,z,j){let{base_:P,copy_:B}=b,q=0;P.forEach(L=>{if(!B.has(L)){const k=I.concat([q]);z.push({op:s,path:k,value:L}),j.unshift({op:t,path:k,value:L})}q++}),q=0,B.forEach(L=>{if(!P.has(L)){const k=I.concat([q]);z.push({op:t,path:k,value:L}),j.unshift({op:s,path:k,value:L})}q++})}function m(b,I,z,j){z.push({op:e,path:[],value:I===k0?void 0:I}),j.push({op:e,path:[],value:b})}function g(b,I){return I.forEach(z=>{const{path:j,op:P}=z;let B=b;for(let H=0;H<j.length-1;H++){const G=xa(B);let D=j[H];typeof D!="string"&&typeof D!="number"&&(D=""+D),(G===0||G===1)&&(D==="__proto__"||D==="constructor")&&ln(19),typeof B=="function"&&D==="prototype"&&ln(19),B=kp(B,D),typeof B!="object"&&ln(18,j.join("/"))}const q=xa(B),L=y(z.value),k=j[j.length-1];switch(P){case e:switch(q){case 2:return B.set(k,L);case 3:ln(16);default:return B[k]=L}case t:switch(q){case 1:return k==="-"?B.push(L):B.splice(k,0,L);case 2:return B.set(k,L);case 3:return B.add(L);default:return B[k]=L}case s:switch(q){case 1:return B.splice(k,1);case 2:return B.delete(k);case 3:return B.delete(z.value);default:return delete B[k]}default:ln(17,P)}}),b}function y(b){if(!pi(b))return b;if(Array.isArray(b))return b.map(y);if(lc(b))return new Map(Array.from(b.entries()).map(([z,j])=>[z,y(j)]));if(uc(b))return new Set(Array.from(b).map(y));const I=Object.create(Ia(b));for(const z in b)I[z]=y(b[z]);return Qu(b,Nu)&&(I[Nu]=b[Nu]),I}function _(b){return qi(b)?y(b):b}h9("Patches",{applyPatches_:g,generatePatches_:o,generateReplacementPatches_:m})}var qn=new y9,cc=qn.produce,dS=qn.produceWithPatches.bind(qn);qn.setAutoFreeze.bind(qn);qn.setUseStrictShallowCopy.bind(qn);var K1=qn.applyPatches.bind(qn);qn.createDraft.bind(qn);qn.finishDraft.bind(qn);function E9(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function b9(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function T9(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${e}[${t}]`)}}var $1=n=>Array.isArray(n)?n:[n];function S9(n){const e=Array.isArray(n[0])?n[0]:n;return T9(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function w9(n,e){const t=[],{length:s}=n;for(let o=0;o<s;o++)t.push(n[o].apply(null,e));return t}var A9=class{constructor(n){this.value=n}deref(){return this.value}},R9=typeof WeakRef<"u"?WeakRef:A9,C9=0,Y1=1;function Qf(){return{s:C9,v:void 0,o:null,p:null}}function kh(n,e={}){let t=Qf();const{resultEqualityCheck:s}=e;let o,l=0;function c(){var _;let d=t;const{length:m}=arguments;for(let b=0,I=m;b<I;b++){const z=arguments[b];if(typeof z=="function"||typeof z=="object"&&z!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const P=j.get(z);P===void 0?(d=Qf(),j.set(z,d)):d=P}else{let j=d.p;j===null&&(d.p=j=new Map);const P=j.get(z);P===void 0?(d=Qf(),j.set(z,d)):d=P}}const g=d;let y;if(d.s===Y1)y=d.v;else if(y=n.apply(null,arguments),l++,s){const b=((_=o==null?void 0:o.deref)==null?void 0:_.call(o))??o;b!=null&&s(b,y)&&(y=b,l!==0&&l--),o=typeof y=="object"&&y!==null||typeof y=="function"?new R9(y):y}return g.s=Y1,g.v=y,y}return c.clearCache=()=>{t=Qf(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function I9(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,s=(...o)=>{let l=0,c=0,d,m={},g=o.pop();typeof g=="object"&&(m=g,g=o.pop()),E9(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);const y={...t,...m},{memoize:_,memoizeOptions:b=[],argsMemoize:I=kh,argsMemoizeOptions:z=[]}=y,j=$1(b),P=$1(z),B=S9(o),q=_(function(){return l++,g.apply(null,arguments)},...j),L=I(function(){c++;const H=w9(B,arguments);return d=q.apply(null,H),d},...P);return Object.assign(L,{resultFunc:g,memoizedResultFunc:q,dependencies:B,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:_,argsMemoize:I})};return Object.assign(s,{withTypes:()=>s}),s}var L0=I9(kh),x9=Object.assign((n,e=L0)=>{b9(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),s=t.map(l=>n[l]);return e(s,(...l)=>l.reduce((c,d,m)=>(c[t[m]]=d,c),{}))},{withTypes:()=>x9});function mS(n){return({dispatch:t,getState:s})=>o=>l=>typeof l=="function"?l(t,s,n):o(l)}var N9=mS(),D9=mS,O9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dh:Dh.apply(null,arguments)},M9=n=>n&&typeof n.match=="function";function hi(n,e){function t(...s){if(e){let o=e(...s);if(!o)throw new Error(di(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:s[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=s=>oS(s)&&s.type===n,t}var pS=class wu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,wu.prototype)}static get[Symbol.species](){return wu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new wu(...e[0].concat(this)):new wu(...e.concat(this))}};function X1(n){return pi(n)?cc(n,()=>{}):n}function Gf(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function k9(n){return typeof n=="boolean"}var P9=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let c=new pS;return t&&(k9(t)?c.push(N9):c.push(D9(t.extraArgument))),c},cd="RTK_autoBatch",gu=()=>n=>({payload:n,meta:{[cd]:!0}}),W1=n=>e=>{setTimeout(e,n)},V9=(n={type:"raf"})=>e=>(...t)=>{const s=e(...t);let o=!0,l=!1,c=!1;const d=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:W1(10):n.type==="callback"?n.queueNotification:W1(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(y=>y()))};return Object.assign({},s,{subscribe(y){const _=()=>o&&y(),b=s.subscribe(_);return d.add(y),()=>{b(),d.delete(y)}},dispatch(y){var _;try{return o=!((_=y==null?void 0:y.meta)!=null&&_[cd]),l=!o,l&&(c||(c=!0,m(g))),s.dispatch(y)}finally{o=!0}}})},L9=n=>function(t){const{autoBatch:s=!0}=t??{};let o=new pS(n);return s&&o.push(V9(typeof s=="object"?s:void 0)),o};function U9(n){const e=P9(),{reducer:t=void 0,middleware:s,devTools:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(Rs(t))d=aS(t);else throw new Error(di(1));let m;typeof s=="function"?m=s(e):m=e();let g=Dh;o&&(g=O9({trace:!1,...typeof o=="object"&&o}));const y=o9(...m),_=L9(y);let b=typeof c=="function"?c(_):_();const I=g(...b);return sS(d,l,I)}function gS(n){const e={},t=[];let s;const o={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(di(28));if(d in e)throw new Error(di(29));return e[d]=c,o},addMatcher(l,c){return t.push({matcher:l,reducer:c}),o},addDefaultCase(l){return s=l,o}};return n(o),[e,t,s]}function j9(n){return typeof n=="function"}function z9(n,e){let[t,s,o]=gS(e),l;if(j9(n))l=()=>X1(n());else{const d=X1(n);l=()=>d}function c(d=l(),m){let g=[t[m.type],...s.filter(({matcher:y})=>y(m)).map(({reducer:y})=>y)];return g.filter(y=>!!y).length===0&&(g=[o]),g.reduce((y,_)=>{if(_)if(qi(y)){const I=_(y,m);return I===void 0?y:I}else{if(pi(y))return cc(y,b=>_(b,m));{const b=_(y,m);if(b===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return y},d)}return c.getInitialState=l,c}var yS=(n,e)=>M9(n)?n.match(e):n(e);function Ar(...n){return e=>n.some(t=>yS(t,e))}function Du(...n){return e=>n.every(t=>yS(t,e))}function fd(n,e){if(!n||!n.meta)return!1;const t=typeof n.meta.requestId=="string",s=e.indexOf(n.meta.requestStatus)>-1;return t&&s}function fc(n){return typeof n[0]=="function"&&"pending"in n[0]&&"fulfilled"in n[0]&&"rejected"in n[0]}function U0(...n){return n.length===0?e=>fd(e,["pending"]):fc(n)?Ar(...n.map(e=>e.pending)):U0()(n[0])}function Wo(...n){return n.length===0?e=>fd(e,["rejected"]):fc(n)?Ar(...n.map(e=>e.rejected)):Wo()(n[0])}function hd(...n){const e=t=>t&&t.meta&&t.meta.rejectedWithValue;return n.length===0?Du(Wo(...n),e):fc(n)?Du(Wo(...n),e):hd()(n[0])}function Cs(...n){return n.length===0?e=>fd(e,["fulfilled"]):fc(n)?Ar(...n.map(e=>e.fulfilled)):Cs()(n[0])}function Ng(...n){return n.length===0?e=>fd(e,["pending","fulfilled","rejected"]):fc(n)?Ar(...n.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):Ng()(n[0])}var B9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",j0=(n=21)=>{let e="",t=n;for(;t--;)e+=B9[Math.random()*64|0];return e},q9=["name","message","stack","code"],Lp=class{constructor(n,e){Uf(this,"_type");this.payload=n,this.meta=e}},Z1=class{constructor(n,e){Uf(this,"_type");this.payload=n,this.meta=e}},H9=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of q9)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},J1="External signal was aborted",eE=(()=>{function n(e,t,s){const o=hi(e+"/fulfilled",(m,g,y,_)=>({payload:m,meta:{..._||{},arg:y,requestId:g,requestStatus:"fulfilled"}})),l=hi(e+"/pending",(m,g,y)=>({payload:void 0,meta:{...y||{},arg:g,requestId:m,requestStatus:"pending"}})),c=hi(e+"/rejected",(m,g,y,_,b)=>({payload:_,error:(s&&s.serializeError||H9)(m||"Rejected"),meta:{...b||{},arg:y,requestId:g,rejectedWithValue:!!_,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function d(m,{signal:g}={}){return(y,_,b)=>{const I=s!=null&&s.idGenerator?s.idGenerator(m):j0(),z=new AbortController;let j,P;function B(L){P=L,z.abort()}g&&(g.aborted?B(J1):g.addEventListener("abort",()=>B(J1),{once:!0}));const q=async function(){var H,G;let L;try{let D=(H=s==null?void 0:s.condition)==null?void 0:H.call(s,m,{getState:_,extra:b});if(Q9(D)&&(D=await D),D===!1||z.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((w,C)=>{j=()=>{C({name:"AbortError",message:P||"Aborted"})},z.signal.addEventListener("abort",j)});y(l(I,m,(G=s==null?void 0:s.getPendingMeta)==null?void 0:G.call(s,{requestId:I,arg:m},{getState:_,extra:b}))),L=await Promise.race([R,Promise.resolve(t(m,{dispatch:y,getState:_,extra:b,requestId:I,signal:z.signal,abort:B,rejectWithValue:(w,C)=>new Lp(w,C),fulfillWithValue:(w,C)=>new Z1(w,C)})).then(w=>{if(w instanceof Lp)throw w;return w instanceof Z1?o(w.payload,I,m,w.meta):o(w,I,m)})])}catch(D){L=D instanceof Lp?c(null,I,m,D.payload,D.meta):c(D,I,m)}finally{j&&z.signal.removeEventListener("abort",j)}return s&&!s.dispatchConditionRejection&&c.match(L)&&L.meta.condition||y(L),L}();return Object.assign(q,{abort:B,requestId:I,arg:m,unwrap(){return q.then(F9)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:o,settled:Ar(c,o),typePrefix:e})}return n.withTypes=()=>n,n})();function F9(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function Q9(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var G9=Symbol.for("rtk-slice-createasyncthunk");function K9(n,e){return`${n}/${e}`}function $9({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[G9];return function(o){const{name:l,reducerPath:c=l}=o;if(!l)throw new Error(di(11));const d=(typeof o.reducers=="function"?o.reducers(X9()):o.reducers)||{},m=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(k,H){const G=typeof k=="string"?k:k.type;if(!G)throw new Error(di(12));if(G in g.sliceCaseReducersByType)throw new Error(di(13));return g.sliceCaseReducersByType[G]=H,y},addMatcher(k,H){return g.sliceMatchers.push({matcher:k,reducer:H}),y},exposeAction(k,H){return g.actionCreators[k]=H,y},exposeCaseReducer(k,H){return g.sliceCaseReducersByName[k]=H,y}};m.forEach(k=>{const H=d[k],G={reducerName:k,type:K9(l,k),createNotation:typeof o.reducers=="function"};Z9(H)?eN(G,H,y,e):W9(G,H,y)});function _(){const[k={},H=[],G=void 0]=typeof o.extraReducers=="function"?gS(o.extraReducers):[o.extraReducers],D={...k,...g.sliceCaseReducersByType};return z9(o.initialState,R=>{for(let w in D)R.addCase(w,D[w]);for(let w of g.sliceMatchers)R.addMatcher(w.matcher,w.reducer);for(let w of H)R.addMatcher(w.matcher,w.reducer);G&&R.addDefaultCase(G)})}const b=k=>k,I=new Map,z=new WeakMap;let j;function P(k,H){return j||(j=_()),j(k,H)}function B(){return j||(j=_()),j.getInitialState()}function q(k,H=!1){function G(R){let w=R[k];return typeof w>"u"&&H&&(w=Gf(z,G,B)),w}function D(R=b){const w=Gf(I,H,()=>new WeakMap);return Gf(w,R,()=>{const C={};for(const[N,M]of Object.entries(o.selectors??{}))C[N]=Y9(M,R,()=>Gf(z,R,B),H);return C})}return{reducerPath:k,getSelectors:D,get selectors(){return D(G)},selectSlice:G}}const L={name:l,reducer:P,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:B,...q(c),injectInto(k,{reducerPath:H,...G}={}){const D=H??c;return k.inject({reducerPath:D,reducer:P},G),{...L,...q(D,!0)}}};return L}}function Y9(n,e,t,s){function o(l,...c){let d=e(l);return typeof d>"u"&&s&&(d=t()),n(d,...c)}return o.unwrapped=n,o}var ya=$9();function X9(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function W9({type:n,reducerName:e,createNotation:t},s,o){let l,c;if("reducer"in s){if(t&&!J9(s))throw new Error(di(17));l=s.reducer,c=s.prepare}else l=s;o.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?hi(n,c):hi(n))}function Z9(n){return n._reducerDefinitionType==="asyncThunk"}function J9(n){return n._reducerDefinitionType==="reducerWithPrepare"}function eN({type:n,reducerName:e},t,s,o){if(!o)throw new Error(di(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:y}=t,_=o(n,l,y);s.exposeAction(e,_),c&&s.addCase(_.fulfilled,c),d&&s.addCase(_.pending,d),m&&s.addCase(_.rejected,m),g&&s.addMatcher(_.settled,g),s.exposeCaseReducer(e,{fulfilled:c||Kf,pending:d||Kf,rejected:m||Kf,settled:g||Kf})}function Kf(){}function di(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var tN=class extends Error{constructor(e){super(e[0].message);Uf(this,"issues");this.name="SchemaError",this.issues=e}},vS=(n=>(n.uninitialized="uninitialized",n.pending="pending",n.fulfilled="fulfilled",n.rejected="rejected",n))(vS||{});function tE(n){return{status:n,isUninitialized:n==="uninitialized",isLoading:n==="pending",isSuccess:n==="fulfilled",isError:n==="rejected"}}var nE=Rs;function _S(n,e){if(n===e||!(nE(n)&&nE(e)||Array.isArray(n)&&Array.isArray(e)))return e;const t=Object.keys(e),s=Object.keys(n);let o=t.length===s.length;const l=Array.isArray(e)?[]:{};for(const c of t)l[c]=_S(n[c],e[c]),o&&(o=n[c]===l[c]);return o?n:l}function Uo(n){let e=0;for(const t in n)e++;return e}var iE=n=>[].concat(...n);function nN(n){return new RegExp("(^|:)//").test(n)}function iN(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Ph(n){return n!=null}function rN(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var sN=n=>n.replace(/\/$/,""),aN=n=>n.replace(/^\//,"");function oN(n,e){if(!n)return e;if(!e)return n;if(nN(e))return e;const t=n.endsWith("/")||!e.startsWith("?")?"/":"";return n=sN(n),e=aN(e),`${n}${t}${e}`}function lN(n,e,t){return n.has(e)?n.get(e):n.set(e,t).get(e)}var rE=(...n)=>fetch(...n),uN=n=>n.status>=200&&n.status<=299,cN=n=>/ion\/(vnd\.api\+)?json/.test(n.get("content-type")||"");function sE(n){if(!Rs(n))return n;const e={...n};for(const[t,s]of Object.entries(e))s===void 0&&delete e[t];return e}function fN({baseUrl:n,prepareHeaders:e=_=>_,fetchFn:t=rE,paramsSerializer:s,isJsonContentType:o=cN,jsonContentType:l="application/json",jsonReplacer:c,timeout:d,responseHandler:m,validateStatus:g,...y}={}){return typeof fetch>"u"&&t===rE&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(b,I,z)=>{const{getState:j,extra:P,endpoint:B,forced:q,type:L}=I;let k,{url:H,headers:G=new Headers(y.headers),params:D=void 0,responseHandler:R=m??"json",validateStatus:w=g??uN,timeout:C=d,...N}=typeof b=="string"?{url:b}:b,M,x=I.signal;C&&(M=new AbortController,I.signal.addEventListener("abort",M.abort),x=M.signal);let Z={...y,signal:x,...N};G=new Headers(sE(G)),Z.headers=await e(G,{getState:j,arg:b,extra:P,endpoint:B,forced:q,type:L,extraOptions:z})||G;const de=le=>typeof le=="object"&&(Rs(le)||Array.isArray(le)||typeof le.toJSON=="function");if(!Z.headers.has("content-type")&&de(Z.body)&&Z.headers.set("content-type",l),de(Z.body)&&o(Z.headers)&&(Z.body=JSON.stringify(Z.body,c)),D){const le=~H.indexOf("?")?"&":"?",ae=s?s(D):new URLSearchParams(sE(D));H+=le+ae}H=oN(n,H);const K=new Request(H,Z);k={request:new Request(H,Z)};let oe,pe=!1,A=M&&setTimeout(()=>{pe=!0,M.abort()},C);try{oe=await t(K)}catch(le){return{error:{status:pe?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(le)},meta:k}}finally{A&&clearTimeout(A),M==null||M.signal.removeEventListener("abort",M.abort)}const V=oe.clone();k.response=V;let ee,te="";try{let le;if(await Promise.all([_(oe,R).then(ae=>ee=ae,ae=>le=ae),V.text().then(ae=>te=ae,()=>{})]),le)throw le}catch(le){return{error:{status:"PARSING_ERROR",originalStatus:oe.status,data:te,error:String(le)},meta:k}}return w(oe,ee)?{data:ee,meta:k}:{error:{status:oe.status,data:ee},meta:k}};async function _(b,I){if(typeof I=="function")return I(b);if(I==="content-type"&&(I=o(b.headers)?"json":"text"),I==="json"){const z=await b.text();return z.length?JSON.parse(z):null}return b.text()}}var aE=class{constructor(n,e=void 0){this.value=n,this.meta=e}},z0=hi("__rtkq/focused"),ES=hi("__rtkq/unfocused"),B0=hi("__rtkq/online"),bS=hi("__rtkq/offline");function dd(n){return n.type==="query"}function hN(n){return n.type==="mutation"}function md(n){return n.type==="infinitequery"}function Vh(n){return dd(n)||md(n)}function q0(n,e,t,s,o,l){return dN(n)?n(e,t,s,o).filter(Ph).map(Dg).map(l):Array.isArray(n)?n.map(Dg).map(l):[]}function dN(n){return typeof n=="function"}function Dg(n){return typeof n=="string"?{type:n}:n}function mN(n,e){return n.catch(e)}var $u=Symbol("forceQueryFn"),Og=n=>typeof n[$u]=="function";function pN({serializeQueryArgs:n,queryThunk:e,infiniteQueryThunk:t,mutationThunk:s,api:o,context:l}){const c=new Map,d=new Map,{unsubscribeQueryResult:m,removeMutationResult:g,updateSubscriptionOptions:y}=o.internalActions;return{buildInitiateQuery:P,buildInitiateInfiniteQuery:B,buildInitiateMutation:q,getRunningQueryThunk:_,getRunningMutationThunk:b,getRunningQueriesThunk:I,getRunningMutationsThunk:z};function _(L,k){return H=>{var R;const G=l.endpointDefinitions[L],D=n({queryArgs:k,endpointDefinition:G,endpointName:L});return(R=c.get(H))==null?void 0:R[D]}}function b(L,k){return H=>{var G;return(G=d.get(H))==null?void 0:G[k]}}function I(){return L=>Object.values(c.get(L)||{}).filter(Ph)}function z(){return L=>Object.values(d.get(L)||{}).filter(Ph)}function j(L,k){const H=(G,{subscribe:D=!0,forceRefetch:R,subscriptionOptions:w,[$u]:C,...N}={})=>(M,x)=>{var me;const Z=n({queryArgs:G,endpointDefinition:k,endpointName:L});let de;const K={...N,type:"query",subscribe:D,forceRefetch:R,subscriptionOptions:w,endpointName:L,originalArgs:G,queryCacheKey:Z,[$u]:C};if(dd(k))de=e(K);else{const{direction:ge,initialPageParam:_e}=N;de=t({...K,direction:ge,initialPageParam:_e})}const ie=o.endpoints[L].select(G),oe=M(de),pe=ie(x()),{requestId:A,abort:V}=oe,ee=pe.requestId!==A,te=(me=c.get(M))==null?void 0:me[Z],le=()=>ie(x()),ae=Object.assign(C?oe.then(le):ee&&!te?Promise.resolve(pe):Promise.all([te,oe]).then(le),{arg:G,requestId:A,subscriptionOptions:w,queryCacheKey:Z,abort:V,async unwrap(){const ge=await ae;if(ge.isError)throw ge.error;return ge.data},refetch:()=>M(H(G,{subscribe:!1,forceRefetch:!0})),unsubscribe(){D&&M(m({queryCacheKey:Z,requestId:A}))},updateSubscriptionOptions(ge){ae.subscriptionOptions=ge,M(y({endpointName:L,requestId:A,queryCacheKey:Z,options:ge}))}});if(!te&&!ee&&!C){const ge=lN(c,M,{});ge[Z]=ae,ae.then(()=>{delete ge[Z],Uo(ge)||c.delete(M)})}return ae};return H}function P(L,k){return j(L,k)}function B(L,k){return j(L,k)}function q(L){return(k,{track:H=!0,fixedCacheKey:G}={})=>(D,R)=>{const w=s({type:"mutation",endpointName:L,originalArgs:k,track:H,fixedCacheKey:G}),C=D(w),{requestId:N,abort:M,unwrap:x}=C,Z=mN(C.unwrap().then(oe=>({data:oe})),oe=>({error:oe})),de=()=>{D(g({requestId:N,fixedCacheKey:G}))},K=Object.assign(Z,{arg:C.arg,requestId:N,abort:M,unwrap:x,reset:de}),ie=d.get(D)||{};return d.set(D,ie),ie[N]=K,K.then(()=>{delete ie[N],Uo(ie)||d.delete(D)}),G&&(ie[G]=K,K.then(()=>{ie[G]===K&&(delete ie[G],Uo(ie)||d.delete(D))})),K}}}var TS=class extends tN{constructor(n,e,t,s){super(n),this.value=e,this.schemaName=t,this._bqMeta=s}};async function ma(n,e,t,s){const o=await n["~standard"].validate(e);if(o.issues)throw new TS(o.issues,e,t,s);return o.value}function gN(n){return n}var yu=(n={})=>({...n,[cd]:!0});function yN({reducerPath:n,baseQuery:e,context:{endpointDefinitions:t},serializeQueryArgs:s,api:o,assertTagType:l,selectors:c,onSchemaFailure:d,catchSchemaFailure:m,skipSchemaValidation:g}){const y=(N,M,x,Z)=>(de,K)=>{const ie=t[N],oe=s({queryArgs:M,endpointDefinition:ie,endpointName:N});if(de(o.internalActions.queryResultPatched({queryCacheKey:oe,patches:x})),!Z)return;const pe=o.endpoints[N].select(M)(K()),A=q0(ie.providesTags,pe.data,void 0,M,{},l);de(o.internalActions.updateProvidedBy([{queryCacheKey:oe,providedTags:A}]))};function _(N,M,x=0){const Z=[M,...N];return x&&Z.length>x?Z.slice(0,-1):Z}function b(N,M,x=0){const Z=[...N,M];return x&&Z.length>x?Z.slice(1):Z}const I=(N,M,x,Z=!0)=>(de,K)=>{const oe=o.endpoints[N].select(M)(K()),pe={patches:[],inversePatches:[],undo:()=>de(o.util.patchQueryData(N,M,pe.inversePatches,Z))};if(oe.status==="uninitialized")return pe;let A;if("data"in oe)if(pi(oe.data)){const[V,ee,te]=dS(oe.data,x);pe.patches.push(...ee),pe.inversePatches.push(...te),A=V}else A=x(oe.data),pe.patches.push({op:"replace",path:[],value:A}),pe.inversePatches.push({op:"replace",path:[],value:oe.data});return pe.patches.length===0||de(o.util.patchQueryData(N,M,pe.patches,Z)),pe},z=(N,M,x)=>Z=>Z(o.endpoints[N].initiate(M,{subscribe:!1,forceRefetch:!0,[$u]:()=>({data:x})})),j=(N,M)=>N.query&&N[M]?N[M]:gN,P=async(N,{signal:M,abort:x,rejectWithValue:Z,fulfillWithValue:de,dispatch:K,getState:ie,extra:oe})=>{var ee,te;const pe=t[N.endpointName],{metaSchema:A,skipSchemaValidation:V=g}=pe;try{let le=j(pe,"transformResponse");const ae={signal:M,abort:x,dispatch:K,getState:ie,extra:oe,endpoint:N.endpointName,type:N.type,forced:N.type==="query"?B(N,ie()):void 0,queryCacheKey:N.type==="query"?N.queryCacheKey:void 0},me=N.type==="query"?N[$u]:void 0;let ge;const _e=async(we,Te,ke,We)=>{if(Te==null&&we.pages.length)return Promise.resolve({data:we});const Ae={queryArg:N.originalArgs,pageParam:Te},ut=await Me(Ae),ct=We?_:b;return{data:{pages:ct(we.pages,ut.data,ke),pageParams:ct(we.pageParams,Te,ke)},meta:ut.meta}};async function Me(we){let Te;const{extraOptions:ke,argSchema:We,rawResponseSchema:Ae,responseSchema:ut}=pe;if(We&&!V&&(we=await ma(We,we,"argSchema",{})),me?Te=me():pe.query?Te=await e(pe.query(we),ae,ke):Te=await pe.queryFn(we,ae,ke,kt=>e(kt,ae,ke)),typeof process<"u",Te.error)throw new aE(Te.error,Te.meta);let{data:ct}=Te;Ae&&!V&&(ct=await ma(Ae,Te.data,"rawResponseSchema",Te.meta));let Xe=await le(ct,Te.meta,we);return ut&&!V&&(Xe=await ma(ut,Xe,"responseSchema",Te.meta)),{...Te,data:Xe}}if(N.type==="query"&&"infiniteQueryOptions"in pe){const{infiniteQueryOptions:we}=pe,{maxPages:Te=1/0}=we;let ke;const We={pages:[],pageParams:[]},Ae=(ee=c.selectQueryEntry(ie(),N.queryCacheKey))==null?void 0:ee.data,ct=B(N,ie())&&!N.direction||!Ae?We:Ae;if("direction"in N&&N.direction&&ct.pages.length){const Xe=N.direction==="backward",Zt=(Xe?SS:Mg)(we,ct,N.originalArgs);ke=await _e(ct,Zt,Te,Xe)}else{const{initialPageParam:Xe=we.initialPageParam}=N,kt=(Ae==null?void 0:Ae.pageParams)??[],Zt=kt[0]??Xe,Pt=kt.length;ke=await _e(ct,Zt,Te),me&&(ke={data:ke.data.pages[0]});for(let Hn=1;Hn<Pt;Hn++){const ks=Mg(we,ke.data,N.originalArgs);ke=await _e(ke.data,ks,Te)}}ge=ke}else ge=await Me(N.originalArgs);return A&&!V&&ge.meta&&(ge.meta=await ma(A,ge.meta,"metaSchema",ge.meta)),de(ge.data,yu({fulfilledTimeStamp:Date.now(),baseQueryMeta:ge.meta}))}catch(le){let ae=le;if(ae instanceof aE){let me=j(pe,"transformErrorResponse");const{rawErrorResponseSchema:ge,errorResponseSchema:_e}=pe;let{value:Me,meta:we}=ae;try{ge&&!V&&(Me=await ma(ge,Me,"rawErrorResponseSchema",we)),A&&!V&&(we=await ma(A,we,"metaSchema",we));let Te=await me(Me,we,N.originalArgs);return _e&&!V&&(Te=await ma(_e,Te,"errorResponseSchema",we)),Z(Te,yu({baseQueryMeta:we}))}catch(Te){ae=Te}}try{if(ae instanceof TS){const me={endpoint:N.endpointName,arg:N.originalArgs,type:N.type,queryCacheKey:N.type==="query"?N.queryCacheKey:void 0};(te=pe.onSchemaFailure)==null||te.call(pe,ae,me),d==null||d(ae,me);const{catchSchemaFailure:ge=m}=pe;if(ge)return Z(ge(ae,me),yu({baseQueryMeta:ae._bqMeta}))}}catch(me){ae=me}throw console.error(ae),ae}};function B(N,M){const x=c.selectQueryEntry(M,N.queryCacheKey),Z=c.selectConfig(M).refetchOnMountOrArgChange,de=x==null?void 0:x.fulfilledTimeStamp,K=N.forceRefetch??(N.subscribe&&Z);return K?K===!0||(Number(new Date)-Number(de))/1e3>=K:!1}const q=()=>eE(`${n}/executeQuery`,P,{getPendingMeta({arg:M}){const x=t[M.endpointName];return yu({startedTimeStamp:Date.now(),...md(x)?{direction:M.direction}:{}})},condition(M,{getState:x}){var V;const Z=x(),de=c.selectQueryEntry(Z,M.queryCacheKey),K=de==null?void 0:de.fulfilledTimeStamp,ie=M.originalArgs,oe=de==null?void 0:de.originalArgs,pe=t[M.endpointName],A=M.direction;return Og(M)?!0:(de==null?void 0:de.status)==="pending"?!1:B(M,Z)||dd(pe)&&((V=pe==null?void 0:pe.forceRefetch)!=null&&V.call(pe,{currentArg:ie,previousArg:oe,endpointState:de,state:Z}))?!0:!(K&&!A)},dispatchConditionRejection:!0}),L=q(),k=q(),H=eE(`${n}/executeMutation`,P,{getPendingMeta(){return yu({startedTimeStamp:Date.now()})}}),G=N=>"force"in N,D=N=>"ifOlderThan"in N,R=(N,M,x)=>(Z,de)=>{const K=G(x)&&x.force,ie=D(x)&&x.ifOlderThan,oe=(A=!0)=>{const V={forceRefetch:A,isPrefetch:!0};return o.endpoints[N].initiate(M,V)},pe=o.endpoints[N].select(M)(de());if(K)Z(oe());else if(ie){const A=pe==null?void 0:pe.fulfilledTimeStamp;if(!A){Z(oe());return}(Number(new Date)-Number(new Date(A)))/1e3>=ie&&Z(oe())}else Z(oe(!1))};function w(N){return M=>{var x,Z;return((Z=(x=M==null?void 0:M.meta)==null?void 0:x.arg)==null?void 0:Z.endpointName)===N}}function C(N,M){return{matchPending:Du(U0(N),w(M)),matchFulfilled:Du(Cs(N),w(M)),matchRejected:Du(Wo(N),w(M))}}return{queryThunk:L,mutationThunk:H,infiniteQueryThunk:k,prefetch:R,updateQueryData:I,upsertQueryData:z,patchQueryData:y,buildMatchThunkActions:C}}function Mg(n,{pages:e,pageParams:t},s){const o=e.length-1;return n.getNextPageParam(e[o],e,t[o],t,s)}function SS(n,{pages:e,pageParams:t},s){var o;return(o=n.getPreviousPageParam)==null?void 0:o.call(n,e[0],e,t[0],t,s)}function wS(n,e,t,s){return q0(t[n.meta.arg.endpointName][e],Cs(n)?n.payload:void 0,hd(n)?n.payload:void 0,n.meta.arg.originalArgs,"baseQueryMeta"in n.meta?n.meta.baseQueryMeta:void 0,s)}function $f(n,e,t){const s=n[e];s&&t(s)}function Yu(n){return("arg"in n?n.arg.fixedCacheKey:n.fixedCacheKey)??n.requestId}function oE(n,e,t){const s=n[Yu(e)];s&&t(s)}var Yf={};function vN({reducerPath:n,queryThunk:e,mutationThunk:t,serializeQueryArgs:s,context:{endpointDefinitions:o,apiUid:l,extractRehydrationInfo:c,hasRehydrationInfo:d},assertTagType:m,config:g}){const y=hi(`${n}/resetApiState`);function _(w,C,N,M){var x;w[x=C.queryCacheKey]??(w[x]={status:"uninitialized",endpointName:C.endpointName}),$f(w,C.queryCacheKey,Z=>{Z.status="pending",Z.requestId=N&&Z.requestId?Z.requestId:M.requestId,C.originalArgs!==void 0&&(Z.originalArgs=C.originalArgs),Z.startedTimeStamp=M.startedTimeStamp;const de=o[M.arg.endpointName];md(de)&&"direction"in C&&(Z.direction=C.direction)})}function b(w,C,N,M){$f(w,C.arg.queryCacheKey,x=>{if(x.requestId!==C.requestId&&!M)return;const{merge:Z}=o[C.arg.endpointName];if(x.status="fulfilled",Z)if(x.data!==void 0){const{fulfilledTimeStamp:de,arg:K,baseQueryMeta:ie,requestId:oe}=C;let pe=cc(x.data,A=>Z(A,N,{arg:K.originalArgs,baseQueryMeta:ie,fulfilledTimeStamp:de,requestId:oe}));x.data=pe}else x.data=N;else x.data=o[C.arg.endpointName].structuralSharing??!0?_S(qi(x.data)?u9(x.data):x.data,N):N;delete x.error,x.fulfilledTimeStamp=C.fulfilledTimeStamp})}const I=ya({name:`${n}/queries`,initialState:Yf,reducers:{removeQueryResult:{reducer(w,{payload:{queryCacheKey:C}}){delete w[C]},prepare:gu()},cacheEntriesUpserted:{reducer(w,C){for(const N of C.payload){const{queryDescription:M,value:x}=N;_(w,M,!0,{arg:M,requestId:C.meta.requestId,startedTimeStamp:C.meta.timestamp}),b(w,{arg:M,requestId:C.meta.requestId,fulfilledTimeStamp:C.meta.timestamp,baseQueryMeta:{}},x,!0)}},prepare:w=>({payload:w.map(M=>{const{endpointName:x,arg:Z,value:de}=M,K=o[x];return{queryDescription:{type:"query",endpointName:x,originalArgs:M.arg,queryCacheKey:s({queryArgs:Z,endpointDefinition:K,endpointName:x})},value:de}}),meta:{[cd]:!0,requestId:j0(),timestamp:Date.now()}})},queryResultPatched:{reducer(w,{payload:{queryCacheKey:C,patches:N}}){$f(w,C,M=>{M.data=K1(M.data,N.concat())})},prepare:gu()}},extraReducers(w){w.addCase(e.pending,(C,{meta:N,meta:{arg:M}})=>{const x=Og(M);_(C,M,x,N)}).addCase(e.fulfilled,(C,{meta:N,payload:M})=>{const x=Og(N.arg);b(C,N,M,x)}).addCase(e.rejected,(C,{meta:{condition:N,arg:M,requestId:x},error:Z,payload:de})=>{$f(C,M.queryCacheKey,K=>{if(!N){if(K.requestId!==x)return;K.status="rejected",K.error=de??Z}})}).addMatcher(d,(C,N)=>{const{queries:M}=c(N);for(const[x,Z]of Object.entries(M))((Z==null?void 0:Z.status)==="fulfilled"||(Z==null?void 0:Z.status)==="rejected")&&(C[x]=Z)})}}),z=ya({name:`${n}/mutations`,initialState:Yf,reducers:{removeMutationResult:{reducer(w,{payload:C}){const N=Yu(C);N in w&&delete w[N]},prepare:gu()}},extraReducers(w){w.addCase(t.pending,(C,{meta:N,meta:{requestId:M,arg:x,startedTimeStamp:Z}})=>{x.track&&(C[Yu(N)]={requestId:M,status:"pending",endpointName:x.endpointName,startedTimeStamp:Z})}).addCase(t.fulfilled,(C,{payload:N,meta:M})=>{M.arg.track&&oE(C,M,x=>{x.requestId===M.requestId&&(x.status="fulfilled",x.data=N,x.fulfilledTimeStamp=M.fulfilledTimeStamp)})}).addCase(t.rejected,(C,{payload:N,error:M,meta:x})=>{x.arg.track&&oE(C,x,Z=>{Z.requestId===x.requestId&&(Z.status="rejected",Z.error=N??M)})}).addMatcher(d,(C,N)=>{const{mutations:M}=c(N);for(const[x,Z]of Object.entries(M))((Z==null?void 0:Z.status)==="fulfilled"||(Z==null?void 0:Z.status)==="rejected")&&x!==(Z==null?void 0:Z.requestId)&&(C[x]=Z)})}}),j={tags:{},keys:{}},P=ya({name:`${n}/invalidation`,initialState:j,reducers:{updateProvidedBy:{reducer(w,C){var N,M,x;for(const{queryCacheKey:Z,providedTags:de}of C.payload){B(w,Z);for(const{type:K,id:ie}of de){const oe=(M=(N=w.tags)[K]??(N[K]={}))[x=ie||"__internal_without_id"]??(M[x]=[]);oe.includes(Z)||oe.push(Z)}w.keys[Z]=de}},prepare:gu()}},extraReducers(w){w.addCase(I.actions.removeQueryResult,(C,{payload:{queryCacheKey:N}})=>{B(C,N)}).addMatcher(d,(C,N)=>{var x,Z,de;const{provided:M}=c(N);for(const[K,ie]of Object.entries(M))for(const[oe,pe]of Object.entries(ie)){const A=(Z=(x=C.tags)[K]??(x[K]={}))[de=oe||"__internal_without_id"]??(Z[de]=[]);for(const V of pe)A.includes(V)||A.push(V)}}).addMatcher(Ar(Cs(e),hd(e)),(C,N)=>{q(C,[N])}).addMatcher(I.actions.cacheEntriesUpserted.match,(C,N)=>{const M=N.payload.map(({queryDescription:x,value:Z})=>({type:"UNKNOWN",payload:Z,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:x}}));q(C,M)})}});function B(w,C){var M;const N=w.keys[C]??[];for(const x of N){const Z=x.type,de=x.id??"__internal_without_id",K=(M=w.tags[Z])==null?void 0:M[de];K&&(w.tags[Z][de]=K.filter(ie=>ie!==C))}delete w.keys[C]}function q(w,C){const N=C.map(M=>{const x=wS(M,"providesTags",o,m),{queryCacheKey:Z}=M.meta.arg;return{queryCacheKey:Z,providedTags:x}});P.caseReducers.updateProvidedBy(w,P.actions.updateProvidedBy(N))}const L=ya({name:`${n}/subscriptions`,initialState:Yf,reducers:{updateSubscriptionOptions(w,C){},unsubscribeQueryResult(w,C){},internal_getRTKQSubscriptions(){}}}),k=ya({name:`${n}/internalSubscriptions`,initialState:Yf,reducers:{subscriptionsUpdated:{reducer(w,C){return K1(w,C.payload)},prepare:gu()}}}),H=ya({name:`${n}/config`,initialState:{online:rN(),focused:iN(),middlewareRegistered:!1,...g},reducers:{middlewareRegistered(w,{payload:C}){w.middlewareRegistered=w.middlewareRegistered==="conflict"||l!==C?"conflict":!0}},extraReducers:w=>{w.addCase(B0,C=>{C.online=!0}).addCase(bS,C=>{C.online=!1}).addCase(z0,C=>{C.focused=!0}).addCase(ES,C=>{C.focused=!1}).addMatcher(d,C=>({...C}))}}),G=aS({queries:I.reducer,mutations:z.reducer,provided:P.reducer,subscriptions:k.reducer,config:H.reducer}),D=(w,C)=>G(y.match(C)?void 0:w,C),R={...H.actions,...I.actions,...L.actions,...k.actions,...z.actions,...P.actions,resetApiState:y};return{reducer:D,actions:R}}var ci=Symbol.for("RTKQ/skipToken"),AS={status:"uninitialized"},lE=cc(AS,()=>{}),uE=cc(AS,()=>{});function _N({serializeQueryArgs:n,reducerPath:e,createSelector:t}){const s=L=>lE,o=L=>uE;return{buildQuerySelector:b,buildInfiniteQuerySelector:I,buildMutationSelector:z,selectInvalidatedBy:j,selectCachedArgsForQuery:P,selectApiState:c,selectQueries:d,selectMutations:g,selectQueryEntry:m,selectConfig:y};function l(L){return{...L,...tE(L.status)}}function c(L){return L[e]}function d(L){var k;return(k=c(L))==null?void 0:k.queries}function m(L,k){var H;return(H=d(L))==null?void 0:H[k]}function g(L){var k;return(k=c(L))==null?void 0:k.mutations}function y(L){var k;return(k=c(L))==null?void 0:k.config}function _(L,k,H){return G=>{if(G===ci)return t(s,H);const D=n({queryArgs:G,endpointDefinition:k,endpointName:L});return t(w=>m(w,D)??lE,H)}}function b(L,k){return _(L,k,l)}function I(L,k){const{infiniteQueryOptions:H}=k;function G(D){const R={...D,...tE(D.status)},{isLoading:w,isError:C,direction:N}=R,M=N==="forward",x=N==="backward";return{...R,hasNextPage:B(H,R.data,R.originalArgs),hasPreviousPage:q(H,R.data,R.originalArgs),isFetchingNextPage:w&&M,isFetchingPreviousPage:w&&x,isFetchNextPageError:C&&M,isFetchPreviousPageError:C&&x}}return _(L,k,G)}function z(){return L=>{let k;return typeof L=="object"?k=Yu(L)??ci:k=L,t(k===ci?o:D=>{var R,w;return((w=(R=c(D))==null?void 0:R.mutations)==null?void 0:w[k])??uE},l)}}function j(L,k){const H=L[e],G=new Set;for(const D of k.filter(Ph).map(Dg)){const R=H.provided.tags[D.type];if(!R)continue;let w=(D.id!==void 0?R[D.id]:iE(Object.values(R)))??[];for(const C of w)G.add(C)}return iE(Array.from(G.values()).map(D=>{const R=H.queries[D];return R?[{queryCacheKey:D,endpointName:R.endpointName,originalArgs:R.originalArgs}]:[]}))}function P(L,k){return Object.values(d(L)).filter(H=>(H==null?void 0:H.endpointName)===k&&H.status!=="uninitialized").map(H=>H.originalArgs)}function B(L,k,H){return k?Mg(L,k,H)!=null:!1}function q(L,k,H){return!k||!L.getPreviousPageParam?!1:SS(L,k,H)!=null}}var Co=WeakMap?new WeakMap:void 0,Lh=({endpointName:n,queryArgs:e})=>{let t="";const s=Co==null?void 0:Co.get(e);if(typeof s=="string")t=s;else{const o=JSON.stringify(e,(l,c)=>(c=typeof c=="bigint"?{$bigint:c.toString()}:c,c=Rs(c)?Object.keys(c).sort().reduce((d,m)=>(d[m]=c[m],d),{}):c,c));Rs(e)&&(Co==null||Co.set(e,o)),t=o}return`${n}(${t})`};function RS(...n){return function(t){const s=kh(g=>{var y;return(y=t.extractRehydrationInfo)==null?void 0:y.call(t,g,{reducerPath:t.reducerPath??"api"})}),o={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:s,serializeQueryArgs(g){let y=Lh;if("serializeQueryArgs"in g.endpointDefinition){const _=g.endpointDefinition.serializeQueryArgs;y=b=>{const I=_(b);return typeof I=="string"?I:Lh({...b,queryArgs:I})}}else t.serializeQueryArgs&&(y=t.serializeQueryArgs);return y(g)},tagTypes:[...t.tagTypes||[]]},l={endpointDefinitions:{},batch(g){g()},apiUid:j0(),extractRehydrationInfo:s,hasRehydrationInfo:kh(g=>s(g)!=null)},c={injectEndpoints:m,enhanceEndpoints({addTagTypes:g,endpoints:y}){if(g)for(const _ of g)o.tagTypes.includes(_)||o.tagTypes.push(_);if(y)for(const[_,b]of Object.entries(y))typeof b=="function"?b(l.endpointDefinitions[_]):Object.assign(l.endpointDefinitions[_]||{},b);return c}},d=n.map(g=>g.init(c,o,l));function m(g){const y=g.endpoints({query:_=>({..._,type:"query"}),mutation:_=>({..._,type:"mutation"}),infiniteQuery:_=>({..._,type:"infinitequery"})});for(const[_,b]of Object.entries(y)){if(g.overrideExisting!==!0&&_ in l.endpointDefinitions){if(g.overrideExisting==="throw")throw new Error(di(39));continue}l.endpointDefinitions[_]=b;for(const I of d)I.injectEndpoint(_,b)}return c}return c.injectEndpoints({endpoints:t.endpoints})}}function gr(n,...e){return Object.assign(n,...e)}var EN=({api:n,queryThunk:e,internalState:t})=>{const s=`${n.reducerPath}/subscriptions`;let o=null,l=null;const{updateSubscriptionOptions:c,unsubscribeQueryResult:d}=n.internalActions,m=(I,z)=>{var P,B,q;if(c.match(z)){const{queryCacheKey:L,requestId:k,options:H}=z.payload;return(P=I==null?void 0:I[L])!=null&&P[k]&&(I[L][k]=H),!0}if(d.match(z)){const{queryCacheKey:L,requestId:k}=z.payload;return I[L]&&delete I[L][k],!0}if(n.internalActions.removeQueryResult.match(z))return delete I[z.payload.queryCacheKey],!0;if(e.pending.match(z)){const{meta:{arg:L,requestId:k}}=z,H=I[B=L.queryCacheKey]??(I[B]={});return H[`${k}_running`]={},L.subscribe&&(H[k]=L.subscriptionOptions??H[k]??{}),!0}let j=!1;if(e.fulfilled.match(z)||e.rejected.match(z)){const L=I[z.meta.arg.queryCacheKey]||{},k=`${z.meta.requestId}_running`;j||(j=!!L[k]),delete L[k]}if(e.rejected.match(z)){const{meta:{condition:L,arg:k,requestId:H}}=z;if(L&&k.subscribe){const G=I[q=k.queryCacheKey]??(I[q]={});G[H]=k.subscriptionOptions??G[H]??{},j=!0}}return j},g=()=>t.currentSubscriptions,b={getSubscriptions:g,getSubscriptionCount:I=>{const j=g()[I]??{};return Uo(j)},isRequestSubscribed:(I,z)=>{var P;const j=g();return!!((P=j==null?void 0:j[I])!=null&&P[z])}};return(I,z)=>{if(o||(o=JSON.parse(JSON.stringify(t.currentSubscriptions))),n.util.resetApiState.match(I))return o=t.currentSubscriptions={},l=null,[!0,!1];if(n.internalActions.internal_getRTKQSubscriptions.match(I))return[!1,b];const j=m(t.currentSubscriptions,I);let P=!0;if(j){l||(l=setTimeout(()=>{const L=JSON.parse(JSON.stringify(t.currentSubscriptions)),[,k]=dS(o,()=>L);z.next(n.internalActions.subscriptionsUpdated(k)),o=L,l=null},500));const B=typeof I.type=="string"&&!!I.type.startsWith(s),q=e.rejected.match(I)&&I.meta.condition&&!!I.meta.arg.subscribe;P=!B&&!q}return[P,!1]}};function bN(n){for(const e in n)return!1;return!0}var TN=2147483647/1e3-1,SN=({reducerPath:n,api:e,queryThunk:t,context:s,internalState:o,selectors:{selectQueryEntry:l,selectConfig:c}})=>{const{removeQueryResult:d,unsubscribeQueryResult:m,cacheEntriesUpserted:g}=e.internalActions,y=Ar(m.match,t.fulfilled,t.rejected,g.match);function _(P){const B=o.currentSubscriptions[P];return!!B&&!bN(B)}const b={},I=(P,B,q)=>{const L=B.getState(),k=c(L);if(y(P)){let H;if(g.match(P))H=P.payload.map(G=>G.queryDescription.queryCacheKey);else{const{queryCacheKey:G}=m.match(P)?P.payload:P.meta.arg;H=[G]}z(H,B,k)}if(e.util.resetApiState.match(P))for(const[H,G]of Object.entries(b))G&&clearTimeout(G),delete b[H];if(s.hasRehydrationInfo(P)){const{queries:H}=s.extractRehydrationInfo(P);z(Object.keys(H),B,k)}};function z(P,B,q){const L=B.getState();for(const k of P){const H=l(L,k);j(k,H==null?void 0:H.endpointName,B,q)}}function j(P,B,q,L){const k=s.endpointDefinitions[B],H=(k==null?void 0:k.keepUnusedDataFor)??L.keepUnusedDataFor;if(H===1/0)return;const G=Math.max(0,Math.min(H,TN));if(!_(P)){const D=b[P];D&&clearTimeout(D),b[P]=setTimeout(()=>{_(P)||q.dispatch(d({queryCacheKey:P})),delete b[P]},G*1e3)}}return I},cE=new Error("Promise never resolved before cacheEntryRemoved."),wN=({api:n,reducerPath:e,context:t,queryThunk:s,mutationThunk:o,internalState:l,selectors:{selectQueryEntry:c,selectApiState:d}})=>{const m=Ng(s),g=Ng(o),y=Cs(s,o),_={};function b(B,q,L){const k=_[B];k!=null&&k.valueResolved&&(k.valueResolved({data:q,meta:L}),delete k.valueResolved)}function I(B){const q=_[B];q&&(delete _[B],q.cacheEntryRemoved())}const z=(B,q,L)=>{const k=j(B);function H(G,D,R,w){const C=c(L,D),N=c(q.getState(),D);!C&&N&&P(G,w,D,q,R)}if(s.pending.match(B))H(B.meta.arg.endpointName,k,B.meta.requestId,B.meta.arg.originalArgs);else if(n.internalActions.cacheEntriesUpserted.match(B))for(const{queryDescription:G,value:D}of B.payload){const{endpointName:R,originalArgs:w,queryCacheKey:C}=G;H(R,C,B.meta.requestId,w),b(C,D,{})}else if(o.pending.match(B))q.getState()[e].mutations[k]&&P(B.meta.arg.endpointName,B.meta.arg.originalArgs,k,q,B.meta.requestId);else if(y(B))b(k,B.payload,B.meta.baseQueryMeta);else if(n.internalActions.removeQueryResult.match(B)||n.internalActions.removeMutationResult.match(B))I(k);else if(n.util.resetApiState.match(B))for(const G of Object.keys(_))I(G)};function j(B){return m(B)?B.meta.arg.queryCacheKey:g(B)?B.meta.arg.fixedCacheKey??B.meta.requestId:n.internalActions.removeQueryResult.match(B)?B.payload.queryCacheKey:n.internalActions.removeMutationResult.match(B)?Yu(B.payload):""}function P(B,q,L,k,H){const G=t.endpointDefinitions[B],D=G==null?void 0:G.onCacheEntryAdded;if(!D)return;const R={},w=new Promise(de=>{R.cacheEntryRemoved=de}),C=Promise.race([new Promise(de=>{R.valueResolved=de}),w.then(()=>{throw cE})]);C.catch(()=>{}),_[L]=R;const N=n.endpoints[B].select(Vh(G)?q:L),M=k.dispatch((de,K,ie)=>ie),x={...k,getCacheEntry:()=>N(k.getState()),requestId:H,extra:M,updateCachedData:Vh(G)?de=>k.dispatch(n.util.updateQueryData(B,q,de)):void 0,cacheDataLoaded:C,cacheEntryRemoved:w},Z=D(q,x);Promise.resolve(Z).catch(de=>{if(de!==cE)throw de})}return z},AN=({api:n,context:{apiUid:e},reducerPath:t})=>(s,o)=>{n.util.resetApiState.match(s)&&o.dispatch(n.internalActions.middlewareRegistered(e))},RN=({reducerPath:n,context:e,context:{endpointDefinitions:t},mutationThunk:s,queryThunk:o,api:l,assertTagType:c,refetchQuery:d,internalState:m})=>{const{removeQueryResult:g}=l.internalActions,y=Ar(Cs(s),hd(s)),_=Ar(Cs(s,o),Wo(s,o));let b=[];const I=(P,B)=>{y(P)?j(wS(P,"invalidatesTags",t,c),B):_(P)?j([],B):l.util.invalidateTags.match(P)&&j(q0(P.payload,void 0,void 0,void 0,void 0,c),B)};function z(P){var L;const{queries:B,mutations:q}=P;for(const k of[B,q])for(const H in k)if(((L=k[H])==null?void 0:L.status)==="pending")return!0;return!1}function j(P,B){const q=B.getState(),L=q[n];if(b.push(...P),L.config.invalidationBehavior==="delayed"&&z(L))return;const k=b;if(b=[],k.length===0)return;const H=l.util.selectInvalidatedBy(q,k);e.batch(()=>{const G=Array.from(H.values());for(const{queryCacheKey:D}of G){const R=L.queries[D],w=m.currentSubscriptions[D]??{};R&&(Uo(w)===0?B.dispatch(g({queryCacheKey:D})):R.status!=="uninitialized"&&B.dispatch(d(R)))}})}return I},CN=({reducerPath:n,queryThunk:e,api:t,refetchQuery:s,internalState:o})=>{const l={},c=(b,I)=>{(t.internalActions.updateSubscriptionOptions.match(b)||t.internalActions.unsubscribeQueryResult.match(b))&&m(b.payload,I),(e.pending.match(b)||e.rejected.match(b)&&b.meta.condition)&&m(b.meta.arg,I),(e.fulfilled.match(b)||e.rejected.match(b)&&!b.meta.condition)&&d(b.meta.arg,I),t.util.resetApiState.match(b)&&y()};function d({queryCacheKey:b},I){const z=I.getState()[n],j=z.queries[b],P=o.currentSubscriptions[b];if(!j||j.status==="uninitialized")return;const{lowestPollingInterval:B,skipPollingIfUnfocused:q}=_(P);if(!Number.isFinite(B))return;const L=l[b];L!=null&&L.timeout&&(clearTimeout(L.timeout),L.timeout=void 0);const k=Date.now()+B;l[b]={nextPollTimestamp:k,pollingInterval:B,timeout:setTimeout(()=>{(z.config.focused||!q)&&I.dispatch(s(j)),d({queryCacheKey:b},I)},B)}}function m({queryCacheKey:b},I){const j=I.getState()[n].queries[b],P=o.currentSubscriptions[b];if(!j||j.status==="uninitialized")return;const{lowestPollingInterval:B}=_(P);if(!Number.isFinite(B)){g(b);return}const q=l[b],L=Date.now()+B;(!q||L<q.nextPollTimestamp)&&d({queryCacheKey:b},I)}function g(b){const I=l[b];I!=null&&I.timeout&&clearTimeout(I.timeout),delete l[b]}function y(){for(const b of Object.keys(l))g(b)}function _(b={}){let I=!1,z=Number.POSITIVE_INFINITY;for(let j in b)b[j].pollingInterval&&(z=Math.min(b[j].pollingInterval,z),I=b[j].skipPollingIfUnfocused||I);return{lowestPollingInterval:z,skipPollingIfUnfocused:I}}return c},IN=({api:n,context:e,queryThunk:t,mutationThunk:s})=>{const o=U0(t,s),l=Wo(t,s),c=Cs(t,s),d={};return(g,y)=>{var _,b;if(o(g)){const{requestId:I,arg:{endpointName:z,originalArgs:j}}=g.meta,P=e.endpointDefinitions[z],B=P==null?void 0:P.onQueryStarted;if(B){const q={},L=new Promise((D,R)=>{q.resolve=D,q.reject=R});L.catch(()=>{}),d[I]=q;const k=n.endpoints[z].select(Vh(P)?j:I),H=y.dispatch((D,R,w)=>w),G={...y,getCacheEntry:()=>k(y.getState()),requestId:I,extra:H,updateCachedData:Vh(P)?D=>y.dispatch(n.util.updateQueryData(z,j,D)):void 0,queryFulfilled:L};B(j,G)}}else if(c(g)){const{requestId:I,baseQueryMeta:z}=g.meta;(_=d[I])==null||_.resolve({data:g.payload,meta:z}),delete d[I]}else if(l(g)){const{requestId:I,rejectedWithValue:z,baseQueryMeta:j}=g.meta;(b=d[I])==null||b.reject({error:g.payload??g.error,isUnhandledError:!z,meta:j}),delete d[I]}}},xN=({reducerPath:n,context:e,api:t,refetchQuery:s,internalState:o})=>{const{removeQueryResult:l}=t.internalActions,c=(m,g)=>{z0.match(m)&&d(g,"refetchOnFocus"),B0.match(m)&&d(g,"refetchOnReconnect")};function d(m,g){const y=m.getState()[n],_=y.queries,b=o.currentSubscriptions;e.batch(()=>{for(const I of Object.keys(b)){const z=_[I],j=b[I];if(!j||!z)continue;(Object.values(j).some(B=>B[g]===!0)||Object.values(j).every(B=>B[g]===void 0)&&y.config[g])&&(Uo(j)===0?m.dispatch(l({queryCacheKey:I})):z.status!=="uninitialized"&&m.dispatch(s(z)))}})}return c};function NN(n){const{reducerPath:e,queryThunk:t,api:s,context:o}=n,{apiUid:l}=o,c={invalidateTags:hi(`${e}/invalidateTags`)},d=_=>_.type.startsWith(`${e}/`),m=[AN,SN,RN,CN,wN,IN];return{middleware:_=>{let b=!1;const z={...n,internalState:{currentSubscriptions:{}},refetchQuery:y,isThisApiSliceAction:d},j=m.map(q=>q(z)),P=EN(z),B=xN(z);return q=>L=>{if(!oS(L))return q(L);b||(b=!0,_.dispatch(s.internalActions.middlewareRegistered(l)));const k={..._,next:q},H=_.getState(),[G,D]=P(L,k,H);let R;if(G?R=q(L):R=D,_.getState()[e]&&(B(L,k,H),d(L)||o.hasRehydrationInfo(L)))for(const w of j)w(L,k,H);return R}},actions:c};function y(_){return n.api.endpoints[_.endpointName].initiate(_.originalArgs,{subscribe:!1,forceRefetch:!0})}}var fE=Symbol(),CS=({createSelector:n=L0}={})=>({name:fE,init(e,{baseQuery:t,tagTypes:s,reducerPath:o,serializeQueryArgs:l,keepUnusedDataFor:c,refetchOnMountOrArgChange:d,refetchOnFocus:m,refetchOnReconnect:g,invalidationBehavior:y,onSchemaFailure:_,catchSchemaFailure:b,skipSchemaValidation:I},z){_9();const j=ae=>ae;Object.assign(e,{reducerPath:o,endpoints:{},internalActions:{onOnline:B0,onOffline:bS,onFocus:z0,onFocusLost:ES},util:{}});const P=_N({serializeQueryArgs:l,reducerPath:o,createSelector:n}),{selectInvalidatedBy:B,selectCachedArgsForQuery:q,buildQuerySelector:L,buildInfiniteQuerySelector:k,buildMutationSelector:H}=P;gr(e.util,{selectInvalidatedBy:B,selectCachedArgsForQuery:q});const{queryThunk:G,infiniteQueryThunk:D,mutationThunk:R,patchQueryData:w,updateQueryData:C,upsertQueryData:N,prefetch:M,buildMatchThunkActions:x}=yN({baseQuery:t,reducerPath:o,context:z,api:e,serializeQueryArgs:l,assertTagType:j,selectors:P,onSchemaFailure:_,catchSchemaFailure:b,skipSchemaValidation:I}),{reducer:Z,actions:de}=vN({context:z,queryThunk:G,mutationThunk:R,serializeQueryArgs:l,reducerPath:o,assertTagType:j,config:{refetchOnFocus:m,refetchOnReconnect:g,refetchOnMountOrArgChange:d,keepUnusedDataFor:c,reducerPath:o,invalidationBehavior:y}});gr(e.util,{patchQueryData:w,updateQueryData:C,upsertQueryData:N,prefetch:M,resetApiState:de.resetApiState,upsertQueryEntries:de.cacheEntriesUpserted}),gr(e.internalActions,de);const{middleware:K,actions:ie}=NN({reducerPath:o,context:z,queryThunk:G,mutationThunk:R,infiniteQueryThunk:D,api:e,assertTagType:j,selectors:P});gr(e.util,ie),gr(e,{reducer:Z,middleware:K});const{buildInitiateQuery:oe,buildInitiateInfiniteQuery:pe,buildInitiateMutation:A,getRunningMutationThunk:V,getRunningMutationsThunk:ee,getRunningQueriesThunk:te,getRunningQueryThunk:le}=pN({queryThunk:G,mutationThunk:R,infiniteQueryThunk:D,api:e,serializeQueryArgs:l,context:z});return gr(e.util,{getRunningMutationThunk:V,getRunningMutationsThunk:ee,getRunningQueryThunk:le,getRunningQueriesThunk:te}),{name:fE,injectEndpoint(ae,me){var Me;const _e=(Me=e.endpoints)[ae]??(Me[ae]={});dd(me)&&gr(_e,{name:ae,select:L(ae,me),initiate:oe(ae,me)},x(G,ae)),hN(me)&&gr(_e,{name:ae,select:H(),initiate:A(ae)},x(R,ae)),md(me)&&gr(_e,{name:ae,select:k(ae,me),initiate:pe(ae,me)},x(G,ae))}}}});CS();var Up={exports:{}},jp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function DN(){if(hE)return jp;hE=1;var n=Uh();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return jp.useSyncExternalStoreWithSelector=function(m,g,y,_,b){var I=o(null);if(I.current===null){var z={hasValue:!1,value:null};I.current=z}else z=I.current;I=c(function(){function P(H){if(!B){if(B=!0,q=H,H=_(H),b!==void 0&&z.hasValue){var G=z.value;if(b(G,H))return L=G}return L=H}if(G=L,t(q,H))return G;var D=_(H);return b!==void 0&&b(G,D)?(q=H,G):(q=H,L=D)}var B=!1,q,L,k=y===void 0?null:y;return[function(){return P(g())},k===null?void 0:function(){return P(k())}]},[g,y,_,b]);var j=s(m,I[0],I[1]);return l(function(){z.hasValue=!0,z.value=j},[j]),d(j),j},jp}var dE;function ON(){return dE||(dE=1,Up.exports=DN()),Up.exports}var MN=ON();function IS(n){n()}function kN(){let n=null,e=null;return{clear(){n=null,e=null},notify(){IS(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=n;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!s||n===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var mE={notify(){},get:()=>[]};function PN(n,e){let t,s=mE,o=0,l=!1;function c(j){y();const P=s.subscribe(j);let B=!1;return()=>{B||(B=!0,P(),_())}}function d(){s.notify()}function m(){z.onStateChange&&z.onStateChange()}function g(){return l}function y(){o++,t||(t=n.subscribe(m),s=kN())}function _(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=mE)}function b(){l||(l=!0,y())}function I(){l&&(l=!1,_())}const z={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:b,tryUnsubscribe:I,getListeners:()=>s};return z}var VN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LN=VN(),UN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jN=UN(),zN=()=>LN||jN?F.useLayoutEffect:F.useEffect,BN=zN();function pE(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function Ou(n,e){if(pE(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(e,t[o])||!pE(n[t[o]],e[t[o]]))return!1;return!0}var zp=Symbol.for("react-redux-context"),Bp=typeof globalThis<"u"?globalThis:{};function qN(){if(!F.createContext)return{};const n=Bp[zp]??(Bp[zp]=new Map);let e=n.get(F.createContext);return e||(e=F.createContext(null),n.set(F.createContext,e)),e}var Is=qN();function HN(n){const{children:e,context:t,serverState:s,store:o}=n,l=F.useMemo(()=>{const m=PN(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),c=F.useMemo(()=>o.getState(),[o]);BN(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=t||Is;return F.createElement(d.Provider,{value:l},e)}var FN=HN;function H0(n=Is){return function(){return F.useContext(n)}}var xS=H0();function NS(n=Is){const e=n===Is?xS:H0(n),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var DS=NS();function QN(n=Is){const e=n===Is?DS:NS(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var GN=QN(),KN=(n,e)=>n===e;function $N(n=Is){const e=n===Is?xS:H0(n),t=(s,o={})=>{const{equalityFn:l=KN}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:d,subscription:m,getServerState:g}=c;F.useRef(!0);const y=F.useCallback({[s.name](b){return s(b)}}[s.name],[s]),_=MN.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,y,l);return F.useDebugValue(_),_};return Object.assign(t,{withTypes:()=>t}),t}var YN=$N(),XN=IS;function Xf(n){return n.replace(n[0],n[0].toUpperCase())}function WN(n){return n.type==="query"}function ZN(n){return n.type==="mutation"}function OS(n){return n.type==="infinitequery"}function vu(n,...e){return Object.assign(n,...e)}var qp=Symbol();function Hp(n,e,t,s){const o=F.useMemo(()=>({queryArgs:n,serialized:typeof n=="object"?e({queryArgs:n,endpointDefinition:t,endpointName:s}):n}),[n,e,t,s]),l=F.useRef(o);return F.useEffect(()=>{l.current.serialized!==o.serialized&&(l.current=o)},[o]),l.current.serialized===o.serialized?l.current.queryArgs:n}function Wf(n){const e=F.useRef(n);return F.useEffect(()=>{Ou(e.current,n)||(e.current=n)},[n]),Ou(e.current,n)?e.current:n}var JN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e7=JN(),t7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",n7=t7(),i7=()=>e7||n7?F.useLayoutEffect:F.useEffect,r7=i7(),gE=n=>n.isUninitialized?{...n,isUninitialized:!1,isFetching:!0,isLoading:n.data===void 0,status:vS.pending}:n;function Fp(n,...e){const t={};return e.forEach(s=>{t[s]=n[s]}),t}var Qp=["data","status","isLoading","isSuccess","isError","error"];function s7({api:n,moduleOptions:{batch:e,hooks:{useDispatch:t,useSelector:s,useStore:o},unstable__sideEffectsInRender:l,createSelector:c},serializeQueryArgs:d,context:m}){const g=l?k=>k():F.useEffect;return{buildQueryHooks:B,buildInfiniteQueryHooks:q,buildMutationHook:L,usePrefetch:b};function y(k,H,G){if(H!=null&&H.endpointName&&k.isUninitialized){const{endpointName:M}=H,x=m.endpointDefinitions[M];G!==ci&&d({queryArgs:H.originalArgs,endpointDefinition:x,endpointName:M})===d({queryArgs:G,endpointDefinition:x,endpointName:M})&&(H=void 0)}let D=k.isSuccess?k.data:H==null?void 0:H.data;D===void 0&&(D=k.data);const R=D!==void 0,w=k.isLoading,C=(!H||H.isLoading||H.isUninitialized)&&!R&&w,N=k.isSuccess||R&&(w&&!(H!=null&&H.isError)||k.isUninitialized);return{...k,data:D,currentData:k.data,isFetching:w,isLoading:C,isSuccess:N}}function _(k,H,G){if(H!=null&&H.endpointName&&k.isUninitialized){const{endpointName:M}=H,x=m.endpointDefinitions[M];G!==ci&&d({queryArgs:H.originalArgs,endpointDefinition:x,endpointName:M})===d({queryArgs:G,endpointDefinition:x,endpointName:M})&&(H=void 0)}let D=k.isSuccess?k.data:H==null?void 0:H.data;D===void 0&&(D=k.data);const R=D!==void 0,w=k.isLoading,C=(!H||H.isLoading||H.isUninitialized)&&!R&&w,N=k.isSuccess||w&&R;return{...k,data:D,currentData:k.data,isFetching:w,isLoading:C,isSuccess:N}}function b(k,H){const G=t(),D=Wf(H);return F.useCallback((R,w)=>G(n.util.prefetch(k,R,{...D,...w})),[k,G,D])}function I(k,H,{refetchOnReconnect:G,refetchOnFocus:D,refetchOnMountOrArgChange:R,skip:w=!1,pollingInterval:C=0,skipPollingIfUnfocused:N=!1,...M}={}){const{initiate:x}=n.endpoints[k],Z=t(),de=F.useRef(void 0);if(!de.current){const ae=Z(n.internalActions.internal_getRTKQSubscriptions());de.current=ae}const K=Hp(w?ci:H,Lh,m.endpointDefinitions[k],k),ie=Wf({refetchOnReconnect:G,refetchOnFocus:D,pollingInterval:C,skipPollingIfUnfocused:N}),oe=M.initialPageParam,pe=Wf(oe),A=F.useRef(void 0);let{queryCacheKey:V,requestId:ee}=A.current||{},te=!1;V&&ee&&(te=de.current.isRequestSubscribed(V,ee));const le=!te&&A.current!==void 0;return g(()=>{le&&(A.current=void 0)},[le]),g(()=>{var ge;const ae=A.current;if(K===ci){ae==null||ae.unsubscribe(),A.current=void 0;return}const me=(ge=A.current)==null?void 0:ge.subscriptionOptions;if(!ae||ae.arg!==K){ae==null||ae.unsubscribe();const _e=Z(x(K,{subscriptionOptions:ie,forceRefetch:R,...OS(m.endpointDefinitions[k])?{initialPageParam:pe}:{}}));A.current=_e}else ie!==me&&ae.updateSubscriptionOptions(ie)},[Z,x,R,K,ie,le,pe,k]),[A,Z,x,ie]}function z(k,H){return(D,{skip:R=!1,selectFromResult:w}={})=>{const{select:C}=n.endpoints[k],N=Hp(R?ci:D,d,m.endpointDefinitions[k],k),M=F.useRef(void 0),x=F.useMemo(()=>c([C(N),(oe,pe)=>pe,oe=>N],H,{memoizeOptions:{resultEqualityCheck:Ou}}),[C,N]),Z=F.useMemo(()=>w?c([x],w,{devModeChecks:{identityFunctionCheck:"never"}}):x,[x,w]),de=s(oe=>Z(oe,M.current),Ou),K=o(),ie=x(K.getState(),M.current);return r7(()=>{M.current=ie},[ie]),de}}function j(k){F.useEffect(()=>()=>{var H,G;(G=(H=k.current)==null?void 0:H.unsubscribe)==null||G.call(H),k.current=void 0},[k])}function P(k){if(!k.current)throw new Error(di(38));return k.current.refetch()}function B(k){const H=(R,w={})=>{const[C]=I(k,R,w);return j(C),F.useMemo(()=>({refetch:()=>P(C)}),[C])},G=({refetchOnReconnect:R,refetchOnFocus:w,pollingInterval:C=0,skipPollingIfUnfocused:N=!1}={})=>{const{initiate:M}=n.endpoints[k],x=t(),[Z,de]=F.useState(qp),K=F.useRef(void 0),ie=Wf({refetchOnReconnect:R,refetchOnFocus:w,pollingInterval:C,skipPollingIfUnfocused:N});g(()=>{var ee,te;const V=(ee=K.current)==null?void 0:ee.subscriptionOptions;ie!==V&&((te=K.current)==null||te.updateSubscriptionOptions(ie))},[ie]);const oe=F.useRef(ie);g(()=>{oe.current=ie},[ie]);const pe=F.useCallback(function(V,ee=!1){let te;return e(()=>{var le;(le=K.current)==null||le.unsubscribe(),K.current=te=x(M(V,{subscriptionOptions:oe.current,forceRefetch:!ee})),de(V)}),te},[x,M]),A=F.useCallback(()=>{var V,ee;(V=K.current)!=null&&V.queryCacheKey&&x(n.internalActions.removeQueryResult({queryCacheKey:(ee=K.current)==null?void 0:ee.queryCacheKey}))},[x]);return F.useEffect(()=>()=>{var V;(V=K==null?void 0:K.current)==null||V.unsubscribe()},[]),F.useEffect(()=>{Z!==qp&&!K.current&&pe(Z,!0)},[Z,pe]),F.useMemo(()=>[pe,Z,{reset:A}],[pe,Z,A])},D=z(k,y);return{useQueryState:D,useQuerySubscription:H,useLazyQuerySubscription:G,useLazyQuery(R){const[w,C,{reset:N}]=G(R),M=D(C,{...R,skip:C===qp}),x=F.useMemo(()=>({lastArg:C}),[C]);return F.useMemo(()=>[w,{...M,reset:N},x],[w,M,N,x])},useQuery(R,w){const C=H(R,w),N=D(R,{selectFromResult:R===ci||w!=null&&w.skip?void 0:gE,...w}),M=Fp(N,...Qp);return F.useDebugValue(M),F.useMemo(()=>({...N,...C}),[N,C])}}}function q(k){const H=(D,R={})=>{const[w,C,N,M]=I(k,D,R),x=F.useRef(M);g(()=>{x.current=M},[M]);const Z=F.useCallback(function(ie,oe){let pe;return e(()=>{var A;(A=w.current)==null||A.unsubscribe(),w.current=pe=C(N(ie,{subscriptionOptions:x.current,direction:oe}))}),pe},[w,C,N]);j(w);const de=Hp(R.skip?ci:D,Lh,m.endpointDefinitions[k],k),K=F.useCallback(()=>P(w),[w]);return F.useMemo(()=>({trigger:Z,refetch:K,fetchNextPage:()=>Z(de,"forward"),fetchPreviousPage:()=>Z(de,"backward")}),[K,Z,de])},G=z(k,_);return{useInfiniteQueryState:G,useInfiniteQuerySubscription:H,useInfiniteQuery(D,R){const{refetch:w,fetchNextPage:C,fetchPreviousPage:N}=H(D,R),M=G(D,{selectFromResult:D===ci||R!=null&&R.skip?void 0:gE,...R}),x=Fp(M,...Qp,"hasNextPage","hasPreviousPage");return F.useDebugValue(x),F.useMemo(()=>({...M,fetchNextPage:C,fetchPreviousPage:N,refetch:w}),[M,C,N,w])}}}function L(k){return({selectFromResult:H,fixedCacheKey:G}={})=>{const{select:D,initiate:R}=n.endpoints[k],w=t(),[C,N]=F.useState();F.useEffect(()=>()=>{C!=null&&C.arg.fixedCacheKey||C==null||C.reset()},[C]);const M=F.useCallback(function(V){const ee=w(R(V,{fixedCacheKey:G}));return N(ee),ee},[w,R,G]),{requestId:x}=C||{},Z=F.useMemo(()=>D({fixedCacheKey:G,requestId:C==null?void 0:C.requestId}),[G,C,D]),de=F.useMemo(()=>H?c([Z],H):Z,[H,Z]),K=s(de,Ou),ie=G==null?C==null?void 0:C.arg.originalArgs:void 0,oe=F.useCallback(()=>{e(()=>{C&&N(void 0),G&&w(n.internalActions.removeMutationResult({requestId:x,fixedCacheKey:G}))})},[w,G,C,x]),pe=Fp(K,...Qp,"endpointName");F.useDebugValue(pe);const A=F.useMemo(()=>({...K,originalArgs:ie,reset:oe}),[K,ie,oe]);return F.useMemo(()=>[M,A],[M,A])}}}var a7=Symbol(),o7=({batch:n=XN,hooks:e={useDispatch:GN,useSelector:YN,useStore:DS},createSelector:t=L0,unstable__sideEffectsInRender:s=!1,...o}={})=>({name:a7,init(l,{serializeQueryArgs:c},d){const m=l,{buildQueryHooks:g,buildInfiniteQueryHooks:y,buildMutationHook:_,usePrefetch:b}=s7({api:l,moduleOptions:{batch:n,hooks:e,unstable__sideEffectsInRender:s,createSelector:t},serializeQueryArgs:c,context:d});return vu(m,{usePrefetch:b}),vu(d,{batch:n}),{injectEndpoint(I,z){if(WN(z)){const{useQuery:j,useLazyQuery:P,useLazyQuerySubscription:B,useQueryState:q,useQuerySubscription:L}=g(I);vu(m.endpoints[I],{useQuery:j,useLazyQuery:P,useLazyQuerySubscription:B,useQueryState:q,useQuerySubscription:L}),l[`use${Xf(I)}Query`]=j,l[`useLazy${Xf(I)}Query`]=P}if(ZN(z)){const j=_(I);vu(m.endpoints[I],{useMutation:j}),l[`use${Xf(I)}Mutation`]=j}else if(OS(z)){const{useInfiniteQuery:j,useInfiniteQuerySubscription:P,useInfiniteQueryState:B}=y(I);vu(m.endpoints[I],{useInfiniteQuery:j,useInfiniteQuerySubscription:P,useInfiniteQueryState:B}),l[`use${Xf(I)}InfiniteQuery`]=j}}}}}),l7=RS(CS(),o7());const ni="0c9eb6c7265733aad8b14540ca4cdf5f",oh=l7({reducerPath:"movieApi",baseQuery:fN({baseUrl:"https://api.themoviedb.org/3/"}),endpoints:n=>({getTopRatedMovies:n.query({query:()=>`discover/movie?api_key=${ni}&with_companies=2&sort_by=vote_average.desc&vote_count.gte=100&page=1&language=en-US`}),getComingSoonMovies:n.query({query:()=>`discover/movie?api_key=${ni}&with_companies=420&sort_by=release_date.asc&primary_release_date.gte=2025-05-13`}),getPopularMovies:n.query({query:()=>`discover/movie?api_key=${ni}&with_companies=25`}),getMovies:n.query({query:()=>`discover/movie?api_key=${ni}&with_companies=420&language=en-US&release_date.gte=2013-01-01&release_date.lte=2025-12-31&page=1`}),getSeries:n.query({query:()=>`discover/tv?api_key=${ni}&with_companies=420&language=en-US&page=1`}),getTvShows:n.query({query:()=>`discover/tv?api_key=${ni}&with_origin_country=IN&first_air_date.gte=2023-01-01&language=en-US`}),getMergedSearchResults:n.query({async queryFn(e){const t=[`discover/movie?api_key=${ni}&with_companies=2&sort_by=vote_average.desc&vote_count.gte=100&page=1&language=en-US&query=${e}`,`discover/movie?api_key=${ni}&with_genres=28,12,16&query=${e}`,`discover/tv?api_key=${ni}&with_companies=420&language=en-US&query=${e}`,`discover/tv?api_key=${ni}&with_origin_country=IN&first_air_date.gte=2023-01-01&language=en-US&query=${e}`,`discover/movie?api_key=${ni}&with_companies=420&sort_by=release_date.asc&primary_release_date.gte=2025-05-13&query=${e}`,`discover/movie?api_key=${ni}&with_companies=25&query=${e}`];try{return{data:(await Promise.all(t.map(c=>fetch(`https://api.themoviedb.org/3/${c}`).then(d=>d.json())))).flatMap(c=>c.results||[]).filter(c=>{var d;return(d=c.title||c.name)==null?void 0:d.toLowerCase().includes(e.toLowerCase())})}}catch{return{error:{message:"Failed to fetch merged search results"}}}}})})}),{useGetMoviesQuery:u7,useGetTopRatedMoviesQuery:c7,useGetSeriesQuery:f7,useGetTvShowsQuery:h7,useGetComingSoonMoviesQuery:MS,useGetPopularMoviesQuery:kS,useGetMergedSearchResultsQuery:d7}=oh,hc=({poster:n,title:e,rating:t,genre:s,onClick:o,isPremium:l})=>{const c=`https://image.tmdb.org/t/p/w780/${n}`;return T.jsx(T.Fragment,{children:T.jsxs("button",{className:"master-btn",onClick:o,style:{position:"relative"},children:[l&&T.jsx("div",{className:"premium-badge",children:T.jsx("i",{className:"fa-solid fa-crown"})}),T.jsx("div",{className:"moviecard",children:T.jsxs("div",{className:"moviecard-cnt",children:[T.jsx("div",{className:"moviecard-img-section",children:T.jsx("img",{src:c,alt:e,className:"moviecard-img"})}),T.jsxs("div",{className:"moviecard-txt",children:[T.jsx("h5",{className:"moviecard-title",children:e}),T.jsxs("div",{className:"moviecard-genres",children:[T.jsxs("h4",{className:"moviecard-rating",children:[T.jsx("i",{className:"fa-solid fa-star"}),t?t.toFixed(1):"N/A"]}),s&&T.jsxs("h6",{className:"moviecard-genres",children:["• ",s]})]})]})]})})]})})},ll=()=>T.jsxs("div",{className:"movies-skeleton-card",children:[T.jsx("div",{className:"movies-skeleton-img card-shimmer"}),T.jsxs("div",{className:"movies-skeleton-text",children:[T.jsx("div",{className:"movies-skeleton-line card-shimmer",style:{width:"80%"}}),T.jsx("div",{className:"movies-skeleton-line card-shimmer",style:{width:"60%"}})]})]}),m7=()=>{var B;const{data:n,isLoading:e,isError:t,error:s}=u7(),[o,l]=F.useState([]),[c,d]=F.useState(!0),m=Ft(),[g,y]=F.useState([]),[_,b]=F.useState(!0),I=Ca();_a(),F.useEffect(()=>{const q=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(q)},[]),F.useEffect(()=>{fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=0c9eb6c7265733aad8b14540ca4cdf5f&language=en-US").then(q=>q.json()).then(q=>l(q.genres)).catch(q=>console.error("Genre fetch error:",q))},[]),F.useEffect(()=>{(async()=>{var H,G,D;if(!((H=n==null?void 0:n.results)!=null&&H.length))return;const L=Wt(I,"PremiumMovieCollection","AllPremiumMovies"),k=await Tn(L);if(!k.exists()||!((D=(G=k.data())==null?void 0:G.PremiumMovieIds)!=null&&D.length)){const R=[...n.results].sort(()=>.5-Math.random()),w=Math.floor(n.results.length*.7),C=R.slice(0,w).map(N=>N.id);await xh(L,{PremiumMovieIds:C}),y(C)}else{const w=k.data().PremiumMovieIds.map(C=>Number(C));y(w)}b(!1)})()},[n]);const z=q=>{const L=o.find(k=>k.id===q);return L?L.name:"Unknown"},j=q=>q!=null&&q.length?q.map(L=>L.name).join(", "):"Unknown Studio";if(t)return T.jsxs("div",{children:["Error: ",s.message]});if(e||c||_)return T.jsx("div",{className:"movies",children:T.jsxs("div",{className:"movies-cnt",children:[T.jsx("h1",{className:"section-heading",children:"All Movies"}),T.jsx("div",{className:"movies-list",children:[...Array(10)].map((q,L)=>T.jsx("div",{className:"skeleton-card-container",children:T.jsx(ll,{})},L))})]})});const P=q=>{m(`/movies/${q}`)};return T.jsx("div",{className:"movies",children:T.jsxs("div",{className:"movies-cnt",children:[T.jsx("h1",{className:"section-heading",children:"All Movies"}),T.jsx("div",{className:"movies-list",children:((B=n==null?void 0:n.results)==null?void 0:B.length)>0?n.results.map(q=>{const L=g.some(k=>Number(k)===Number(q.id));return T.jsx(hc,{poster:q.backdrop_path||q.poster_path,title:q.title,rating:q.vote_average,genre:z(q.genre_ids[0]),studio:j(q.production_companies),isPremium:L,onClick:()=>P(q.id)},q.id)}):T.jsx("p",{children:"No movies available"})})]})})},p7=()=>{const{data:n,isLoading:e,isError:t,error:s}=f7(),[o,l]=F.useState([]),c=Ft(),[d,m]=F.useState(!0);F.useEffect(()=>{const _=setTimeout(()=>{m(!1)},1e3);return()=>clearTimeout(_)},[]),F.useEffect(()=>{fetch("https://api.themoviedb.org/3/genre/tv/list?api_key=0c9eb6c7265733aad8b14540ca4cdf5f&language=en-US").then(_=>_.json()).then(_=>l(_.genres)).catch(_=>console.error("Error fetching genres:",_))},[]);const g=_=>{const b=o.find(I=>I.id===_);return b?b.name:"Unknown"},y=_=>!_||_.length===0?"Unknown Studio":_.map(b=>b.name).join(", ");return e||d?T.jsx("div",{className:"movies",children:T.jsxs("div",{className:"movies-cnt",children:[T.jsx("h1",{className:"section-heading",children:"All Series"}),T.jsx("div",{className:"movies-list",children:[...Array(10)].map((_,b)=>T.jsx("div",{className:"skeleton-card-container",children:T.jsx(ll,{})},b))})]})}):t?(console.log("Error:",s),T.jsxs("div",{children:["Error: ",s.message]})):T.jsx("div",{className:"movies",children:T.jsxs("div",{className:"movies-cnt",children:[T.jsx("h1",{className:"section-heading",children:"All Series"}),T.jsx("div",{className:"movies-list",children:n&&n.results&&n.results.length>0?n.results.map(_=>{const b=_.id%10<7,I=()=>{b?localStorage.getItem("isSubscribed")==="true"?c(`/series/${_.id}`):(localStorage.setItem("redirectAfterPayment",`/series/${_.id}`),c("/subscribenotify")):c(`/series/${_.id}`)};return T.jsx(hc,{poster:_.backdrop_path||_.poster_path,title:_.name,rating:_.vote_average,genre:g(_.genre_ids[0]),studio:y(_.production_companies),isPremium:b,onClick:I},_.id)}):T.jsx("p",{children:"No series available"})})]})})},g7=()=>{const{data:n,isLoading:e,isError:t,error:s}=h7(),[o,l]=F.useState([]),c=Ft(),[d,m]=F.useState(!0);F.useEffect(()=>{const y=setTimeout(()=>{m(!1)},1e3);return()=>clearTimeout(y)},[]),F.useEffect(()=>{fetch("https://api.themoviedb.org/3/discover/tv?api_key=0c9eb6c7265733aad8b14540ca4cdf5f&with_origin_country=IN&with_genres=18&language=en-US").then(y=>y.json()).then(y=>l(y.genres)).catch(y=>console.error("Error fetching genres:",y))},[]);const g=y=>!y||y.length===0?"Unknown Studio":y.map(_=>_.name).join(", ");return e||d?T.jsx("div",{className:"movies",children:T.jsxs("div",{className:"movies-cnt",children:[T.jsx("h1",{className:"section-heading",children:"All Movies"}),T.jsx("div",{className:"movies-list",children:[...Array(10)].map((y,_)=>T.jsx("div",{className:"skeleton-card-container",children:T.jsx(ll,{},_)}))})]})}):t?T.jsxs("div",{children:["Error: ",s.message]}):T.jsx("div",{className:"movies",children:T.jsxs("div",{className:"movies-cnt",children:[T.jsx("h1",{className:"section-heading",children:"All Tv Shows"}),T.jsx("div",{className:"movies-list",children:n&&n.results&&n.results.length>0?n.results.map(y=>T.jsx(hc,{poster:y.backdrop_path||y.poster_path,title:y.name,rating:y.vote_average,studio:g(y.production_companies),onClick:()=>c(`/tvshows/${y.id}`)},y.id)):T.jsx("p",{children:"No Tv Shows available"})})]})})},PS=({children:n,variant:e="filled",onClick:t,icon:s})=>{const o=e==="outline"?"btn-outline":e==="iconText"?"btn-icon-text":e==="text"?"btn-text":"btn-filled";return T.jsx(T.Fragment,{children:T.jsxs("button",{className:`btn ${o}`,onClick:t,children:[s&&T.jsx("i",{className:`btn-icon ${s}`}),n]})})},y7=({type:n,price:e,features:t,isActive:s,onSubscribe:o})=>T.jsx("div",{className:`subscribe-card ${s?"active":""}`,children:T.jsxs("div",{className:"subscribe-card-cnt",children:[T.jsxs("div",{className:`subscribe-card-type ${s?"active":""}`,children:[T.jsx("p",{className:"subscribe-card-type-mode",children:n}),T.jsxs("p",{className:"subscribe-card-type-price",children:["₹",e,T.jsx("span",{children:n==="Yearly Subscription"?"/Year":"/Month"})]})]}),T.jsx("div",{className:"subscribe-card-offer-lists",children:T.jsx("ul",{className:"subscribe-card-offer-list",children:t.map((l,c)=>T.jsxs("li",{className:`subscribe-card-offer ${l.available?"":"disabled"}`,children:[T.jsx("div",{className:`subscribe-card-offer-icon ${s?"active":""}`,children:T.jsx("i",{className:"fa-solid fa-check"})}),T.jsx("h6",{className:"subscribe-card-offer-txt",children:l.text})]},c))})}),T.jsx("div",{className:"subscribe-card-buy",children:T.jsx(PS,{variant:s?"filled":"outline",onClick:()=>o(),children:s?"Buy Now":"Get Started"})})]})}),v7=()=>{const n=Ft();F.useEffect(()=>(document.body.classList.add("reset-css"),()=>{document.body.classList.remove("reset-css")}),[]);const e=async s=>{try{const o=await fetch("http://localhost:5000/create-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:s})}),l=await o.json();if(!o.ok)throw new Error(l.message||"Failed to create order");const c=zi.currentUser;if(!c){alert("Please login first");return}const d={key:"rzp_test_f72l5fnGjUGpvZ",amount:l.amount,currency:"INR",name:"Cinefix",description:"Subscription Payment",order_id:l.id,handler:async function(g){console.log("Payment successful!",g);let y=new Date;s===189?y.setDate(y.getDate()+1):s===2189&&y.setDate(y.getDate()+3);const _=It.fromDate(y);await Xo(Wt(Bi,"users",c.uid),{subscriptionStatus:"active",subscriptionExpiry:_,lastSubscriptionUpdate:Sg()});const b=localStorage.getItem("redirectAfterPayment");b?(localStorage.removeItem("redirectAfterPayment"),n(b)):n("/premium")},prefill:{name:c.displayName||"User",email:c.email||"",contact:"1234567890"},theme:{color:"#e43a3a"}};new window.Razorpay(d).open()}catch(o){console.error("Error in payment flow:",o)}},t=[{type:"Free Trial",price:"0",isActive:!1,amountInINR:0,features:[{text:"Streaming in high quality",available:!0},{text:"With the best audio quality",available:!0},{text:"Stream on multiple devices",available:!1},{text:"Ad-free viewing experience",available:!1},{text:"Download to watch later",available:!1}]},{type:"Monthly Subscription",price:"189",isActive:!0,amountInINR:189,features:[{text:"Streaming in high quality",available:!0},{text:"With the best audio quality",available:!0},{text:"Stream on multiple devices",available:!0},{text:"Ad-free viewing experience",available:!0},{text:"Download to watch later",available:!0}]},{type:"Yearly Subscription",price:"2189",isActive:!1,amountInINR:2189,features:[{text:"Streaming in high quality",available:!0},{text:"With the best audio quality",available:!0},{text:"Stream on multiple devices",available:!0},{text:"Ad-free viewing experience",available:!0},{text:"Download to watch later",available:!0}]}];return T.jsx("div",{className:"subscribe reset-css",children:T.jsxs("div",{className:"subscribe-container",children:[T.jsx("div",{className:"subscribe-heading",children:T.jsx(_s,{to:"/",children:T.jsx("img",{src:jn.logo,alt:"cinefix-logo",className:"logo"})})}),T.jsxs("div",{className:"subscribe-card-head",children:[T.jsx("p",{className:"subscribe-access-premium",children:"Access Premium"}),T.jsx("h2",{className:"subscribe-big-txt",children:"It's easy to get started"}),T.jsx("h2",{className:"subscribe-small-txt",children:"Choose the best plan to enjoy the best movies and series"})]}),T.jsx("div",{className:"subscribe-section",children:t.map((s,o)=>T.jsx(y7,{type:s.type,price:s.price,features:s.features,isActive:s.isActive,onSubscribe:()=>e(s.amountInINR)},o))})]})})},_7=()=>{const{user:n}=M0(),e=Ft();if(!n)return e("/login"),null;const t=async()=>{try{await wC(zi),setIsSubscribed(null),e("/")}catch(s){console.error("Logout error: ",s.message)}};return T.jsx(T.Fragment,{children:T.jsx("div",{className:"profile",children:T.jsxs("div",{className:"profile-content",children:[T.jsxs("div",{className:"profile-sidebar",children:[T.jsx("div",{className:"profile-sidebar-head",children:T.jsx("h1",{className:"profile-sidebar-head-txt section-heading",children:"Profile Settings"})}),T.jsxs("div",{className:"profile-list",children:[T.jsxs("div",{className:"profile-list-group",children:[T.jsx("div",{className:"profile-title",children:T.jsx("h6",{className:"profile-mini-title",children:"Personal Info"})}),T.jsx("div",{className:"profile-link-list",children:T.jsx("ul",{className:"profile-links",children:T.jsx(Cn,{to:"/profile",iconClass:"fa-regular fa-user",label:"Your Profile",isSidebar:!0})})})]}),T.jsxs("div",{className:"profile-list-group",children:[T.jsx("div",{className:"profile-title",children:T.jsx("h6",{className:"profile-mini-title",children:"General"})}),T.jsx("div",{className:"profile-link-list",children:T.jsx("ul",{className:"profile-links",children:T.jsxs("button",{onClick:t,className:"logout-button",children:[T.jsx("i",{class:"fa-solid fa-left-from-bracket"}),"Logout"]})})})]})]})]}),T.jsx("div",{className:"profile-main-container",children:T.jsxs("div",{className:"profile-edit-profile-section",children:[T.jsx("div",{className:"profile-welcome-title",children:"Welcome to Cinefix"}),T.jsxs("div",{className:"profile-name",children:["Email : ",T.jsx("span",{children:n.email})]})]})})]})})})},E7=[{id:1,image:jn.disney},{id:2,image:jn.marvel},{id:3,image:jn.pixar},{id:4,image:jn.star_wars},{id:5,image:jn.national_geo},{id:6,image:jn.hbo},{id:7,image:jn.peacock}];function b7(){const[n,e]=F.useState(E7),[t,s]=F.useState(!0),[o,l]=F.useState(!1),c=F.useRef(null),d=()=>{const y=c.current;y&&(y.scrollLeft+=3,y.scrollLeft+y.clientWidth>=y.scrollWidth-10&&(y.scrollLeft=0),requestAnimationFrame(d))};F.useEffect(()=>(requestAnimationFrame(d),()=>{cancelAnimationFrame(d)}),[]);const m=()=>{const y=c.current;y&&(s(y.scrollLeft<=10),l(y.scrollLeft+y.clientWidth>=y.scrollWidth-10))},g=[...n,...n];return F.useEffect(()=>{const y=c.current;return y&&y.addEventListener("scroll",m),()=>{y&&y.removeEventListener("scroll",m)}},[]),T.jsxs("div",{className:"slider-container",children:[T.jsx("div",{className:"slider-head",children:T.jsx("h2",{className:"section-heading",children:"Movie Studios"})}),T.jsxs("div",{className:"slider-wrapper",children:[!t&&T.jsx("div",{className:"gradient-overlay left-gradient"}),!o&&T.jsx("div",{className:"gradient-overlay right-gradient"}),T.jsx("div",{ref:c,className:"slider-content",children:g.map(y=>T.jsx("div",{className:"studios-card",children:T.jsx("img",{src:y.image,alt:`Logo ${y.id}`,className:"studios-img"})},y.id))})]})]})}function VS({title:n,data:e,renderCard:t}){const[s,o]=F.useState(!0),[l,c]=F.useState(!1),d=F.useRef(null),m=g=>{var y;(y=d.current)==null||y.scrollBy({left:g==="left"?-300:300,behavior:"smooth"})};return F.useEffect(()=>{const g=()=>{const b=d.current;b&&(o(b.scrollLeft<=10),c(b.scrollWidth-b.clientWidth-b.scrollLeft<=10))},y=d.current,_=b=>{b.preventDefault();const I=b.deltaY>0?"right":"left";m(I)};return y==null||y.addEventListener("scroll",g),y==null||y.addEventListener("wheel",_,{passive:!1}),g(),()=>{y==null||y.removeEventListener("scroll",g),y==null||y.removeEventListener("wheel",_)}},[]),T.jsxs("div",{className:"slider-container",children:[T.jsxs("div",{className:"slider-head",children:[T.jsx("h2",{className:"section-heading",children:n}),T.jsxs("div",{className:"slider-btn",children:[T.jsx("button",{onClick:()=>m("left"),disabled:s,className:"arrow-button",children:T.jsx("i",{className:"fa-regular fa-arrow-left"})}),T.jsx("button",{onClick:()=>m("right"),disabled:l,className:"arrow-button",children:T.jsx("i",{className:"fa-regular fa-arrow-right"})})]})]}),T.jsxs("div",{className:"slider-wrapper",children:[!s&&T.jsx("div",{className:"gradient-overlay left-gradient"}),!l&&T.jsx("div",{className:"gradient-overlay right-gradient"}),T.jsx("div",{ref:d,className:"slider-content",children:e.map(g=>t(g))})]})]})}const T7=()=>T.jsx("div",{className:"discovery",children:T.jsx("div",{className:"discovery-cnt",children:T.jsxs("div",{className:"slider-section",children:[T.jsx("h2",{className:"skeleton-heading shimmer"}),T.jsx("div",{className:"skeleton-slider",children:[...Array(2)].map((n,e)=>T.jsxs("div",{className:"skeleton-card",children:[T.jsx("div",{className:"skeleton-img shimmer"}),T.jsx("div",{className:"skeleton-line shimmer",style:{width:"80%"}}),T.jsx("div",{className:"skeleton-line shimmer",style:{width:"60%"}})]},e))})]})})}),S7=()=>{const{data:n,error:e,isLoading:t}=MS(),s=Ft(),[o,l]=F.useState([]),[c,d]=F.useState(!0),m=async _=>{var z,j;if(!(_!=null&&_.length))return;const b=Wt(Bi,"PremiumMovieCollection","comingSoonPremiumMovies"),I=await Tn(b);if(!I.exists()||!((j=(z=I.data())==null?void 0:z.PremiumMovieIds)!=null&&j.length)){const P=_.map(B=>B.id);await xh(b,{PremiumMovieIds:P})}},g=async()=>{var _;try{const b=Wt(Bi,"PremiumMovieCollection","comingSoonPremiumMovies"),I=await Tn(b);if(I.exists()){const z=((_=I.data())==null?void 0:_.PremiumMovieIds)||[];l(z.map(j=>Number(j)))}else l([])}catch(b){console.error("Error fetching premium IDs:",b),l([])}d(!1)};if(F.useEffect(()=>{var _;(_=n==null?void 0:n.results)!=null&&_.length&&m(n.results).then(()=>{g()})},[n]),t||c)return T.jsx(T7,{});if(e)return T.jsx("p",{children:"Error loading coming soon movies."});const y=(n==null?void 0:n.results)||[];return T.jsx(T.Fragment,{children:T.jsx(VS,{title:"Coming Soon",data:y,renderCard:_=>{const b=o.includes(_.id);return T.jsxs("div",{className:"coming-soon-movie-poster",onClick:()=>s(`/movie/${_.id}`),children:[T.jsx("img",{src:`https://image.tmdb.org/t/p/w500${_.backdrop_path}`,alt:_.title,className:"coming-soon-poster-img"}),b&&T.jsx("div",{className:"coming-soon-premium-badge",children:T.jsx("i",{className:"fa-solid fa-crown"})}),T.jsx("div",{className:"coming-soon-poster-txt",children:T.jsxs("div",{className:"coming-soon-poster-txt-title",children:[T.jsx("h6",{className:"movie-type",children:"Coming Soon"}),T.jsx("h1",{className:"movie-name",children:_.title}),T.jsxs("h6",{className:"movie-episode",children:["On ",new Date(_.release_date).toLocaleDateString()]})]})})]},_.id)}})})},w7=()=>{const{data:n,error:e,isLoading:t}=kS(),s=Ft(),[o,l]=F.useState(!0);if(F.useEffect(()=>{const d=setTimeout(()=>{l(!1)},1e3);return()=>clearTimeout(d)},[]),t||o)return T.jsx("div",{className:"movies",children:T.jsxs("div",{className:"movies-cnt",children:[T.jsx("h1",{className:"section-heading",children:"Popular Movies"}),T.jsx("div",{className:"movies-list",children:[...Array(4)].map((d,m)=>T.jsx("div",{className:"skeleton-card-container",children:T.jsx(ll,{})},m))})]})});if(e)return T.jsx("p",{children:"Error."});const c=(n==null?void 0:n.results)||[];return T.jsx(VS,{title:"Popular Movies",data:c,renderCard:d=>T.jsxs("div",{className:"popular-movies-card",onClick:()=>s(`/movie/${d.id}`),children:[T.jsx("img",{src:`https://image.tmdb.org/t/p/w500${d.backdrop_path}`,alt:d.title,className:"popular-movies-img"}),T.jsx("div",{className:"popular-movies-title-section",children:T.jsx("h5",{className:"popular-movies-title moviecard-title",children:d.title})})]},d.id)})},yE=()=>{const{isLoading:n}=MS(),{isLoading:e}=kS();return T.jsx("div",{className:"discovery",children:T.jsxs("div",{className:"discovery-cnt",children:[T.jsx("div",{className:"coming-soon-movies-slider slider-section",children:T.jsx(S7,{})}),T.jsx("div",{className:"disc-studios-slider slider-section",children:T.jsx(b7,{})}),T.jsx("div",{className:"disc-continue-watching-slider slider-section",children:T.jsx(w7,{})})]})})},A7=()=>{const[n,e]=F.useState(""),[t,s]=F.useState([]),[o,l]=F.useState(!0),c=Ft(),{data:d,isLoading:m,isError:g}=d7(n,{skip:n.trim().length===0});F.useEffect(()=>{const j=setTimeout(()=>{l(!1)},1e3);return()=>clearTimeout(j)},[]),F.useEffect(()=>{fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=0c9eb6c7265733aad8b14540ca4cdf5f&language=en-US").then(j=>j.json()).then(j=>s(j.genres)).catch(j=>console.error("Error fetching genres:",j))},[]);const y=j=>{const P=t.find(B=>B.id===j);return P?P.name:"Unknown"},_=()=>{},b=j=>{c(`/movie/${j}`)},I=(d==null?void 0:d.filter(j=>{var P;return(P=j.title||j.name)==null?void 0:P.toLowerCase().includes(n.toLowerCase())}))||[],z=!m&&!g&&I.length===0;return T.jsxs("div",{className:"search-page",children:[T.jsxs("div",{className:"search-bar",children:[T.jsx("input",{type:"text",value:n,onChange:j=>e(j.target.value),placeholder:"Search for something epic",className:"search-input"}),T.jsx(PS,{onClick:_,className:"search-button",children:"Search"})]}),T.jsxs("div",{className:"moviecard-container",children:[!m&&!z&&I.length>0&&T.jsx("h2",{className:"section-heading",children:"Suggestions"}),m?T.jsx("div",{className:"movies",children:T.jsxs("div",{className:"movies-cnt",children:[T.jsx("h1",{className:"section-heading",children:"All Movies"}),T.jsx("div",{className:"movies-list",children:[...Array(10)].map((j,P)=>T.jsx("div",{className:"skeleton-card-container",children:T.jsx(ll,{})},P))})]})}):z?T.jsx("p",{className:"master-error",children:"No suggestions found"}):T.jsx("div",{className:"movies-list",children:I.map((j,P)=>{var B;return T.jsx(hc,{poster:j.backdrop_path||j.poster_path,title:j.title||j.name,rating:j.vote_average,genre:y((B=j.genre_ids)==null?void 0:B[0]),onClick:()=>b(j.id)},P)})})]})]})},R7=({rank:n,title:e,poster:t,rating:s,genre:o,onClick:l})=>{const c=`https://image.tmdb.org/t/p/w500/${t}`;return T.jsx(T.Fragment,{children:T.jsx("button",{className:"master-btn",onClick:l,children:T.jsxs("div",{className:"top-rated-card",children:[T.jsx("div",{className:"top-rated-rank-img-part",children:T.jsxs("div",{className:"top-rated-card-img-section",children:[T.jsx("div",{className:"top-rated-card-rank",children:n}),T.jsx("img",{src:c,alt:e,className:"top-rated-card-img"})]})}),T.jsxs("div",{className:"top-rated-card-txt",children:[T.jsx("h5",{className:"top-rated-movie-title moviecard-title",children:e}),T.jsxs("h6",{className:"top-rated-movie-genres moviecard-genres",children:[T.jsx("i",{className:"fa-light fa-film"})," ",o]}),T.jsxs("h4",{className:"top-rated-movie-rating moviecard-rating",children:[T.jsx("i",{className:"fa-solid fa-star"})," ",s?s.toFixed(1):"N/A"]})]})]})})})},C7=()=>{const{data:n,isLoading:e,isError:t,error:s}=c7(),[o,l]=F.useState([]),c=Ft(),[d,m]=F.useState(!0);F.useEffect(()=>{const b=setTimeout(()=>{m(!1)},1e3);return()=>clearTimeout(b)},[]),F.useEffect(()=>{fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=0c9eb6c7265733aad8b14540ca4cdf5f&language=en-US").then(b=>b.json()).then(b=>l(b.genres)).catch(b=>console.error("Error fetching genres:",b))},[]);const g=b=>{const I=o.find(z=>z.id===b);return I?I.name:"Unknown"},y=b=>{c(`/toprated/${b}`)},_=e||o.length===0;return t?T.jsxs("div",{children:["Error: ",s.message]}):_||d?T.jsx("div",{className:"movies",children:T.jsxs("div",{className:"movies-cnt",children:[T.jsx("h1",{className:"section-heading",children:"All Movies"}),T.jsx("div",{className:"movies-list",children:[...Array(10)].map((b,I)=>T.jsx("div",{className:"skeleton-card-container",children:T.jsx(ll,{},I)}))})]})}):T.jsx(T.Fragment,{children:T.jsxs("div",{className:"top-rated-movies",children:[T.jsx("h1",{className:"section-heading",children:"Top Rated Movies"}),T.jsx("div",{className:"top-rated-movie-list",children:n&&n.results.length>0?n.results.map((b,I)=>T.jsx(R7,{rank:I+1,title:b.title,poster:b.poster_path,rating:b.vote_average,genre:g(b.genre_ids[0]),onClick:()=>y(b.id)},b.id)):T.jsx("p",{children:"No top-rated movies available"})})]})})};function LS(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=LS(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Ea(){for(var n,e,t=0,s="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=LS(n))&&(s&&(s+=" "),s+=e);return s}function I7(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}I7(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var dc=n=>typeof n=="number"&&!isNaN(n),Da=n=>typeof n=="string",Rr=n=>typeof n=="function",x7=n=>Da(n)||dc(n),kg=n=>Da(n)||Rr(n)?n:null,N7=(n,e)=>n===!1||dc(n)&&n>0?n:e,Pg=n=>F.isValidElement(n)||Da(n)||Rr(n)||dc(n);function D7(n,e,t=300){let{scrollHeight:s,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function O7({enter:n,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:d,done:m,nodeRef:g,isIn:y,playToast:_}){let b=t?`${n}--${c}`:n,I=t?`${e}--${c}`:e,z=F.useRef(0);return F.useLayoutEffect(()=>{let j=g.current,P=b.split(" "),B=q=>{q.target===g.current&&(_(),j.removeEventListener("animationend",B),j.removeEventListener("animationcancel",B),z.current===0&&q.type!=="animationcancel"&&j.classList.remove(...P))};j.classList.add(...P),j.addEventListener("animationend",B),j.addEventListener("animationcancel",B)},[]),F.useEffect(()=>{let j=g.current,P=()=>{j.removeEventListener("animationend",P),s?D7(j,m,o):m()};y||(d?P():(z.current=1,j.className+=` ${I}`,j.addEventListener("animationend",P)))},[y]),dt.createElement(dt.Fragment,null,l)}}function vE(n,e){return{content:US(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function US(n,e,t=!1){return F.isValidElement(n)&&!Da(n.type)?F.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Rr(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function M7({closeToast:n,theme:e,ariaLabel:t="close"}){return dt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),n(!0)},"aria-label":t},dt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},dt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function k7({delay:n,isRunning:e,closeToast:t,type:s="default",hide:o,className:l,controlledProgress:c,progress:d,rtl:m,isIn:g,theme:y}){let _=o||c&&d===0,b={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(b.transform=`scaleX(${d})`);let I=Ea("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":m}),z=Rr(l)?l({rtl:m,type:s,defaultClassName:I}):Ea(I,l),j={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&t()}};return dt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},dt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${s}`}),dt.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:z,style:b,...j}))}var P7=1,jS=()=>`${P7++}`;function V7(n,e,t){let s=1,o=0,l=[],c=[],d=e,m=new Map,g=new Set,y=q=>(g.add(q),()=>g.delete(q)),_=()=>{c=Array.from(m.values()),g.forEach(q=>q())},b=({containerId:q,toastId:L,updateId:k})=>{let H=q?q!==n:n!==1,G=m.has(L)&&k==null;return H||G},I=(q,L)=>{m.forEach(k=>{var H;(L==null||L===k.props.toastId)&&((H=k.toggle)==null||H.call(k,q))})},z=q=>{var L,k;(k=(L=q.props)==null?void 0:L.onClose)==null||k.call(L,q.removalReason),q.isActive=!1},j=q=>{if(q==null)m.forEach(z);else{let L=m.get(q);L&&z(L)}_()},P=()=>{o-=l.length,l=[]},B=q=>{var L,k;let{toastId:H,updateId:G}=q.props,D=G==null;q.staleId&&m.delete(q.staleId),q.isActive=!0,m.set(H,q),_(),t(vE(q,D?"added":"updated")),D&&((k=(L=q.props).onOpen)==null||k.call(L))};return{id:n,props:d,observe:y,toggle:I,removeToast:j,toasts:m,clearQueue:P,buildToast:(q,L)=>{if(b(L))return;let{toastId:k,updateId:H,data:G,staleId:D,delay:R}=L,w=H==null;w&&o++;let C={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(L).filter(([M,x])=>x!=null)),toastId:k,updateId:H,data:G,isIn:!1,className:kg(L.className||d.toastClassName),progressClassName:kg(L.progressClassName||d.progressClassName),autoClose:L.isLoading?!1:N7(L.autoClose,d.autoClose),closeToast(M){m.get(k).removalReason=M,j(k)},deleteToast(){let M=m.get(k);if(M!=null){if(t(vE(M,"removed")),m.delete(k),o--,o<0&&(o=0),l.length>0){B(l.shift());return}_()}}};C.closeButton=d.closeButton,L.closeButton===!1||Pg(L.closeButton)?C.closeButton=L.closeButton:L.closeButton===!0&&(C.closeButton=Pg(d.closeButton)?d.closeButton:!0);let N={content:q,props:C,staleId:D};d.limit&&d.limit>0&&o>d.limit&&w?l.push(N):dc(R)?setTimeout(()=>{B(N)},R):B(N)},setProps(q){d=q},setToggle:(q,L)=>{let k=m.get(q);k&&(k.toggle=L)},isToastActive:q=>{var L;return(L=m.get(q))==null?void 0:L.isActive},getSnapshot:()=>c}}var Sn=new Map,Xu=[],Vg=new Set,L7=n=>Vg.forEach(e=>e(n)),zS=()=>Sn.size>0;function U7(){Xu.forEach(n=>qS(n.content,n.options)),Xu=[]}var j7=(n,{containerId:e})=>{var t;return(t=Sn.get(e||1))==null?void 0:t.toasts.get(n)};function BS(n,e){var t;if(e)return!!((t=Sn.get(e))!=null&&t.isToastActive(n));let s=!1;return Sn.forEach(o=>{o.isToastActive(n)&&(s=!0)}),s}function z7(n){if(!zS()){Xu=Xu.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||x7(n))Sn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Sn.get(n.containerId);e?e.removeToast(n.id):Sn.forEach(t=>{t.removeToast(n.id)})}}var B7=(n={})=>{Sn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function qS(n,e){Pg(n)&&(zS()||Xu.push({content:n,options:e}),Sn.forEach(t=>{t.buildToast(n,e)}))}function q7(n){var e;(e=Sn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function HS(n,e){Sn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function H7(n){let e=n.containerId||1;return{subscribe(t){let s=V7(e,n,L7);Sn.set(e,s);let o=s.observe(t);return U7(),()=>{o(),Sn.delete(e)}},setProps(t){var s;(s=Sn.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=Sn.get(e))==null?void 0:t.getSnapshot()}}}function F7(n){return Vg.add(n),()=>{Vg.delete(n)}}function Q7(n){return n&&(Da(n.toastId)||dc(n.toastId))?n.toastId:jS()}function mc(n,e){return qS(n,e),e.toastId}function pd(n,e){return{...e,type:e&&e.type||n,toastId:Q7(e)}}function gd(n){return(e,t)=>mc(e,pd(n,t))}function ze(n,e){return mc(n,pd("default",e))}ze.loading=(n,e)=>mc(n,pd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function G7(n,{pending:e,error:t,success:s},o){let l;e&&(l=Da(e)?ze.loading(e,o):ze.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,y,_)=>{if(y==null){ze.dismiss(l);return}let b={type:g,...c,...o,data:_},I=Da(y)?{render:y}:y;return l?ze.update(l,{...b,...I}):ze(I.render,{...b,...I}),_},m=Rr(n)?n():n;return m.then(g=>d("success",s,g)).catch(g=>d("error",t,g)),m}ze.promise=G7;ze.success=gd("success");ze.info=gd("info");ze.error=gd("error");ze.warning=gd("warning");ze.warn=ze.warning;ze.dark=(n,e)=>mc(n,pd("default",{theme:"dark",...e}));function K7(n){z7(n)}ze.dismiss=K7;ze.clearWaitingQueue=B7;ze.isActive=BS;ze.update=(n,e={})=>{let t=j7(n,e);if(t){let{props:s,content:o}=t,l={delay:100,...s,...e,toastId:e.toastId||n,updateId:jS()};l.toastId!==n&&(l.staleId=n);let c=l.render||o;delete l.render,mc(c,l)}};ze.done=n=>{ze.update(n,{progress:1})};ze.onChange=F7;ze.play=n=>HS(!0,n);ze.pause=n=>HS(!1,n);function $7(n){var e;let{subscribe:t,getSnapshot:s,setProps:o}=F.useRef(H7(n)).current;o(n);let l=(e=F.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function c(d){if(!l)return[];let m=new Map;return n.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:y}=g.props;m.has(y)||m.set(y,[]),m.get(y).push(g)}),Array.from(m,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:BS,count:l==null?void 0:l.length}}function Y7(n){let[e,t]=F.useState(!1),[s,o]=F.useState(!1),l=F.useRef(null),c=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:g,onClick:y,closeOnClick:_}=n;q7({id:n.toastId,containerId:n.containerId,fn:t}),F.useEffect(()=>{if(n.pauseOnFocusLoss)return b(),()=>{I()}},[n.pauseOnFocusLoss]);function b(){document.hasFocus()||B(),window.addEventListener("focus",P),window.addEventListener("blur",B)}function I(){window.removeEventListener("focus",P),window.removeEventListener("blur",B)}function z(D){if(n.draggable===!0||n.draggable===D.pointerType){q();let R=l.current;c.canCloseOnClick=!0,c.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(c.start=D.clientX,c.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(c.start=D.clientY,c.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function j(D){let{top:R,bottom:w,left:C,right:N}=l.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&n.pauseOnHover&&D.clientX>=C&&D.clientX<=N&&D.clientY>=R&&D.clientY<=w?B():P()}function P(){t(!0)}function B(){t(!1)}function q(){c.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",H)}function L(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",H)}function k(D){let R=l.current;if(c.canDrag&&R){c.didMove=!0,e&&B(),n.draggableDirection==="x"?c.delta=D.clientX-c.start:c.delta=D.clientY-c.start,c.start!==D.clientX&&(c.canCloseOnClick=!1);let w=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;R.style.transform=`translate3d(${w},0)`,R.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function H(){L();let D=l.current;if(c.canDrag&&c.didMove&&D){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let G={onPointerDown:z,onPointerUp:j};return d&&m&&(G.onMouseEnter=B,n.stacked||(G.onMouseLeave=P)),_&&(G.onClick=D=>{y&&y(D),c.canCloseOnClick&&g(!0)}),{playToast:P,pauseToast:B,isRunning:e,preventExitTransition:s,toastRef:l,eventHandlers:G}}var X7=typeof window<"u"?F.useLayoutEffect:F.useEffect,yd=({theme:n,type:e,isLoading:t,...s})=>dt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function W7(n){return dt.createElement(yd,{...n},dt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Z7(n){return dt.createElement(yd,{...n},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function J7(n){return dt.createElement(yd,{...n},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function eD(n){return dt.createElement(yd,{...n},dt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function tD(){return dt.createElement("div",{className:"Toastify__spinner"})}var Lg={info:Z7,warning:W7,success:J7,error:eD,spinner:tD},nD=n=>n in Lg;function iD({theme:n,type:e,isLoading:t,icon:s}){let o=null,l={theme:n,type:e};return s===!1||(Rr(s)?o=s({...l,isLoading:t}):F.isValidElement(s)?o=F.cloneElement(s,l):t?o=Lg.spinner():nD(e)&&(o=Lg[e](l))),o}var rD=n=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=Y7(n),{closeButton:c,children:d,autoClose:m,onClick:g,type:y,hideProgressBar:_,closeToast:b,transition:I,position:z,className:j,style:P,progressClassName:B,updateId:q,role:L,progress:k,rtl:H,toastId:G,deleteToast:D,isIn:R,isLoading:w,closeOnClick:C,theme:N,ariaLabel:M}=n,x=Ea("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":H},{"Toastify__toast--close-on-click":C}),Z=Rr(j)?j({rtl:H,position:z,type:y,defaultClassName:x}):Ea(x,j),de=iD(n),K=!!k||!m,ie={closeToast:b,type:y,theme:N},oe=null;return c===!1||(Rr(c)?oe=c(ie):F.isValidElement(c)?oe=F.cloneElement(c,ie):oe=M7(ie)),dt.createElement(I,{isIn:R,done:D,position:z,preventExitTransition:t,nodeRef:s,playToast:l},dt.createElement("div",{id:G,tabIndex:0,onClick:g,"data-in":R,className:Z,...o,style:P,ref:s,...R&&{role:L,"aria-label":M}},de!=null&&dt.createElement("div",{className:Ea("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!w})},de),US(d,n,!e),oe,!n.customProgressBar&&dt.createElement(k7,{...q&&!K?{key:`p-${q}`}:{},rtl:H,theme:N,delay:m,isRunning:e,isIn:R,closeToast:b,hide:_,type:y,className:B,controlledProgress:K,progress:k||0})))},sD=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),aD=O7(sD("bounce",!0)),oD={position:"top-right",transition:aD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function lD(n){let e={...oD,...n},t=n.stacked,[s,o]=F.useState(!0),l=F.useRef(null),{getToastToRender:c,isToastActive:d,count:m}=$7(e),{className:g,style:y,rtl:_,containerId:b,hotKeys:I}=e;function z(P){let B=Ea("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":_});return Rr(g)?g({position:P,rtl:_,defaultClassName:B}):Ea(B,kg(g))}function j(){t&&(o(!0),ze.play())}return X7(()=>{var P;if(t){let B=l.current.querySelectorAll('[data-in="true"]'),q=12,L=(P=e.position)==null?void 0:P.includes("top"),k=0,H=0;Array.from(B).reverse().forEach((G,D)=>{let R=G;R.classList.add("Toastify__toast--stacked"),D>0&&(R.dataset.collapsed=`${s}`),R.dataset.pos||(R.dataset.pos=L?"top":"bot");let w=k*(s?.2:1)+(s?0:q*D);R.style.setProperty("--y",`${L?w:w*-1}px`),R.style.setProperty("--g",`${q}`),R.style.setProperty("--s",`${1-(s?H:0)}`),k+=R.offsetHeight,H+=.025})}},[s,m,t]),F.useEffect(()=>{function P(B){var q;let L=l.current;I(B)&&((q=L.querySelector('[tabIndex="0"]'))==null||q.focus(),o(!1),ze.pause()),B.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(o(!0),ze.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[I]),dt.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{t&&(o(!1),ze.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((P,B)=>{let q=B.length?{...y}:{...y,pointerEvents:"none"};return dt.createElement("div",{tabIndex:-1,className:z(P),"data-stacked":t,style:q,key:`c-${P}`},B.map(({content:L,props:k})=>dt.createElement(rD,{...k,stacked:t,collapseAll:j,isIn:d(k.toastId,k.containerId),key:`t-${k.key}`},L)))}))}const uD=()=>{const[n,e]=F.useState([]),[t,s]=F.useState(!1),[o,l]=F.useState(!1),[c,d]=F.useState(!0),m=Ft(),g=async()=>{d(!0);const b=_a().currentUser;if(!b){s(!1),e([]),d(!1);return}s(!0);const I=Ca(),z=Wt(I,"users",b.uid),j=await Tn(z);if(j.exists()){const P=j.data();l(P.subscriptionStatus==="active"),e(P.backpack||[])}d(!1)},y=async _=>{try{const I=_a().currentUser;if(!I)return;const z=Ca(),j=Wt(z,"users",I.uid);await Xo(j,{backpack:e9(_)}),ze.success("Removed from backpack"),g()}catch(b){console.error("Error removing movie:",b),ze.error("Failed to remove movie")}};return F.useEffect(()=>(g(),window.addEventListener("backpackUpdated",g),()=>window.removeEventListener("backpackUpdated",g)),[]),c?T.jsxs("div",{className:"my-backpack-container",children:[T.jsx("h1",{className:"section-heading",children:"My Backpack"}),T.jsxs("div",{className:"backpack-loader-wrapper",children:[T.jsx("div",{className:"loader"}),T.jsx("p",{className:"loader-text",children:"Data Fetching..."})]})]}):T.jsxs("div",{className:"my-backpack-container",children:[T.jsx("h1",{className:"section-heading",children:"My Backpack"}),T.jsx("div",{className:`backpack-content-wrapper ${!t||!o?"blurred":""}`,children:n.length>0?T.jsx("div",{className:"backpack-movies-section",children:n.map(_=>T.jsxs("div",{className:"backpack-movie-card",children:[T.jsxs("div",{className:"backpack-movie-card-dtl",onClick:()=>o&&m(`/movie/${_.id}`),children:[T.jsx("img",{src:`https://image.tmdb.org/t/p/w200${_.poster_path}`,alt:_.title,className:"backpack-movie-card-img"}),T.jsx("p",{className:"backpack-movie-title moviecard-title",children:_.title})]}),T.jsxs("button",{onClick:()=>o&&y(_),className:"backpack-remove-btn",disabled:!o,children:[T.jsx("i",{className:"fa-regular fa-trash-can"})," Remove"]})]},_.id))}):T.jsx("p",{children:"No movies in backpack."})}),!t&&T.jsx("div",{className:"backpack-overlay-message",children:"Please login to view your backpack"}),t&&!o&&T.jsx("div",{className:"backpack-overlay-message",children:"Subscribe to access your backpack"})]})},cD=({recommendations:n})=>{const e=Ft(),[t,s]=F.useState([]);F.useEffect(()=>{(async()=>{try{const c=Ca(),d=Wt(c,"PremiumMovieCollection","AllPremiumMovies"),m=await Tn(d);if(m.exists()){const g=m.data().PremiumMovieIds||[];s(g.map(y=>Number(y)))}}catch(c){console.error("Error fetching premium movie IDs:",c)}})()},[]);const o=l=>{e(`/moviedetails/${l}`)};return T.jsx("div",{className:"movie-sidebar",children:T.jsxs("div",{className:"movie-sidebar-cnt",children:[T.jsx("div",{className:"movie-sidebar-cnt-head",children:T.jsx("h2",{className:"section-heading",children:"Recommendation"})}),T.jsx("div",{className:"movie-sidebar-cnt-cards-list recommendation-cards-list",children:n.map(l=>T.jsx(hc,{poster:l.backdrop_path||l.poster_path,title:l.title,rating:l.vote_average,onClick:()=>o(l.id),isPremium:t.includes(l.id)},l.id))})]})})},Io=()=>{const{movieId:n}=i3(),e=xs(),t=Ft(),[s,o]=F.useState(null),[l,c]=F.useState(null),[d,m]=F.useState([]),[g,y]=F.useState(!1),[_,b]=F.useState(null),[I,z]=F.useState(!0),[j,P]=F.useState(!1),[B,q]=F.useState(!1),L=e.pathname.includes("/series/")?"tv":"movie";F.useEffect(()=>{const G=_a(),D=Ca(),R=nc(G,async w=>{if(n){try{const[C,N]=await Promise.all([Tn(Wt(D,"PremiumMovieCollection","AllPremiumMovies")),Tn(Wt(D,"PremiumMovieCollection","comingSoonPremiumMovies"))]),M=C.exists()?C.data().PremiumMovieIds||[]:[],x=N.exists()?N.data().PremiumMovieIds||[]:[],Z=[...new Set([...M,...x])],de=Number(n),K=Z.includes(de);if(P(K),!w)b(!1),q(!1);else{const ie=await Tn(Wt(D,"users",w.uid)),oe=ie.exists()&&ie.data().subscriptionStatus==="active";b(oe),q(K&&oe)}}catch(C){console.error(C),P(!1),b(!1),q(!1)}z(!1)}});return()=>R()},[n]),F.useEffect(()=>{n&&(async()=>{var D,R,w,C;try{const N="0c9eb6c7265733aad8b14540ca4cdf5f",x=await(await fetch(`https://api.themoviedb.org/3/${L}/${n}?api_key=${N}&append_to_response=videos`)).json();o(x),(R=(D=x.videos)==null?void 0:D.results)!=null&&R.length&&c(x.videos.results[0].key);const Z=(C=(w=x.production_companies)==null?void 0:w[0])==null?void 0:C.id;if(Z){const ie=(await(await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${N}&with_companies=${Z}`)).json()).results.filter(oe=>oe.id!==x.id);m(ie.slice(0,3))}}catch(N){console.error("Error fetching movie details:",N)}})()},[n,L]);const k=()=>{if(!_a().currentUser){ze.info("Please login first"),t("/login");return}localStorage.setItem("redirectAfterPayment",e.pathname),t("/subscribe")},H=async G=>{const D=_a().currentUser;if(!D)return ze.warn("Please login first");const R=Wt(Ca(),"users",D.uid),w=await Tn(R),C=w.data();if(!w.exists()||C.subscriptionStatus!=="active")return ze.warn("Subscribe to use backpack");if((C.backpack||[]).some(N=>N.id===G.id))return ze.warn("Already in backpack");await Xo(R,{backpack:Jx({id:G.id,title:G.title||G.name,poster_path:G.backdrop_path})}),ze.success("Added to backpack"),window.dispatchEvent(new Event("backpackUpdated"))};return s?T.jsxs("div",{className:"movie-details-container master-container",children:[T.jsx("div",{className:"movie-main-details",children:T.jsxs("div",{className:"movie-info",children:[l&&T.jsx("div",{className:"trailer",children:g?T.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${l}?autoplay=1`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):T.jsxs("div",{className:"trailer-relative",style:{position:"relative"},children:[T.jsx("img",{src:`https://image.tmdb.org/t/p/w500${s.backdrop_path}`,alt:s.title||s.name,className:"movie-thumbnail"}),j&&!_&&!I&&T.jsx("div",{className:"blue-overlay",children:T.jsx("button",{className:"subscribe-now-btn",onClick:k,children:"Subscribe to Watch"})}),(j&&_||!j)&&!I&&T.jsx("div",{className:"movie-play-btn-detail",onClick:()=>y(!0),style:{cursor:"pointer",position:"absolute",bottom:"15px",right:"15px",zIndex:20},children:T.jsx("div",{className:"play-btn",children:T.jsx("div",{className:"play-btn-circle",children:T.jsx("i",{className:"fa-solid fa-play btn-play"})})})})]})}),T.jsxs("div",{className:"movie-details-section",children:[T.jsxs("div",{className:"movie-details-title-with-btn",children:[T.jsx("h1",{className:"movie-details-title",children:s.title||s.name}),T.jsxs("button",{className:"add-to-backpack-btn",onClick:()=>H(s),children:[T.jsx("i",{className:"fa-regular fa-backpack"}),T.jsx("span",{children:"Add to Backpack"})]})]}),T.jsxs("p",{className:"movie-details-genres",children:[T.jsx("i",{className:"fa-light fa-film"})," ",s.genres?s.genres.slice(0,2).map(G=>G.name).join(" • "):"N/A"]}),T.jsxs("p",{className:"movie-details-rating",children:[T.jsx("i",{className:"fa-solid fa-star"})," ",s.vote_average?s.vote_average.toFixed(1):"N/A"]}),T.jsxs("p",{className:"movie-details-release-date",children:[T.jsx("i",{className:"fa-light fa-calendar-days"})," ",s.release_date||s.first_air_date||"N/A"]})]}),T.jsxs("div",{className:"movie-details-storyline-txt-section",children:[T.jsx("h5",{className:"top-rated-movie-title moviecard-title",children:"Storyline"}),T.jsx("p",{className:"movie-details-storyline",children:s.overview||"No Storyline Available."})]})]})}),d.length>0&&T.jsx(cD,{recommendations:d})]}):T.jsx("div",{children:"Loading..."})},fD=()=>{const n=Ft();return T.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[T.jsx("h1",{children:"Subscription Required"}),T.jsx("p",{children:"You need to subscribe to access this content."}),T.jsx("button",{onClick:()=>n("/subscribe"),style:{fontSize:"16px",cursor:"pointer",color:"red"},children:"Go to Subscribe Page"})]})},hD=async()=>{try{const n=zi.currentUser;if(!n)return!1;const e=Wt(Bi,"users",n.uid),t=await Tn(e);if(!t.exists())return!1;const s=t.data(),o=s.subscriptionStatus,l=s.subscriptionExpiry;if(!l)return!1;const c=l.toDate?l.toDate():new Date(l);return new Date<=c?(o!=="active"&&await Xo(e,{subscriptionStatus:"active"}),!0):(o!=="deactive"&&await Xo(e,{subscriptionStatus:"deactive"}),!1)}catch(n){return console.error("Error checking subscription:",n),!1}};var pc={};(function n(e,t,s,o){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!e.OffscreenCanvas)return!1;var A=new OffscreenCanvas(1,1),V=A.getContext("2d");V.fillRect(0,0,1,1);var ee=A.transferToImageBitmap();try{V.createPattern(ee,"no-repeat")}catch{return!1}return!0}();function m(){}function g(A){var V=t.exports.Promise,ee=V!==void 0?V:e.Promise;return typeof ee=="function"?new ee(A):(A(m,m),null)}var y=function(A,V){return{transform:function(ee){if(A)return ee;if(V.has(ee))return V.get(ee);var te=new OffscreenCanvas(ee.width,ee.height),le=te.getContext("2d");return le.drawImage(ee,0,0),V.set(ee,te),te},clear:function(){V.clear()}}}(d,new Map),_=function(){var A=Math.floor(16.666666666666668),V,ee,te={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(V=function(ae){var me=Math.random();return te[me]=requestAnimationFrame(function ge(_e){le===_e||le+A-1<_e?(le=_e,delete te[me],ae()):te[me]=requestAnimationFrame(ge)}),me},ee=function(ae){te[ae]&&cancelAnimationFrame(te[ae])}):(V=function(ae){return setTimeout(ae,A)},ee=function(ae){return clearTimeout(ae)}),{frame:V,cancel:ee}}(),b=function(){var A,V,ee={};function te(le){function ae(me,ge){le.postMessage({options:me||{},callback:ge})}le.init=function(ge){var _e=ge.transferControlToOffscreen();le.postMessage({canvas:_e},[_e])},le.fire=function(ge,_e,Me){if(V)return ae(ge,null),V;var we=Math.random().toString(36).slice(2);return V=g(function(Te){function ke(We){We.data.callback===we&&(delete ee[we],le.removeEventListener("message",ke),V=null,y.clear(),Me(),Te())}le.addEventListener("message",ke),ae(ge,we),ee[we]=ke.bind(null,{data:{callback:we}})}),V},le.reset=function(){le.postMessage({reset:!0});for(var ge in ee)ee[ge](),delete ee[ge]}}return function(){if(A)return A;if(!s&&l){var le=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{A=new Worker(URL.createObjectURL(new Blob([le])))}catch(ae){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ae),null}te(A)}return A}}(),I={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function z(A,V){return V?V(A):A}function j(A){return A!=null}function P(A,V,ee){return z(A&&j(A[V])?A[V]:I[V],ee)}function B(A){return A<0?0:Math.floor(A)}function q(A,V){return Math.floor(Math.random()*(V-A))+A}function L(A){return parseInt(A,16)}function k(A){return A.map(H)}function H(A){var V=String(A).replace(/[^0-9a-f]/gi,"");return V.length<6&&(V=V[0]+V[0]+V[1]+V[1]+V[2]+V[2]),{r:L(V.substring(0,2)),g:L(V.substring(2,4)),b:L(V.substring(4,6))}}function G(A){var V=P(A,"origin",Object);return V.x=P(V,"x",Number),V.y=P(V,"y",Number),V}function D(A){A.width=document.documentElement.clientWidth,A.height=document.documentElement.clientHeight}function R(A){var V=A.getBoundingClientRect();A.width=V.width,A.height=V.height}function w(A){var V=document.createElement("canvas");return V.style.position="fixed",V.style.top="0px",V.style.left="0px",V.style.pointerEvents="none",V.style.zIndex=A,V}function C(A,V,ee,te,le,ae,me,ge,_e){A.save(),A.translate(V,ee),A.rotate(ae),A.scale(te,le),A.arc(0,0,1,me,ge,_e),A.restore()}function N(A){var V=A.angle*(Math.PI/180),ee=A.spread*(Math.PI/180);return{x:A.x,y:A.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:A.startVelocity*.5+Math.random()*A.startVelocity,angle2D:-V+(.5*ee-Math.random()*ee),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:A.color,shape:A.shape,tick:0,totalTicks:A.ticks,decay:A.decay,drift:A.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:A.gravity*3,ovalScalar:.6,scalar:A.scalar,flat:A.flat}}function M(A,V){V.x+=Math.cos(V.angle2D)*V.velocity+V.drift,V.y+=Math.sin(V.angle2D)*V.velocity+V.gravity,V.velocity*=V.decay,V.flat?(V.wobble=0,V.wobbleX=V.x+10*V.scalar,V.wobbleY=V.y+10*V.scalar,V.tiltSin=0,V.tiltCos=0,V.random=1):(V.wobble+=V.wobbleSpeed,V.wobbleX=V.x+10*V.scalar*Math.cos(V.wobble),V.wobbleY=V.y+10*V.scalar*Math.sin(V.wobble),V.tiltAngle+=.1,V.tiltSin=Math.sin(V.tiltAngle),V.tiltCos=Math.cos(V.tiltAngle),V.random=Math.random()+2);var ee=V.tick++/V.totalTicks,te=V.x+V.random*V.tiltCos,le=V.y+V.random*V.tiltSin,ae=V.wobbleX+V.random*V.tiltCos,me=V.wobbleY+V.random*V.tiltSin;if(A.fillStyle="rgba("+V.color.r+", "+V.color.g+", "+V.color.b+", "+(1-ee)+")",A.beginPath(),c&&V.shape.type==="path"&&typeof V.shape.path=="string"&&Array.isArray(V.shape.matrix))A.fill(ie(V.shape.path,V.shape.matrix,V.x,V.y,Math.abs(ae-te)*.1,Math.abs(me-le)*.1,Math.PI/10*V.wobble));else if(V.shape.type==="bitmap"){var ge=Math.PI/10*V.wobble,_e=Math.abs(ae-te)*.1,Me=Math.abs(me-le)*.1,we=V.shape.bitmap.width*V.scalar,Te=V.shape.bitmap.height*V.scalar,ke=new DOMMatrix([Math.cos(ge)*_e,Math.sin(ge)*_e,-Math.sin(ge)*Me,Math.cos(ge)*Me,V.x,V.y]);ke.multiplySelf(new DOMMatrix(V.shape.matrix));var We=A.createPattern(y.transform(V.shape.bitmap),"no-repeat");We.setTransform(ke),A.globalAlpha=1-ee,A.fillStyle=We,A.fillRect(V.x-we/2,V.y-Te/2,we,Te),A.globalAlpha=1}else if(V.shape==="circle")A.ellipse?A.ellipse(V.x,V.y,Math.abs(ae-te)*V.ovalScalar,Math.abs(me-le)*V.ovalScalar,Math.PI/10*V.wobble,0,2*Math.PI):C(A,V.x,V.y,Math.abs(ae-te)*V.ovalScalar,Math.abs(me-le)*V.ovalScalar,Math.PI/10*V.wobble,0,2*Math.PI);else if(V.shape==="star")for(var Ae=Math.PI/2*3,ut=4*V.scalar,ct=8*V.scalar,Xe=V.x,kt=V.y,Zt=5,Pt=Math.PI/Zt;Zt--;)Xe=V.x+Math.cos(Ae)*ct,kt=V.y+Math.sin(Ae)*ct,A.lineTo(Xe,kt),Ae+=Pt,Xe=V.x+Math.cos(Ae)*ut,kt=V.y+Math.sin(Ae)*ut,A.lineTo(Xe,kt),Ae+=Pt;else A.moveTo(Math.floor(V.x),Math.floor(V.y)),A.lineTo(Math.floor(V.wobbleX),Math.floor(le)),A.lineTo(Math.floor(ae),Math.floor(me)),A.lineTo(Math.floor(te),Math.floor(V.wobbleY));return A.closePath(),A.fill(),V.tick<V.totalTicks}function x(A,V,ee,te,le){var ae=V.slice(),me=A.getContext("2d"),ge,_e,Me=g(function(we){function Te(){ge=_e=null,me.clearRect(0,0,te.width,te.height),y.clear(),le(),we()}function ke(){s&&!(te.width===o.width&&te.height===o.height)&&(te.width=A.width=o.width,te.height=A.height=o.height),!te.width&&!te.height&&(ee(A),te.width=A.width,te.height=A.height),me.clearRect(0,0,te.width,te.height),ae=ae.filter(function(We){return M(me,We)}),ae.length?ge=_.frame(ke):Te()}ge=_.frame(ke),_e=Te});return{addFettis:function(we){return ae=ae.concat(we),Me},canvas:A,promise:Me,reset:function(){ge&&_.cancel(ge),_e&&_e()}}}function Z(A,V){var ee=!A,te=!!P(V||{},"resize"),le=!1,ae=P(V,"disableForReducedMotion",Boolean),me=l&&!!P(V||{},"useWorker"),ge=me?b():null,_e=ee?D:R,Me=A&&ge?!!A.__confetti_initialized:!1,we=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Te;function ke(Ae,ut,ct){for(var Xe=P(Ae,"particleCount",B),kt=P(Ae,"angle",Number),Zt=P(Ae,"spread",Number),Pt=P(Ae,"startVelocity",Number),Hn=P(Ae,"decay",Number),ks=P(Ae,"gravity",Number),Nr=P(Ae,"drift",Number),Dr=P(Ae,"colors",k),Pa=P(Ae,"ticks",Number),mt=P(Ae,"shapes"),Je=P(Ae,"scalar"),yn=!!P(Ae,"flat"),Vt=G(Ae),Ps=Xe,Vs=[],Hi=A.width*Vt.x,Fi=A.height*Vt.y;Ps--;)Vs.push(N({x:Hi,y:Fi,angle:kt,spread:Zt,startVelocity:Pt,color:Dr[Ps%Dr.length],shape:mt[q(0,mt.length)],ticks:Pa,decay:Hn,gravity:ks,drift:Nr,scalar:Je,flat:yn}));return Te?Te.addFettis(Vs):(Te=x(A,Vs,_e,ut,ct),Te.promise)}function We(Ae){var ut=ae||P(Ae,"disableForReducedMotion",Boolean),ct=P(Ae,"zIndex",Number);if(ut&&we)return g(function(Pt){Pt()});ee&&Te?A=Te.canvas:ee&&!A&&(A=w(ct),document.body.appendChild(A)),te&&!Me&&_e(A);var Xe={width:A.width,height:A.height};ge&&!Me&&ge.init(A),Me=!0,ge&&(A.__confetti_initialized=!0);function kt(){if(ge){var Pt={getBoundingClientRect:function(){if(!ee)return A.getBoundingClientRect()}};_e(Pt),ge.postMessage({resize:{width:Pt.width,height:Pt.height}});return}Xe.width=Xe.height=null}function Zt(){Te=null,te&&(le=!1,e.removeEventListener("resize",kt)),ee&&A&&(document.body.contains(A)&&document.body.removeChild(A),A=null,Me=!1)}return te&&!le&&(le=!0,e.addEventListener("resize",kt,!1)),ge?ge.fire(Ae,Xe,Zt):ke(Ae,Xe,Zt)}return We.reset=function(){ge&&ge.reset(),Te&&Te.reset()},We}var de;function K(){return de||(de=Z(null,{useWorker:!0,resize:!0})),de}function ie(A,V,ee,te,le,ae,me){var ge=new Path2D(A),_e=new Path2D;_e.addPath(ge,new DOMMatrix(V));var Me=new Path2D;return Me.addPath(_e,new DOMMatrix([Math.cos(me)*le,Math.sin(me)*le,-Math.sin(me)*ae,Math.cos(me)*ae,ee,te])),Me}function oe(A){if(!c)throw new Error("path confetti are not supported in this browser");var V,ee;typeof A=="string"?V=A:(V=A.path,ee=A.matrix);var te=new Path2D(V),le=document.createElement("canvas"),ae=le.getContext("2d");if(!ee){for(var me=1e3,ge=me,_e=me,Me=0,we=0,Te,ke,We=0;We<me;We+=2)for(var Ae=0;Ae<me;Ae+=2)ae.isPointInPath(te,We,Ae,"nonzero")&&(ge=Math.min(ge,We),_e=Math.min(_e,Ae),Me=Math.max(Me,We),we=Math.max(we,Ae));Te=Me-ge,ke=we-_e;var ut=10,ct=Math.min(ut/Te,ut/ke);ee=[ct,0,0,ct,-Math.round(Te/2+ge)*ct,-Math.round(ke/2+_e)*ct]}return{type:"path",path:V,matrix:ee}}function pe(A){var V,ee=1,te="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof A=="string"?V=A:(V=A.text,ee="scalar"in A?A.scalar:ee,le="fontFamily"in A?A.fontFamily:le,te="color"in A?A.color:te);var ae=10*ee,me=""+ae+"px "+le,ge=new OffscreenCanvas(ae,ae),_e=ge.getContext("2d");_e.font=me;var Me=_e.measureText(V),we=Math.ceil(Me.actualBoundingBoxRight+Me.actualBoundingBoxLeft),Te=Math.ceil(Me.actualBoundingBoxAscent+Me.actualBoundingBoxDescent),ke=2,We=Me.actualBoundingBoxLeft+ke,Ae=Me.actualBoundingBoxAscent+ke;we+=ke+ke,Te+=ke+ke,ge=new OffscreenCanvas(we,Te),_e=ge.getContext("2d"),_e.font=me,_e.fillStyle=te,_e.fillText(V,We,Ae);var ut=1/ee;return{type:"bitmap",bitmap:ge.transferToImageBitmap(),matrix:[ut,0,0,ut,-we*ut/2,-Te*ut/2]}}t.exports=function(){return K().apply(this,arguments)},t.exports.reset=function(){K().reset()},t.exports.create=Z,t.exports.shapeFromPath=oe,t.exports.shapeFromText=pe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),pc,!1);const Gp=pc.exports;pc.exports.create;const dD=()=>{const n=Ft();return F.useEffect(()=>{(async()=>{if(!await hD()){n("/subscribe");return}if(!sessionStorage.getItem("hasCelebrated")){const l=Date.now()+2e3,c=()=>{Gp({particleCount:80,angle:60,spread:55,origin:{x:0,y:1},colors:["#FF4C60","#4CD7FF","#FFD93D","#4CFF81"],shapes:["square"]}),Gp({particleCount:80,angle:120,spread:55,origin:{x:1,y:1},colors:["#FF4C60","#4CD7FF","#FFD93D","#4CFF81"],shapes:["square"]})},d=()=>{Gp({particleCount:100,spread:360,startVelocity:50,origin:{y:0},colors:["#FF4C60","#4CD7FF","#FFD93D","#4CFF81"],shapes:["square"]})};c(),d();const m=setTimeout(()=>{Date.now()<l&&c()},1e3);return sessionStorage.setItem("hasCelebrated","true"),()=>clearTimeout(m)}})()},[n]),T.jsx("div",{className:"premium",children:T.jsxs("div",{className:"premium-content",children:[T.jsx("i",{className:"fa-solid fa-crown fa-bounce premium-icon"}),T.jsx("h1",{className:"premium-txt-title",children:"Welcome to Premium 🎉"}),T.jsx("p",{className:"premium-txt",children:"Enjoy unlimited, ad-free streaming with exclusive movies, series, and more."})]})})},mD=({children:n})=>{const[e,t]=F.useState(null);return F.useEffect(()=>{const s=nc(zi,async o=>{var l,c;if(!o){t(!1);return}try{const m=(await Tn(Wt(Bi,"users",o.uid))).data(),g=(c=(l=m==null?void 0:m.subscriptionExpiry)==null?void 0:l.toDate)==null?void 0:c.call(l),y=(m==null?void 0:m.subscriptionStatus)==="active"&&g&&g>new Date;t(y)}catch(d){console.error("Error fetching subscription:",d),t(!1)}});return()=>s()},[]),e===null?T.jsx("div",{children:"Loading..."}):e?n:T.jsx(NE,{to:"/subscribe"})},pD=()=>{const n=Ft(),[e,t]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState(!1),d=async m=>{m.preventDefault(),c(!0);try{const y=(await pb(zi,e,s)).user,_=Wt(Bi,"users",y.uid);if((await Tn(_)).exists())await xh(_,{lastLogin:Sg()},{merge:!0});else{const I=new Date;await xh(_,{email:y.email,lastLogin:Sg(),subscriptionStatus:"deactive",subscriptionExpiry:It.fromDate(I)},{merge:!0})}ze.success("Login successful!"),n("/")}catch(g){console.error("Login failed:",g),ze.error("Login failed. Please check credentials or network.")}finally{c(!1)}};return T.jsx(T.Fragment,{children:l?T.jsxs("div",{className:"auth-loading",children:[T.jsxs("div",{className:"film-loader",children:[T.jsx("div",{className:"reel left-reel"}),T.jsx("div",{className:"strip"}),T.jsx("div",{className:"reel right-reel"})]}),T.jsx("h3",{children:"🍿 Popcorn Ready ? We’re Loading..."})]}):T.jsx("div",{className:"auth",children:T.jsxs("div",{className:"auth-content",children:[T.jsx("div",{className:"auth-heading",children:T.jsx(_s,{to:"/",children:T.jsx("img",{src:jn.logo,alt:"cinefix-logo",className:"logo"})})}),T.jsxs("div",{className:"auth-form",children:[T.jsx("h2",{className:"auth-title",children:"Login"}),T.jsxs("form",{onSubmit:d,children:[T.jsxs("div",{className:"auth-input-field",children:[T.jsx("h6",{className:"auth-input-title",children:"Email Address"}),T.jsx("input",{type:"text",placeholder:"Email",className:"auth-input",value:e,onChange:m=>t(m.target.value)})]}),T.jsxs("div",{className:"auth-input-field",children:[T.jsx("h6",{className:"auth-input-title",children:"Password"}),T.jsx("input",{type:"password",placeholder:"Password",className:"auth-input",value:s,onChange:m=>o(m.target.value)})]}),T.jsx("button",{className:"auth-btn",type:"submit",children:"Login"})]}),T.jsxs("p",{className:"auth-already-account",children:["Don't have an account? ",T.jsx(_s,{to:"/signup",children:"Signup"})]})]})]})})})},gD=()=>{const[n,e]=F.useState(""),[t,s]=F.useState(""),o=Ft();F.useEffect(()=>(document.body.classList.add("reset-css"),()=>{document.body.classList.remove("reset-css")}),[]);const l=async()=>{try{const c=await bC(zi,n,t);ze.success("Signup successful!"),await pb(zi,n,t),o("/")}catch(c){c.code==="auth/email-already-in-use"?ze.error("User already registered."):ze.error("Signup failed. Please check credentials or network.")}};return T.jsx(T.Fragment,{children:T.jsx("div",{className:"auth",children:T.jsxs("div",{className:"auth-content",children:[T.jsx("div",{className:"auth-heading",children:T.jsx(_s,{to:"/",children:T.jsx("img",{src:jn.logo,alt:"cinefix-logo",className:"logo"})})}),T.jsxs("div",{className:"auth-form",children:[T.jsx("h2",{className:"auth-title",children:"Create Account"}),T.jsxs("div",{className:"auth-input-field",children:[T.jsx("h6",{className:"auth-input-title",children:"Email Address"}),T.jsx("input",{type:"text",placeholder:"Email",className:"auth-input",onChange:c=>e(c.target.value)})]}),T.jsxs("div",{className:"auth-input-field",children:[T.jsx("h6",{className:"auth-input-title",children:"Password"}),T.jsx("input",{type:"password",placeholder:"Password",className:"auth-input",onChange:c=>s(c.target.value)})]}),T.jsx("button",{className:"auth-btn",onClick:l,onKeyDown:c=>{c.key==="Enter"&&handleLogin()},children:"Create Account"}),T.jsxs("p",{className:"auth-already-account",children:["Already have an account? ",T.jsx(_s,{to:"/login",children:"Login"})]})]})]})})})},yD=({children:n})=>{const{user:e}=M0();return e?n:T.jsx(NE,{to:"/login"})},vD=()=>(localStorage.getItem("subscribed"),T.jsx(rS,{children:T.jsxs(_3,{children:[T.jsx(Rt,{path:"/movies",element:T.jsx(m7,{})}),T.jsx(Rt,{path:"/series",element:T.jsx(p7,{})}),T.jsx(Rt,{path:"/tvshows",element:T.jsx(g7,{})}),T.jsx(Rt,{path:"/subscribe",element:T.jsx(v7,{})}),T.jsx(Rt,{path:"/profile",element:T.jsx(_7,{})}),T.jsx(Rt,{path:"/",element:T.jsx(yE,{})}),T.jsx(Rt,{path:"/search",element:T.jsx(A7,{})}),T.jsx(Rt,{path:"/toprated",element:T.jsx(C7,{})}),T.jsx(Rt,{path:"/mybackpack",element:T.jsx(uD,{})}),T.jsx(Rt,{path:"/toprated/:movieId",element:T.jsx(Io,{})}),T.jsx(Rt,{path:"/movies/:movieId",element:T.jsx(Io,{})}),T.jsx(Rt,{path:"/series/:movieId",element:T.jsx(Io,{})}),T.jsx(Rt,{path:"/tvshows/:movieId",element:T.jsx(Io,{})}),T.jsx(Rt,{path:"/moviedetails/:movieId",element:T.jsx(Io,{})}),T.jsx(Rt,{path:"/:contentType/:movieId",element:T.jsx(Io,{})}),T.jsx(Rt,{path:"/subscribenotify",element:T.jsx(fD,{})}),T.jsx(Rt,{path:"/",element:T.jsx(yD,{children:T.jsx(yE,{})})}),T.jsx(Rt,{path:"/premium",element:T.jsx(mD,{children:T.jsx(dD,{})})}),T.jsx(Rt,{path:"/login",element:T.jsx(pD,{})}),T.jsx(Rt,{path:"/signup",element:T.jsx(gD,{})})]})})),_D=()=>{const n=xs(),t=["/subscribe","/paymentsuccessfull","/login","/signup"].includes(n.pathname);return F.useEffect(()=>(t?document.body.classList.add("reset-css"):document.body.classList.remove("reset-css"),()=>document.body.classList.remove("reset-css")),[n.pathname,t]),T.jsxs(T.Fragment,{children:[!t&&T.jsx(i9,{}),T.jsx("div",{className:"app-layout",children:T.jsxs("main",{className:"main-cnt",children:[T.jsx(vD,{}),T.jsx(lD,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark",toastClassName:"custom-toast"})]})})]})},ED={movies:[]},FS=ya({name:"backpack",initialState:ED,reducers:{addToBackpack:(n,e)=>{n.movies.find(s=>s.id===e.payload.id)||(n.movies.push(e.payload),localStorage.setItem("backpack",JSON.stringify(n.movies)))},removeFromBackpack:(n,e)=>{n.movies=n.movies.filter(t=>t.id!==e.payload.id),localStorage.setItem("backpack",JSON.stringify(n.movies))},loadBackpack:n=>{const e=JSON.parse(localStorage.getItem("backpack"))||[];n.movies=e}}}),{addToBackpack:CD,removeFromBackpack:ID,loadBackpack:xD}=FS.actions,bD=FS.reducer,TD=U9({reducer:{[oh.reducerPath]:oh.reducer,backpack:bD},middleware:n=>n().concat(oh.middleware)});localStorage.removeItem("isSubscribed");localStorage.removeItem("isPremiumMovie");xA.createRoot(document.getElementById("root")).render(T.jsx(F.StrictMode,{children:T.jsx(rS,{children:T.jsx(C3,{children:T.jsx(FN,{store:TD,children:T.jsx(_D,{})})})})}))});export default SD();
